{"version":3,"sources":["webpack:///../node_modules/@action-streams/core/dist/index.js","webpack:///../node_modules/@action-streams/location/dist/index.js","webpack:///../node_modules/@action-streams/state/dist/index.js","webpack:///../node_modules/@action-streams/storage/dist/index.js","webpack:///../node_modules/@action-streams/vdom/dist/index.js","webpack:///../node_modules/@most/core/node_modules/@most/disposable/dist/index.es.js","webpack:///../node_modules/@most/core/dist/index.es.js","webpack:///../node_modules/@most/prelude/dist/index.es.js","webpack:///../node_modules/@most/scheduler/dist/index.es.js","webpack:///../node_modules/browser-split/index.js","webpack:///./styles.css","webpack:///../node_modules/css-loader/dist/runtime/api.js","webpack:///../node_modules/css-loader/dist/runtime/cssWithMappingToString.js","webpack:///../node_modules/ev-store/index.js","webpack:///../node_modules/global/document.js","webpack:///../node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///../node_modules/history/index.js","webpack:///../node_modules/individual/index.js","webpack:///../node_modules/individual/one-version.js","webpack:///../node_modules/is-object/index.js","webpack:///../node_modules/most-subject/node_modules/@most/prelude/dist/index.es.js","webpack:///../node_modules/most-subject/lib.es2015/attach.js","webpack:///../node_modules/most-subject/node_modules/@most/scheduler/dist/index.es.js","webpack:///../node_modules/@most/disposable/dist/index.es.js","webpack:///../node_modules/most-subject/node_modules/@most/core/dist/mostCore.es.js","webpack:///../node_modules/most-subject/lib.es2015/ProxyStream.js","webpack:///../node_modules/most-subject/lib.es2015/create.js","webpack:///../node_modules/most-subject/lib.es2015/end.js","webpack:///../node_modules/most-subject/lib.es2015/error.js","webpack:///../node_modules/most-subject/lib.es2015/event.js","webpack:///../node_modules/next-tick/index.js","webpack:///../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///../node_modules/virtual-dom/create-element.js","webpack:///../node_modules/virtual-dom/diff.js","webpack:///../node_modules/virtual-dom/h.js","webpack:///../node_modules/virtual-dom/index.js","webpack:///../node_modules/virtual-dom/patch.js","webpack:///../node_modules/virtual-dom/vdom/apply-properties.js","webpack:///../node_modules/virtual-dom/vdom/create-element.js","webpack:///../node_modules/virtual-dom/vdom/dom-index.js","webpack:///../node_modules/virtual-dom/vdom/patch-op.js","webpack:///../node_modules/virtual-dom/vdom/patch.js","webpack:///../node_modules/virtual-dom/vdom/update-widget.js","webpack:///../node_modules/virtual-dom/virtual-hyperscript/hooks/ev-hook.js","webpack:///../node_modules/virtual-dom/virtual-hyperscript/hooks/soft-set-hook.js","webpack:///../node_modules/virtual-dom/virtual-hyperscript/index.js","webpack:///../node_modules/virtual-dom/virtual-hyperscript/parse-tag.js","webpack:///../node_modules/virtual-dom/vnode/handle-thunk.js","webpack:///../node_modules/virtual-dom/vnode/is-thunk.js","webpack:///../node_modules/virtual-dom/vnode/is-vhook.js","webpack:///../node_modules/virtual-dom/vnode/is-vnode.js","webpack:///../node_modules/virtual-dom/vnode/is-vtext.js","webpack:///../node_modules/virtual-dom/vnode/is-widget.js","webpack:///../node_modules/virtual-dom/vnode/version.js","webpack:///../node_modules/virtual-dom/vnode/vnode.js","webpack:///../node_modules/virtual-dom/vnode/vpatch.js","webpack:///../node_modules/virtual-dom/vnode/vtext.js","webpack:///../node_modules/virtual-dom/vtree/diff-props.js","webpack:///../node_modules/virtual-dom/vtree/diff.js","webpack:///../node_modules/x-is-array/index.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./action.ts","webpack:///./state/reducer/index.ts","webpack:///./state/reducer/focusedElementId.ts","webpack:///./state/reducer/input.ts","webpack:///./state/reducer/items.ts","webpack:///./state/reducer/view.ts","webpack:///./state/index.ts","webpack:///../node_modules/clsx/dist/clsx.m.js","webpack:///./utils.ts","webpack:///./styles.css?072f","webpack:///./vdom.tsx","webpack:///./index.ts","webpack:///./storage.ts"],"names":["Object","defineProperty","exports","value","scheduler","createAction","byTypes","byType","bySuccess","byError","action$","scheduler_1","most_subject_1","_a","create","sink","action","event","currentTime","newDefaultScheduler","error","type","types","includes","core_1","core_2","history_1","history","createHashHistory","LocationActionType","stream","toAction","location","payload","location$","startWith","listen","obj","state","keys","reduce","acc","key","reducer","StorageActionType","window","localStorage","getItem","Error","now","JSON","parse","setItem","stringify","__assign","this","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__importDefault","mod","__esModule","VdomActionType","renderTo","jsx","next_tick_1","virtual_dom_1","HookFocus","hook","node","default","document","activeElement","focus","hookFocus","tagName","properties","children","undefined","focused","h","root","prevVdom","prevElement","vdom","element","patches","diff","patch","appendChild","disposeNone","NONE","DisposeNone","dispose","disposeOnce","disposable","DisposeOnce","disposed","DisposeWithImpl","resource","_dispose","_resource","disposeAll","ds","merged","merge","DisposeAll","disposeBoth","d1","d2","d","isDisposeNone","disposables","throwIfErrors","disposeCollectErrors","appendIfError","errors","e","push","DisposeAllError","message","name","captureStackTrace","stack","formatErrorStacks","formatErrorStack","tryDispose","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","constructor","fatalError","setTimeout","rethrow","propagateTask","run","PropagateRunEventTask","propagateEventTask","PropagateEventTask","propagateEndTask","PropagateEndTask","propagateErrorTask","PropagateErrorTask","PropagateTask","active","runIfActive","_super","runEvent","_this","end","empty","EMPTY","isCanonicalEmpty","containsCanonicalEmpty","streams","some","Empty","asap","never","NEVER","Never","at","x","At","time","delay","runAt","periodic","period","Periodic","newStream","StreamImpl","SettableDisposable","setDisposable","runEffects","Promise","resolve","reject","observer","RunEffectsSink","runStream","_end","_error","_disposable","_t","RelativeSink","offset","withLocalTime","origin","WithLocalTime","source","relativeSink","schedulerRelativeTo","Pipe","Loop","stepper","seed","step","LoopSink","result","Scan","f","z","ScanSink","continueWith","ContinueWith","ContinueWithSink","startNext","continue","Filter","FilterSink","and","q","FilterMap","FilterMapSink","Map","MapSink","map","Tap","TapSink","IndexSink","index","invoke","args","combine","stream1","stream2","combineArray","Combine","sources","l","sinks","mergeSink","CombineSink","indexSink","awaiting","values","hasValue","fill","activeCount","indexedValue","updateReady","mergeConcurrently","concurrency","mergeMapConcurrently","id","MergeConcurrently","Outer","pending","current","addInner","startInner","initInner","innerSink","Inner","mapAndRun","checkEnd","endInner","inner","indexOf","splice","shift","outer","join","Infinity","mergeArray","mergeStreams","withoutCanonicalEmpty","Merge","appendSources","filter","isNotCanonicalEmpty","concat","MergeSink","indexValue","snapshot","sampler","Snapshot","sampleSink","SnapshotSink","valuesDisposable","latest","samplerDisposable","LatestValueSink","boundsFrom","unsafeMin","unsafeMax","min","Math","max","take","slice","start","sliceBounds","bounds","isSliceEmpty","commuteMapSlice","Slice","fuseSlice","createSlice","mapStream","sliceStream","b1","b2","sliceSink","SliceSink","skip","TakeWhile","takeWhileSink","TakeWhileSink","SkipWhile","SkipWhileSink","skipping","SkipAfter","SkipAfterSink","zipItems","items","ZipItems","keepLeft","a","ZipItemsSink","Queue","head","tail","capacityMask","list","growArray","shrinkArray","isEmpty","copyArray","newArray","len","zipArray","Zip","buffers","zipSink","ZipSink","buffer","ready","emitZipped","ended","switchLatest","Switch","switchSink","SwitchSink","disposeCurrent","Segment","disposeInner","errorInner","skipRepeats","skipRepeatsWith","same","equals","SkipRepeats","SkipRepeatsSink","init","until","signal","Until","since","Since","maxSignal","UntilSink","minSignal","LowerBoundSink","SinceSink","allow","Delay","dt","delaySink","DelaySink","tasks","forEach","cancelTask","throttle","commuteMapThrottle","Throttle","fuseThrottle","throttleStream","ThrottleSink","Debounce","DebounceSink","timer","clearTimer","DebounceTask","handleEventFromTask","awaitPromises","Await","fromPromise","promise","AwaitSink","eventBound","endBound","errorBound","queue","then","handlePromise","catch","SafeSink","disable","tryEvent","tryEnd","throwError","ErrorStream","RecoverWith","RecoverWithSink","nextSink","_startNext","_continue","multicast","Multicast","MulticastSource","add","MulticastDisposable","remove","err","run$1","withLocalTime$1","loop$1","scan$1","initial","startWith$1","map$1","constant$1","tap$1","ap$1","fs","xs","chain$1","continueWith$1","concatMap$1","mergeConcurrently$1","mergeMapConcurrently$1","merge$1","combine$1","combineArray$1","sample$1","snapshot$1","zipItems$1","withItems$1","zip$1","zipArray$1","filter$1","skipRepeatsWith$1","take$1","skip$1","slice$1","takeWhile$1","skipWhile$1","skipAfter$1","until$1","since$1","during$1","timeWindow","delay$1","delayTime","throttle$1","debounce$1","recoverWith$1","propagateTask$1","propagateEventTask$1","propagateErrorTask$1","append","al","bl","r","j","TypeError","unsafeRemove","removeAll","findIndex","compose","g","curry2","curried","curry3","c","ScheduledTaskImpl","localOffset","task","cancel","RelativeScheduler","scheduleTask","relative","cancelAll","runTask","SchedulerImpl","timeline","_runReadyTasksBound","_runReadyTasks","_timer","_nextArrival","st","_scheduleNextRun","_reschedule","_unschedule","nextArrival","_scheduleNextArrival","setTimer","runTasks","TimelineImpl","insertByTime","binarySearch","getTime","events","removeAllFrom","runReadyTasks","timeslots","newTimeslot","timeslot","spliceEvent","addEvent","insertAtTimeslot","scheduledTask","floor","sortedArray","mid","y","lo","hi","ClockTimer","clock","_clock","Asap","defer","runAsap","clearTimeout","RelativeClock","HRTimeClock","hrtime","hrt","clockRelativeTo","newPerformanceClock","performance","newDateClock","Date","newHRTimeClock","process","newPlatformClock","cancelAllTasks","predicate","console","warn","newScheduler","newDefaultTimer","newClockTimer","newTimeline","undef","nativeSplit","compliantExecNpcg","module","String","split","exec","str","separator","limit","toString","separator2","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","extended","sticky","lastLastIndex","RegExp","replace","test","___CSS_LOADER_EXPORT___","cssWithMappingToString","item","content","modules","mediaQuery","dedupe","alreadyImportedModules","_i","_arrayLikeToArray","arr","arr2","_item","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","next","done","_iterableToArrayLimit","o","minLen","from","_unsupportedIterableToArray","_nonIterableRest","cssMapping","btoa","base64","unescape","encodeURIComponent","data","sourceMapping","sourceURLs","sourceRoot","OneVersionConstraint","hashKey","elem","hash","doccy","topLevel","minDoc","_extends","target","m","Pop","Push","Replace","A","preventDefault","returnValue","B","D","random","substr","E","pathname","search","F","createBrowserHistory","idx","usr","v","go","defaultView","addEventListener","retry","replaceState","createHref","w","k","C","pushState","G","u","back","forward","block","removeEventListener","querySelector","getAttribute","href","H","createMemoryHistory","initialEntries","initialIndex","Individual","moduleName","version","defaultValue","versionValue","attach","ScheduledTask","Scheduler","this$1","Timeline","DisposeWith","runEnd","runError","_run","_","zipArrayValues$1","array","ZipArrayValues","ZipArrayValuesSink","Pipe$$1","runEffects$1","tryDispose$1","map$2","Sink","_updateReady","LinkedList","prev","promises","all","_addInner","_startInner","_initInner","_checkEnd","_endInner","Sample","SampleSink","sourceDisposable","hold","SampleHold","capPow2","_capacity","_length","_head","_checkCapacity","size","_ensureCapacity","capacity","oldCapacity","last","src","srcIndex","dst","dstIndex","_disposeCurrent","_disposeInner","_errorInner","sliceSource","fusedStart","fusedEnd","Bound","UpperBound","TimeWindowSink","LowerBound","_clearTimer","_eventBound","_endBound","_errorBound","_event","ProxyStream","attached","running","ProxyDisposable","cleanup","ensureCallable","fn","byObserver","Observer","currentQueue","createTextNode","callback","observe","characterData","nextTick","queueMicrotask","cb","MutationObserver","WebKitMutationObserver","setImmediate","memo","getTarget","styleTarget","HTMLIFrameElement","contentDocument","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","options","idCountMap","identifiers","base","count","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","setAttribute","insert","textStore","replaceText","replacement","Boolean","applyToSingletonTag","styleSheet","cssText","cssNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","firstChild","singleton","singletonCounter","update","styleIndex","bind","parentNode","removeStyleElement","newObj","atob","lastIdentifiers","newList","newLastIdentifiers","_index","VNode","VText","isObject","isHook","removeProperty","propName","propValue","previous","previousValue","unhook","attrName","patchObject","props","getPrototype","replacer","attrValue","getPrototypeOf","applyProperties","isVNode","isVText","isWidget","handleThunk","vnode","opts","doc","text","namespace","createElementNS","childNode","noChild","recurse","rootNode","tree","indices","nodes","rootIndex","indexInRange","vChildren","vChild","nextIndex","left","right","currentIndex","currentItem","minIndex","maxIndex","ascending","sort","VPatch","updateWidget","destroyWidget","domNode","destroy","vpatch","renderOptions","oldRoot","newRoot","vNode","REMOVE","removeNode","INSERT","newNode","render","insertNode","VTEXT","leftVNode","vText","nodeType","replaceData","replaceChild","stringPatch","WIDGET","widget","updating","widgetPatch","VNODE","vNodePatch","ORDER","moves","keyMap","removes","inserts","to","reorderChildren","PROPS","THUNK","domIndex","patchOp","patchRecursive","Number","patchIndices","ownerDocument","nodeIndex","applyPatch","patchList","EvStore","EvHook","propertyName","SoftSetHook","isVThunk","parseTag","softSetHook","evHook","addChild","tag","isChild","foreignObject","parentVnode","errorString","transformProperties","classIdSplit","notClassId","classes","part","noId","tagParts","charAt","substring","className","toUpperCase","isThunk","renderThunk","thunk","renderedThunk","renderedA","renderedB","isVHook","VirtualNode","noProperties","noChildren","hooks","descendants","hasWidgets","hasThunks","descendantHooks","property","child","VirtualPatch","VirtualText","diffProps","aKey","aValue","bValue","objectDiff","bKey","walk","applyClear","thunks","clearState","appendPatch","propsPatch","aChildren","orderedSet","bChildren","bChildIndex","keyIndex","bKeys","bFree","free","aChildIndex","aKeys","newChildren","freeIndex","freeCount","deletedItems","itemIndex","aItem","lastFreeIndex","newItem","simulateItem","simulate","simulateIndex","wantedItem","reorder","aLen","bLen","leftNode","rightNode","diffChildren","destroyWidgets","thunkPatch","hasPatches","undefinedKeys","nativeIsArray","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","getter","definition","enumerable","get","globalThis","Function","prop","toStringTag","InputActionType","ItemAddActionType","ItemEditActionType","ItemInputActionType","ItemRemoveActionType","ItemUpdateActionType","ItemToggleActionType","ItemsRemoveActionType","ItemsToggleActionType","focusedElementId","meta","input","isCompleted","isEditing","title","view","View","Active","Completed","All","StateActionType","INITIAL_STATE_ACTION","toVal","mix","tmp","isActive","ENTER_KEY","LOCALSTORAGE_KEY","storageRead$","sources$","storageItem","completed","state$","scan","prevState","storageWrite$","tap","vdom$","activeItems","completedItems","filteredItems","autofocus","maxLength","onblur","trim","oninput","onkeydown","placeholder","hidden","checked","onchange","htmlFor","editing","dataId","ondblclick","onclick","selected","dom$","getElementById"],"mappings":"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","file":"bundle.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.scheduler = exports.createAction = exports.byTypes = exports.byType = exports.bySuccess = exports.byError = exports.action$ = void 0;\nvar scheduler_1 = require(\"@most/scheduler\");\nvar most_subject_1 = require(\"most-subject\");\nvar _a = most_subject_1.create(), sink = _a[0], action$ = _a[1];\nexports.action$ = action$;\nvar createAction = function (action) {\n    most_subject_1.event(scheduler_1.currentTime(scheduler), action, sink);\n};\nexports.createAction = createAction;\nvar scheduler = scheduler_1.newDefaultScheduler();\nexports.scheduler = scheduler;\nvar byError = function (action) { var _a; return (_a = action === null || action === void 0 ? void 0 : action.error) !== null && _a !== void 0 ? _a : false; };\nexports.byError = byError;\nvar bySuccess = function (action) { return !(action === null || action === void 0 ? void 0 : action.error); };\nexports.bySuccess = bySuccess;\nvar byType = function (type) { return function (action) {\n    return (action === null || action === void 0 ? void 0 : action.type) === type;\n}; };\nexports.byType = byType;\nvar byTypes = function (types) { return function (action) {\n    return types.includes(action === null || action === void 0 ? void 0 : action.type);\n}; };\nexports.byTypes = byTypes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LocationActionType = exports.location$ = void 0;\nvar core_1 = require(\"@action-streams/core\");\nvar core_2 = require(\"@most/core\");\nvar scheduler_1 = require(\"@most/scheduler\");\nvar history_1 = require(\"history\");\nvar most_subject_1 = require(\"most-subject\");\nvar history = history_1.createHashHistory();\nvar LocationActionType = 'location';\nexports.LocationActionType = LocationActionType;\nvar _a = most_subject_1.create(), sink = _a[0], stream = _a[1];\nvar toAction = function (location) { return ({\n    payload: location,\n    type: LocationActionType,\n}); };\nvar location$ = core_2.startWith(toAction(history.location), stream);\nexports.location$ = location$;\nhistory.listen(function (_a) {\n    var location = _a.location;\n    most_subject_1.event(scheduler_1.currentTime(core_1.scheduler), toAction(location), sink);\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.combineReducers = void 0;\nvar combineReducers = function (obj) { return function (state, action) {\n    var keys = Object.keys(obj);\n    return keys.reduce(function (acc, key) {\n        var reducer = obj[key];\n        acc[key] = reducer(state[key], action);\n        return acc;\n    }, {});\n}; };\nexports.combineReducers = combineReducers;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.writeTo = exports.StorageActionType = exports.readFrom = void 0;\nvar core_1 = require(\"@most/core\");\nvar StorageActionType = 'storage';\nexports.StorageActionType = StorageActionType;\n// @todo handle other storage locations\nvar readFrom = function (key) {\n    var value = window.localStorage.getItem(key);\n    try {\n        if (value === null) {\n            throw new Error('not found');\n        }\n        return core_1.now({\n            payload: JSON.parse(value),\n            type: StorageActionType,\n        });\n    }\n    catch (error) {\n        return core_1.now({\n            error: true,\n            payload: error,\n            type: StorageActionType,\n        });\n    }\n};\nexports.readFrom = readFrom;\n// @todo handle other storage locations\n// @todo diff to avoid useless writes\nvar writeTo = function (key) { return function (action) {\n    if (action.type === StorageActionType) {\n        window.localStorage.setItem(key, JSON.stringify(action.payload));\n    }\n}; };\nexports.writeTo = writeTo;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VdomActionType = exports.renderTo = exports.jsx = void 0;\nvar next_tick_1 = __importDefault(require(\"next-tick\"));\nvar virtual_dom_1 = require(\"virtual-dom\");\nvar VdomActionType = 'vdom';\nexports.VdomActionType = VdomActionType;\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction HookFocus() { }\nHookFocus.prototype.hook = function (node) {\n    next_tick_1.default(function () {\n        if (document.activeElement !== node) {\n            node.focus();\n        }\n    });\n};\nvar hookFocus = new HookFocus();\nvar jsx = function (tagName, properties, children) {\n    if ((properties === null || properties === void 0 ? void 0 : properties.focused) !== undefined) {\n        return virtual_dom_1.h(tagName, __assign(__assign({}, properties), { focused: properties.focused ? hookFocus : undefined }), children);\n    }\n    return virtual_dom_1.h(tagName, properties, children);\n};\nexports.jsx = jsx;\nvar renderTo = function (root) {\n    var prevElement = root;\n    var prevVdom;\n    return function (action) {\n        if (action.type === VdomActionType) {\n            var vdom = action.payload;\n            var element = void 0;\n            if (prevVdom) {\n                var patches = virtual_dom_1.diff(prevVdom, vdom);\n                element = virtual_dom_1.patch(prevElement, patches);\n            }\n            else {\n                element = virtual_dom_1.create(vdom);\n                prevElement.appendChild(element);\n            }\n            prevElement = element;\n            prevVdom = vdom;\n        }\n    };\n};\nexports.renderTo = renderTo;\n","import { curry2, reduce, concat, append, curry3 } from '@most/prelude';\n\nvar dispose = function (disposable) {\r\n    return disposable.dispose();\r\n};\n\nvar disposeNone = function () { return NONE; };\r\nvar NONE = new (/** @class */ (function () {\r\n    function DisposeNone() {\r\n    }\r\n    DisposeNone.prototype.dispose = function () { };\r\n    return DisposeNone;\r\n}()))();\r\nvar isDisposeNone = function (d) {\r\n    return d === NONE;\r\n};\n\n/**\r\n * Wrap an existing disposable (which may not already have been once()d)\r\n * so that it will only dispose its underlying resource at most once.\r\n */\r\nvar disposeOnce = function (disposable) {\r\n    return new DisposeOnce(disposable);\r\n};\r\nvar DisposeOnce = /** @class */ (function () {\r\n    function DisposeOnce(disposable) {\r\n        this.disposed = false;\r\n        this.disposable = disposable;\r\n    }\r\n    DisposeOnce.prototype.dispose = function () {\r\n        if (!this.disposed) {\r\n            this.disposed = true;\r\n            if (this.disposable) {\r\n                this.disposable.dispose();\r\n                this.disposable = undefined;\r\n            }\r\n        }\r\n    };\r\n    return DisposeOnce;\r\n}());\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\n/**\r\n * Create a Disposable that will use the provided\r\n * dispose function to dispose the resource\r\n */\r\nvar disposeWith = curry2(function (dispose, resource) {\r\n    return disposeOnce(new DisposeWithImpl(dispose, resource));\r\n});\r\n/**\r\n * Disposable represents a resource that must be\r\n * disposed/released. It aggregates a function to dispose\r\n * the resource and a handle to a key/id/handle/reference\r\n * that identifies the resource\r\n */\r\nvar DisposeWithImpl = /** @class */ (function () {\r\n    function DisposeWithImpl(dispose, resource) {\r\n        this._dispose = dispose;\r\n        this._resource = resource;\r\n    }\r\n    DisposeWithImpl.prototype.dispose = function () {\r\n        this._dispose(this._resource);\r\n    };\r\n    return DisposeWithImpl;\r\n}());\n\n/** @license MIT License (c) copyright 2010 original author or authors */\r\n/**\r\n * Aggregate a list of disposables into a DisposeAll\r\n */\r\nvar disposeAll = function (ds) {\r\n    var merged = reduce(merge, [], ds);\r\n    return merged.length === 0 ? disposeNone() : new DisposeAll(merged);\r\n};\r\n/**\r\n * Convenience to aggregate 2 disposables\r\n */\r\nvar disposeBoth = curry2(function (d1, d2) {\r\n    return disposeAll([d1, d2]);\r\n});\r\nvar merge = function (ds, d) {\r\n    return isDisposeNone(d) ? ds\r\n        : d instanceof DisposeAll ? concat(ds, d.disposables)\r\n            : append(d, ds);\r\n};\r\nvar DisposeAll = /** @class */ (function () {\r\n    function DisposeAll(disposables) {\r\n        this.disposables = disposables;\r\n    }\r\n    DisposeAll.prototype.dispose = function () {\r\n        throwIfErrors(disposeCollectErrors(this.disposables));\r\n    };\r\n    return DisposeAll;\r\n}());\r\n/**\r\n * Dispose all, safely collecting errors into an array\r\n */\r\nvar disposeCollectErrors = function (disposables) {\r\n    return reduce(appendIfError, [], disposables);\r\n};\r\n/**\r\n * Call dispose and if throws, append thrown error to errors\r\n */\r\nvar appendIfError = function (errors, d) {\r\n    try {\r\n        d.dispose();\r\n    }\r\n    catch (e) {\r\n        errors.push(e);\r\n    }\r\n    return errors;\r\n};\r\n/**\r\n * Throw DisposeAllError if errors is non-empty\r\n * @throws\r\n */\r\nvar throwIfErrors = function (errors) {\r\n    if (errors.length > 0) {\r\n        throw new DisposeAllError(errors.length + \" errors\", errors);\r\n    }\r\n};\r\nvar DisposeAllError = /** @class */ (function () {\r\n    function DisposeAllError(message, errors) {\r\n        this.name = 'DisposeAllError';\r\n        this.message = message;\r\n        this.errors = errors;\r\n        Error.call(this, message);\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(this, DisposeAllError);\r\n        }\r\n        this.stack = \"\" + this.stack + formatErrorStacks(this.errors);\r\n    }\r\n    return DisposeAllError;\r\n}());\r\nDisposeAllError.prototype = Object.create(Error.prototype);\r\nvar formatErrorStacks = function (errors) {\r\n    return reduce(formatErrorStack, '', errors);\r\n};\r\nvar formatErrorStack = function (s, e, i) {\r\n    return s + (\"\\n[\" + (i + 1) + \"] \" + e.stack);\r\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\n// Try to dispose the disposable.  If it throws, send\r\n// the error to sink.error with the provided Time value\r\nvar tryDispose = curry3(function (t, disposable, sink) {\r\n    try {\r\n        disposable.dispose();\r\n    }\r\n    catch (e) {\r\n        sink.error(t, e);\r\n    }\r\n});\n\nexport { DisposeAllError, dispose, disposeAll, disposeBoth, disposeNone, disposeOnce, disposeWith, isDisposeNone, tryDispose };\n//# sourceMappingURL=index.es.js.map\n","import { curry2, compose, apply, id, reduce, map as map$2, append, findIndex, remove, curry3 } from '@most/prelude';\nimport { asap, delay as delay$2, periodic as periodic$1, schedulerRelativeTo, currentTime, cancelTask } from '@most/scheduler';\nimport { disposeNone, disposeBoth, tryDispose as tryDispose$1, disposeOnce, disposeAll } from '@most/disposable';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/** @author Brian Cavalier */\r\n/** @author John Hann */\r\nfunction fatalError(e) {\r\n    setTimeout(rethrow, 0, e);\r\n}\r\nfunction rethrow(e) {\r\n    throw e;\r\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\nvar propagateTask = function (run, value, sink) { return new PropagateRunEventTask(run, value, sink); };\r\nvar propagateEventTask = function (value, sink) { return new PropagateEventTask(value, sink); };\r\nvar propagateEndTask = function (sink) { return new PropagateEndTask(sink); };\r\nvar propagateErrorTask = function (value, sink) { return new PropagateErrorTask(value, sink); };\r\nvar PropagateTask = /** @class */ (function () {\r\n    function PropagateTask(sink) {\r\n        this.sink = sink;\r\n        this.active = true;\r\n    }\r\n    PropagateTask.prototype.dispose = function () {\r\n        this.active = false;\r\n    };\r\n    PropagateTask.prototype.run = function (t) {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        this.runIfActive(t);\r\n    };\r\n    PropagateTask.prototype.error = function (t, e) {\r\n        // TODO: Remove this check and just do this.sink.error(t, e)?\r\n        if (!this.active) {\r\n            return fatalError(e);\r\n        }\r\n        this.sink.error(t, e);\r\n    };\r\n    return PropagateTask;\r\n}());\r\nvar PropagateRunEventTask = /** @class */ (function (_super) {\r\n    __extends(PropagateRunEventTask, _super);\r\n    function PropagateRunEventTask(runEvent, value, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.runEvent = runEvent;\r\n        _this.value = value;\r\n        return _this;\r\n    }\r\n    PropagateRunEventTask.prototype.runIfActive = function (t) {\r\n        this.runEvent(t, this.value, this.sink);\r\n    };\r\n    return PropagateRunEventTask;\r\n}(PropagateTask));\r\nvar PropagateEventTask = /** @class */ (function (_super) {\r\n    __extends(PropagateEventTask, _super);\r\n    function PropagateEventTask(value, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.value = value;\r\n        return _this;\r\n    }\r\n    PropagateEventTask.prototype.runIfActive = function (t) {\r\n        this.sink.event(t, this.value);\r\n    };\r\n    return PropagateEventTask;\r\n}(PropagateTask));\r\nvar PropagateEndTask = /** @class */ (function (_super) {\r\n    __extends(PropagateEndTask, _super);\r\n    function PropagateEndTask() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    PropagateEndTask.prototype.runIfActive = function (t) {\r\n        this.sink.end(t);\r\n    };\r\n    return PropagateEndTask;\r\n}(PropagateTask));\r\nvar PropagateErrorTask = /** @class */ (function (_super) {\r\n    __extends(PropagateErrorTask, _super);\r\n    function PropagateErrorTask(value, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.value = value;\r\n        return _this;\r\n    }\r\n    PropagateErrorTask.prototype.runIfActive = function (t) {\r\n        this.sink.error(t, this.value);\r\n    };\r\n    return PropagateErrorTask;\r\n}(PropagateTask));\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\nvar empty = function () { return EMPTY; };\r\nvar isCanonicalEmpty = function (stream) {\r\n    return stream === EMPTY;\r\n};\r\nvar containsCanonicalEmpty = function (streams) {\r\n    return streams.some(isCanonicalEmpty);\r\n};\r\nvar Empty = /** @class */ (function () {\r\n    function Empty() {\r\n    }\r\n    Empty.prototype.run = function (sink, scheduler) {\r\n        return asap(propagateEndTask(sink), scheduler);\r\n    };\r\n    return Empty;\r\n}());\r\nvar EMPTY = new Empty();\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\nvar never = function () { return NEVER; };\r\nvar Never = /** @class */ (function () {\r\n    function Never() {\r\n    }\r\n    Never.prototype.run = function () {\r\n        return disposeNone();\r\n    };\r\n    return Never;\r\n}());\r\nvar NEVER = new Never();\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\nvar at = function (t, x) { return new At(t, x); };\r\nvar At = /** @class */ (function () {\r\n    function At(t, x) {\r\n        this.time = t;\r\n        this.value = x;\r\n    }\r\n    At.prototype.run = function (sink, scheduler) {\r\n        return delay$2(this.time, propagateTask(runAt, this.value, sink), scheduler);\r\n    };\r\n    return At;\r\n}());\r\nfunction runAt(t, x, sink) {\r\n    sink.event(t, x);\r\n    sink.end(t);\r\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\nvar now = function (x) { return at(0, x); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/**\r\n * Create a stream of events that occur at a regular period\r\n * @param {Number} period periodicity of events\r\n * @returns {Stream} new stream of periodic events, the event value is undefined\r\n */\r\nvar periodic = function (period) {\r\n    return new Periodic(period);\r\n};\r\nvar Periodic = /** @class */ (function () {\r\n    function Periodic(period) {\r\n        this.period = period;\r\n    }\r\n    Periodic.prototype.run = function (sink, scheduler) {\r\n        return periodic$1(this.period, propagateEventTask(undefined, sink), scheduler);\r\n    };\r\n    return Periodic;\r\n}());\n\nvar newStream = function (run) { return new StreamImpl(run); };\r\nvar StreamImpl = /** @class */ (function () {\r\n    function StreamImpl(run) {\r\n        this.run = run;\r\n    }\r\n    return StreamImpl;\r\n}());\n\nvar SettableDisposable = /** @class */ (function () {\r\n    function SettableDisposable() {\r\n        this.disposable = undefined;\r\n        this.disposed = false;\r\n    }\r\n    SettableDisposable.prototype.setDisposable = function (disposable) {\r\n        if (this.disposable !== undefined) {\r\n            throw new Error('setDisposable called more than once');\r\n        }\r\n        this.disposable = disposable;\r\n        if (this.disposed) {\r\n            disposable.dispose();\r\n        }\r\n    };\r\n    SettableDisposable.prototype.dispose = function () {\r\n        if (this.disposed) {\r\n            return;\r\n        }\r\n        this.disposed = true;\r\n        if (this.disposable !== undefined) {\r\n            this.disposable.dispose();\r\n        }\r\n    };\r\n    return SettableDisposable;\r\n}());\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\nvar runEffects = curry2(function (stream, scheduler) {\r\n    return new Promise(function (resolve, reject) {\r\n        return runStream(stream, scheduler, resolve, reject);\r\n    });\r\n});\r\nfunction runStream(stream, scheduler, resolve, reject) {\r\n    var disposable = new SettableDisposable();\r\n    var observer = new RunEffectsSink(resolve, reject, disposable);\r\n    disposable.setDisposable(stream.run(observer, scheduler));\r\n}\r\nvar RunEffectsSink = /** @class */ (function () {\r\n    function RunEffectsSink(end, error, disposable) {\r\n        this._end = end;\r\n        this._error = error;\r\n        this._disposable = disposable;\r\n        this.active = true;\r\n    }\r\n    RunEffectsSink.prototype.event = function () { };\r\n    RunEffectsSink.prototype.end = function () {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        this.dispose(this._error, this._end, undefined);\r\n    };\r\n    RunEffectsSink.prototype.error = function (_t, e) {\r\n        this.dispose(this._error, this._error, e);\r\n    };\r\n    RunEffectsSink.prototype.dispose = function (error, end, x) {\r\n        this.active = false;\r\n        tryDispose(error, end, x, this._disposable);\r\n    };\r\n    return RunEffectsSink;\r\n}());\r\nfunction tryDispose(error, end, x, disposable) {\r\n    try {\r\n        disposable.dispose();\r\n    }\r\n    catch (e) {\r\n        error(e);\r\n        return;\r\n    }\r\n    end(x);\r\n}\n\n/**\r\n * Run a Stream, sending all its events to the provided Sink.\r\n */\r\nvar run = function (sink, scheduler, stream) {\r\n    return stream.run(sink, scheduler);\r\n};\n\nvar RelativeSink = /** @class */ (function () {\r\n    function RelativeSink(offset, sink) {\r\n        this.sink = sink;\r\n        this.offset = offset;\r\n    }\r\n    RelativeSink.prototype.event = function (t, x) {\r\n        this.sink.event(t + this.offset, x);\r\n    };\r\n    RelativeSink.prototype.error = function (t, e) {\r\n        this.sink.error(t + this.offset, e);\r\n    };\r\n    RelativeSink.prototype.end = function (t) {\r\n        this.sink.end(t + this.offset);\r\n    };\r\n    return RelativeSink;\r\n}());\n\n/**\r\n * Create a stream with its own local clock\r\n * This transforms time from the provided scheduler's clock to a stream-local\r\n * clock (which starts at 0), and then *back* to the scheduler's clock before\r\n * propagating events to sink.  In other words, upstream sources will see local times,\r\n * and downstream sinks will see non-local (original) times.\r\n */\r\nvar withLocalTime = function (origin, stream) {\r\n    return new WithLocalTime(origin, stream);\r\n};\r\nvar WithLocalTime = /** @class */ (function () {\r\n    function WithLocalTime(origin, source) {\r\n        this.origin = origin;\r\n        this.source = source;\r\n    }\r\n    WithLocalTime.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(relativeSink(this.origin, sink), schedulerRelativeTo(this.origin, scheduler));\r\n    };\r\n    return WithLocalTime;\r\n}());\r\n/**\r\n * Accumulate offsets instead of nesting RelativeSinks, which can happen\r\n * with higher-order stream and combinators like continueWith when they're\r\n * applied recursively.\r\n */\r\nvar relativeSink = function (origin, sink) {\r\n    return sink instanceof RelativeSink\r\n        ? new RelativeSink(origin + sink.offset, sink.sink)\r\n        : new RelativeSink(origin, sink);\r\n};\n\nvar Pipe = /** @class */ (function () {\r\n    function Pipe(sink) {\r\n        this.sink = sink;\r\n    }\r\n    Pipe.prototype.end = function (t) {\r\n        return this.sink.end(t);\r\n    };\r\n    Pipe.prototype.error = function (t, e) {\r\n        return this.sink.error(t, e);\r\n    };\r\n    return Pipe;\r\n}());\n\n/** @license MIT License (c) copyright 2010 original author or authors */\r\n/**\r\n * Generalized feedback loop. Call a stepper function for each event. The stepper\r\n * will be called with 2 params: the current seed and the an event value.  It must\r\n * return a new { seed, value } pair. The `seed` will be fed back into the next\r\n * invocation of stepper, and the `value` will be propagated as the event value.\r\n * @param stepper loop step function\r\n * @param seed initial seed value passed to first stepper call\r\n * @param stream event stream\r\n * @returns new stream whose values are the `value` field of the objects\r\n * returned by the stepper\r\n */\r\nvar loop = function (stepper, seed, stream) {\r\n    return isCanonicalEmpty(stream) ? empty()\r\n        : new Loop(stepper, seed, stream);\r\n};\r\nvar Loop = /** @class */ (function () {\r\n    function Loop(stepper, seed, source) {\r\n        this.step = stepper;\r\n        this.seed = seed;\r\n        this.source = source;\r\n    }\r\n    Loop.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(new LoopSink(this.step, this.seed, sink), scheduler);\r\n    };\r\n    return Loop;\r\n}());\r\nvar LoopSink = /** @class */ (function (_super) {\r\n    __extends(LoopSink, _super);\r\n    function LoopSink(stepper, seed, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.step = stepper;\r\n        _this.seed = seed;\r\n        return _this;\r\n    }\r\n    LoopSink.prototype.event = function (t, x) {\r\n        var result = this.step(this.seed, x);\r\n        this.seed = result.seed;\r\n        this.sink.event(t, result.value);\r\n    };\r\n    return LoopSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/**\r\n * Create a stream containing successive reduce results of applying f to\r\n * the previous reduce result and the current stream item.\r\n * @param f reducer function\r\n * @param initial initial value\r\n * @param stream stream to scan\r\n * @returns new stream containing successive reduce results\r\n */\r\nvar scan = function (f, initial, stream) {\r\n    return new Scan(f, initial, stream);\r\n};\r\nvar Scan = /** @class */ (function () {\r\n    function Scan(f, z, source) {\r\n        this.source = source;\r\n        this.f = f;\r\n        this.value = z;\r\n    }\r\n    Scan.prototype.run = function (sink, scheduler) {\r\n        var d1 = asap(propagateEventTask(this.value, sink), scheduler);\r\n        var d2 = this.source.run(new ScanSink(this.f, this.value, sink), scheduler);\r\n        return disposeBoth(d1, d2);\r\n    };\r\n    return Scan;\r\n}());\r\nvar ScanSink = /** @class */ (function (_super) {\r\n    __extends(ScanSink, _super);\r\n    function ScanSink(f, z, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.f = f;\r\n        _this.value = z;\r\n        return _this;\r\n    }\r\n    ScanSink.prototype.event = function (t, x) {\r\n        var f = this.f;\r\n        this.value = f(this.value, x);\r\n        this.sink.event(t, this.value);\r\n    };\r\n    return ScanSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\nvar continueWith = function (f, stream) {\r\n    return new ContinueWith(f, stream);\r\n};\r\nvar ContinueWith = /** @class */ (function () {\r\n    function ContinueWith(f, source) {\r\n        this.f = f;\r\n        this.source = source;\r\n    }\r\n    ContinueWith.prototype.run = function (sink, scheduler) {\r\n        return new ContinueWithSink(this.f, this.source, sink, scheduler);\r\n    };\r\n    return ContinueWith;\r\n}());\r\nvar ContinueWithSink = /** @class */ (function (_super) {\r\n    __extends(ContinueWithSink, _super);\r\n    function ContinueWithSink(f, source, sink, scheduler) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.f = f;\r\n        _this.scheduler = scheduler;\r\n        _this.active = true;\r\n        _this.disposable = disposeOnce(source.run(_this, scheduler));\r\n        return _this;\r\n    }\r\n    ContinueWithSink.prototype.event = function (t, x) {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        this.sink.event(t, x);\r\n    };\r\n    ContinueWithSink.prototype.end = function (t) {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        tryDispose$1(t, this.disposable, this.sink);\r\n        this.startNext(t, this.sink);\r\n    };\r\n    ContinueWithSink.prototype.startNext = function (t, sink) {\r\n        try {\r\n            this.disposable = this.continue(this.f, t, sink);\r\n        }\r\n        catch (e) {\r\n            sink.error(t, e);\r\n        }\r\n    };\r\n    ContinueWithSink.prototype.continue = function (f, t, sink) {\r\n        return run(sink, this.scheduler, withLocalTime(t, f()));\r\n    };\r\n    ContinueWithSink.prototype.dispose = function () {\r\n        this.active = false;\r\n        return this.disposable.dispose();\r\n    };\r\n    return ContinueWithSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\nvar startWith = function (x, stream) {\r\n    return continueWith(function () { return stream; }, now(x));\r\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\nvar Filter = /** @class */ (function () {\r\n    function Filter(p, source) {\r\n        this.p = p;\r\n        this.source = source;\r\n    }\r\n    Filter.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(new FilterSink(this.p, sink), scheduler);\r\n    };\r\n    /**\r\n     * Create a filtered source, fusing adjacent filter.filter if possible\r\n     * @param {function(x:*):boolean} p filtering predicate\r\n     * @param {{run:function}} source source to filter\r\n     * @returns {Filter} filtered source\r\n     */\r\n    Filter.create = function (p, source) {\r\n        if (isCanonicalEmpty(source)) {\r\n            return source;\r\n        }\r\n        if (source instanceof Filter) {\r\n            return new Filter(and(source.p, p), source.source);\r\n        }\r\n        return new Filter(p, source);\r\n    };\r\n    return Filter;\r\n}());\r\nvar FilterSink = /** @class */ (function (_super) {\r\n    __extends(FilterSink, _super);\r\n    function FilterSink(p, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.p = p;\r\n        return _this;\r\n    }\r\n    FilterSink.prototype.event = function (t, x) {\r\n        var p = this.p;\r\n        p(x) && this.sink.event(t, x);\r\n    };\r\n    return FilterSink;\r\n}(Pipe));\r\nvar and = function (p, q) { return function (x) { return p(x) && q(x); }; };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\nvar FilterMap = /** @class */ (function () {\r\n    function FilterMap(p, f, source) {\r\n        this.p = p;\r\n        this.f = f;\r\n        this.source = source;\r\n    }\r\n    FilterMap.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(new FilterMapSink(this.p, this.f, sink), scheduler);\r\n    };\r\n    return FilterMap;\r\n}());\r\nvar FilterMapSink = /** @class */ (function (_super) {\r\n    __extends(FilterMapSink, _super);\r\n    function FilterMapSink(p, f, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.p = p;\r\n        _this.f = f;\r\n        return _this;\r\n    }\r\n    FilterMapSink.prototype.event = function (t, x) {\r\n        var f = this.f;\r\n        var p = this.p;\r\n        p(x) && this.sink.event(t, f(x));\r\n    };\r\n    return FilterMapSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\nvar Map = /** @class */ (function () {\r\n    function Map(f, source) {\r\n        this.f = f;\r\n        this.source = source;\r\n    }\r\n    Map.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(new MapSink(this.f, sink), scheduler);\r\n    };\r\n    /**\r\n     * Create a mapped source, fusing adjacent map.map, filter.map,\r\n     * and filter.map.map if possible\r\n     * @param {function(*):*} f mapping function\r\n     * @param {{run:function}} source source to map\r\n     * @returns {Map|FilterMap} mapped source, possibly fused\r\n     */\r\n    Map.create = function (f, source) {\r\n        if (isCanonicalEmpty(source)) {\r\n            return empty();\r\n        }\r\n        if (source instanceof Map) {\r\n            return new Map(compose(f, source.f), source.source);\r\n        }\r\n        if (source instanceof Filter) {\r\n            return new FilterMap(source.p, f, source.source);\r\n        }\r\n        return new Map(f, source);\r\n    };\r\n    return Map;\r\n}());\r\nvar MapSink = /** @class */ (function (_super) {\r\n    __extends(MapSink, _super);\r\n    function MapSink(f, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.f = f;\r\n        return _this;\r\n    }\r\n    MapSink.prototype.event = function (t, x) {\r\n        var f = this.f;\r\n        this.sink.event(t, f(x));\r\n    };\r\n    return MapSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/**\r\n * Transform each value in the stream by applying f to each\r\n * @param f mapping function\r\n * @param stream stream to map\r\n * @returns stream containing items transformed by f\r\n */\r\nvar map = function (f, stream) {\r\n    return Map.create(f, stream);\r\n};\r\n/**\r\n* Replace each value in the stream with x\r\n* @param x\r\n* @param stream\r\n* @returns stream containing items replaced with x\r\n*/\r\nvar constant = function (x, stream) {\r\n    return map(function () { return x; }, stream);\r\n};\r\n/**\r\n* Perform a side effect for each item in the stream\r\n* @param f side effect to execute for each item. The return value will be discarded.\r\n* @param stream stream to tap\r\n* @returns new stream containing the same items as this stream\r\n*/\r\nvar tap = function (f, stream) {\r\n    return new Tap(f, stream);\r\n};\r\nvar Tap = /** @class */ (function () {\r\n    function Tap(f, source) {\r\n        this.source = source;\r\n        this.f = f;\r\n    }\r\n    Tap.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(new TapSink(this.f, sink), scheduler);\r\n    };\r\n    return Tap;\r\n}());\r\nvar TapSink = /** @class */ (function (_super) {\r\n    __extends(TapSink, _super);\r\n    function TapSink(f, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.f = f;\r\n        return _this;\r\n    }\r\n    TapSink.prototype.event = function (t, x) {\r\n        var f = this.f;\r\n        f(x);\r\n        this.sink.event(t, x);\r\n    };\r\n    return TapSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\nvar IndexSink = /** @class */ (function (_super) {\r\n    __extends(IndexSink, _super);\r\n    function IndexSink(i, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.index = i;\r\n        _this.active = true;\r\n        _this.value = undefined;\r\n        return _this;\r\n    }\r\n    IndexSink.prototype.event = function (t, x) {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        this.value = x;\r\n        this.sink.event(t, this);\r\n    };\r\n    IndexSink.prototype.end = function (t) {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        this.active = false;\r\n        this.sink.event(t, this);\r\n    };\r\n    return IndexSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/** @author Brian Cavalier */\r\n/** @author John Hann */\r\n/**\r\n * TODO: find a better way (without `any`)\r\n */\r\nfunction invoke(f, args) {\r\n    /* eslint complexity: [2,7] */\r\n    switch (args.length) {\r\n        case 0: return f();\r\n        case 1: return f(args[0]);\r\n        case 2: return f(args[0], args[1]);\r\n        case 3: return f(args[0], args[1], args[2]);\r\n        case 4: return f(args[0], args[1], args[2], args[3]);\r\n        case 5: return f(args[0], args[1], args[2], args[3], args[4]);\r\n        default:\r\n            return f.apply(undefined, args);\r\n    }\r\n}\n\n/** @license MIT License (c) copyright 2010 original author or authors */\r\n/**\r\n * Combine latest events from two streams\r\n * @param f function to combine most recent events\r\n * @param stream1\r\n * @param stream2\r\n * @returns stream containing the result of applying f to the most recent\r\n *  event of each input stream, whenever a new event arrives on any stream.\r\n */\r\nvar combine = function (f, stream1, stream2) {\r\n    return combineArray(f, [stream1, stream2]);\r\n};\r\n/**\r\n* Combine latest events from all input streams\r\n* @param f function to combine most recent events\r\n* @param streams most recent events\r\n* @returns stream containing the result of applying f to the most recent\r\n*  event of each input stream, whenever a new event arrives on any stream.\r\n*/\r\nvar combineArray = function (f, streams) {\r\n    return streams.length === 0 || containsCanonicalEmpty(streams) ? empty()\r\n        : streams.length === 1 ? map(f, streams[0])\r\n            : new Combine(f, streams);\r\n};\r\nvar Combine = /** @class */ (function () {\r\n    function Combine(f, sources) {\r\n        this.f = f;\r\n        this.sources = sources;\r\n    }\r\n    Combine.prototype.run = function (sink, scheduler) {\r\n        var l = this.sources.length;\r\n        var disposables = new Array(l);\r\n        var sinks = new Array(l);\r\n        var mergeSink = new CombineSink(disposables, sinks.length, sink, this.f);\r\n        for (var indexSink = void 0, i = 0; i < l; ++i) {\r\n            indexSink = sinks[i] = new IndexSink(i, mergeSink);\r\n            disposables[i] = this.sources[i].run(indexSink, scheduler);\r\n        }\r\n        return disposeAll(disposables);\r\n    };\r\n    return Combine;\r\n}());\r\nvar CombineSink = /** @class */ (function (_super) {\r\n    __extends(CombineSink, _super);\r\n    function CombineSink(disposables, length, sink, f) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.disposables = disposables;\r\n        _this.f = f;\r\n        _this.awaiting = length;\r\n        _this.values = new Array(length);\r\n        _this.hasValue = new Array(length).fill(false);\r\n        _this.activeCount = length;\r\n        return _this;\r\n    }\r\n    CombineSink.prototype.event = function (t, indexedValue) {\r\n        if (!indexedValue.active) {\r\n            this.dispose(t, indexedValue.index);\r\n            return;\r\n        }\r\n        var i = indexedValue.index;\r\n        var awaiting = this.updateReady(i);\r\n        this.values[i] = indexedValue.value;\r\n        if (awaiting === 0) {\r\n            this.sink.event(t, invoke(this.f, this.values));\r\n        }\r\n    };\r\n    CombineSink.prototype.updateReady = function (index) {\r\n        if (this.awaiting > 0) {\r\n            if (!this.hasValue[index]) {\r\n                this.hasValue[index] = true;\r\n                this.awaiting -= 1;\r\n            }\r\n        }\r\n        return this.awaiting;\r\n    };\r\n    CombineSink.prototype.dispose = function (t, index) {\r\n        tryDispose$1(t, this.disposables[index], this.sink);\r\n        if (--this.activeCount === 0) {\r\n            this.sink.end(t);\r\n        }\r\n    };\r\n    return CombineSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/**\r\n * Assume fs is a stream containing functions, and apply the latest function\r\n * in fs to the latest value in xs.\r\n * fs:         --f---------g--------h------>\r\n * xs:         -a-------b-------c-------d-->\r\n * ap(fs, xs): --fa-----fb-gb---gc--hc--hd->\r\n * @param {Stream} fs stream of functions to apply to the latest x\r\n * @param {Stream} xs stream of values to which to apply all the latest f\r\n * @returns {Stream} stream containing all the applications of fs to xs\r\n */\r\nfunction ap(fs, xs) {\r\n    return combine(apply, fs, xs);\r\n}\n\n/** @license MIT License (c) copyright 2010 original author or authors */\r\nvar mergeConcurrently = function (concurrency, stream) {\r\n    return mergeMapConcurrently(id, concurrency, stream);\r\n};\r\nvar mergeMapConcurrently = function (f, concurrency, stream) {\r\n    return isCanonicalEmpty(stream) ? empty()\r\n        : new MergeConcurrently(f, concurrency, stream);\r\n};\r\nvar MergeConcurrently = /** @class */ (function () {\r\n    function MergeConcurrently(f, concurrency, source) {\r\n        this.f = f;\r\n        this.concurrency = concurrency;\r\n        this.source = source;\r\n    }\r\n    MergeConcurrently.prototype.run = function (sink, scheduler) {\r\n        return new Outer(this.f, this.concurrency, this.source, sink, scheduler);\r\n    };\r\n    return MergeConcurrently;\r\n}());\r\nvar isNonEmpty = function (array) { return array.length > 0; };\r\nvar Outer = /** @class */ (function () {\r\n    function Outer(f, concurrency, source, sink, scheduler) {\r\n        this.f = f;\r\n        this.concurrency = concurrency;\r\n        this.sink = sink;\r\n        this.scheduler = scheduler;\r\n        this.pending = [];\r\n        this.current = [];\r\n        this.disposable = disposeOnce(source.run(this, scheduler));\r\n        this.active = true;\r\n    }\r\n    Outer.prototype.event = function (t, x) {\r\n        this.addInner(t, x);\r\n    };\r\n    Outer.prototype.addInner = function (t, x) {\r\n        if (this.current.length < this.concurrency) {\r\n            this.startInner(t, x);\r\n        }\r\n        else {\r\n            this.pending.push(x);\r\n        }\r\n    };\r\n    Outer.prototype.startInner = function (t, x) {\r\n        try {\r\n            this.initInner(t, x);\r\n        }\r\n        catch (e) {\r\n            this.error(t, e);\r\n        }\r\n    };\r\n    Outer.prototype.initInner = function (t, x) {\r\n        var innerSink = new Inner(t, this, this.sink);\r\n        innerSink.disposable = mapAndRun(this.f, t, x, innerSink, this.scheduler);\r\n        this.current.push(innerSink);\r\n    };\r\n    Outer.prototype.end = function (t) {\r\n        this.active = false;\r\n        tryDispose$1(t, this.disposable, this.sink);\r\n        this.checkEnd(t);\r\n    };\r\n    Outer.prototype.error = function (t, e) {\r\n        this.active = false;\r\n        this.sink.error(t, e);\r\n    };\r\n    Outer.prototype.dispose = function () {\r\n        this.active = false;\r\n        this.pending.length = 0;\r\n        this.disposable.dispose();\r\n        disposeAll(this.current).dispose();\r\n    };\r\n    Outer.prototype.endInner = function (t, inner) {\r\n        var i = this.current.indexOf(inner);\r\n        if (i >= 0) {\r\n            this.current.splice(i, 1);\r\n        }\r\n        tryDispose$1(t, inner, this);\r\n        var pending = this.pending;\r\n        if (isNonEmpty(pending)) {\r\n            this.startInner(t, pending.shift());\r\n        }\r\n        else {\r\n            this.checkEnd(t);\r\n        }\r\n    };\r\n    Outer.prototype.checkEnd = function (t) {\r\n        if (!this.active && this.current.length === 0) {\r\n            this.sink.end(t);\r\n        }\r\n    };\r\n    return Outer;\r\n}());\r\nvar mapAndRun = function (f, t, x, sink, scheduler) {\r\n    return f(x).run(sink, schedulerRelativeTo(t, scheduler));\r\n};\r\nvar Inner = /** @class */ (function () {\r\n    function Inner(time, outer, sink) {\r\n        this.time = time;\r\n        this.outer = outer;\r\n        this.sink = sink;\r\n        this.disposable = disposeNone();\r\n    }\r\n    Inner.prototype.event = function (t, x) {\r\n        this.sink.event(t + this.time, x);\r\n    };\r\n    Inner.prototype.end = function (t) {\r\n        this.outer.endInner(t + this.time, this);\r\n    };\r\n    Inner.prototype.error = function (t, e) {\r\n        this.outer.error(t + this.time, e);\r\n    };\r\n    Inner.prototype.dispose = function () {\r\n        return this.disposable.dispose();\r\n    };\r\n    return Inner;\r\n}());\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/**\r\n * Map each value in the stream to a new stream, and merge it into the\r\n * returned outer stream. Event arrival times are preserved.\r\n * @param f chaining function, must return a Stream\r\n * @param stream\r\n * @returns new stream containing all events from each stream returned by f\r\n */\r\nvar chain = function (f, stream) { return mergeMapConcurrently(f, Infinity, stream); };\r\n/**\r\n * Monadic join. Flatten a Stream<Stream<X>> to Stream<X> by merging inner\r\n * streams to the outer. Event arrival times are preserved.\r\n * @param stream stream of streams\r\n * @returns new stream containing all events of all inner streams\r\n */\r\nvar join = function (stream) { return mergeConcurrently(Infinity, stream); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/**\r\n * Map each value in stream to a new stream, and concatenate them all\r\n * stream:              -a---b---cX\r\n * f(a):                 1-1-1-1X\r\n * f(b):                        -2-2-2-2X\r\n * f(c):                                -3-3-3-3X\r\n * stream.concatMap(f): -1-1-1-1-2-2-2-2-3-3-3-3X\r\n * @param f function to map each value to a stream\r\n * @param stream\r\n * @returns new stream containing all events from each stream returned by f\r\n */\r\nvar concatMap = function (f, stream) {\r\n    return mergeMapConcurrently(f, 1, stream);\r\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/**\r\n * @returns stream containing events from two streams in time order.\r\n * If two events are simultaneous they will be merged in arbitrary order.\r\n */\r\nfunction merge(stream1, stream2) {\r\n    return mergeArray([stream1, stream2]);\r\n}\r\n/**\r\n * @param streams array of stream to merge\r\n * @returns stream containing events from all input observables\r\n * in time order.  If two events are simultaneous they will be merged in\r\n * arbitrary order.\r\n */\r\nvar mergeArray = function (streams) {\r\n    return mergeStreams(withoutCanonicalEmpty(streams));\r\n};\r\n/**\r\n * This implements fusion/flattening for merge.  It will\r\n * fuse adjacent merge operations.  For example:\r\n * - a.merge(b).merge(c) effectively becomes merge(a, b, c)\r\n * - merge(a, merge(b, c)) effectively becomes merge(a, b, c)\r\n * It does this by concatenating the sources arrays of\r\n * any nested Merge sources, in effect \"flattening\" nested\r\n * merge operations into a single merge.\r\n * TODO: use {@link MergeArray}\r\n */\r\nvar mergeStreams = function (streams) {\r\n    return streams.length === 0 ? empty()\r\n        : streams.length === 1 ? streams[0]\r\n            : new Merge(reduce(appendSources, [], streams));\r\n};\r\nvar withoutCanonicalEmpty = function (streams) {\r\n    return streams.filter(isNotCanonicalEmpty);\r\n};\r\nvar isNotCanonicalEmpty = function (stream) {\r\n    return !isCanonicalEmpty(stream);\r\n};\r\nvar appendSources = function (sources, stream) {\r\n    return sources.concat(stream instanceof Merge ? stream.sources : stream);\r\n};\r\nvar Merge = /** @class */ (function () {\r\n    function Merge(sources) {\r\n        this.sources = sources;\r\n    }\r\n    Merge.prototype.run = function (sink, scheduler) {\r\n        var l = this.sources.length;\r\n        var disposables = new Array(l);\r\n        var sinks = new Array(l);\r\n        var mergeSink = new MergeSink(disposables, sinks, sink);\r\n        for (var indexSink = void 0, i = 0; i < l; ++i) {\r\n            indexSink = sinks[i] = new IndexSink(i, mergeSink);\r\n            disposables[i] = this.sources[i].run(indexSink, scheduler);\r\n        }\r\n        return disposeAll(disposables);\r\n    };\r\n    return Merge;\r\n}());\r\nvar MergeSink = /** @class */ (function (_super) {\r\n    __extends(MergeSink, _super);\r\n    function MergeSink(disposables, sinks, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.disposables = disposables;\r\n        _this.activeCount = sinks.length;\r\n        return _this;\r\n    }\r\n    MergeSink.prototype.event = function (t, indexValue) {\r\n        if (!indexValue.active) {\r\n            this.dispose(t, indexValue.index);\r\n            return;\r\n        }\r\n        this.sink.event(t, indexValue.value);\r\n    };\r\n    MergeSink.prototype.dispose = function (t, index) {\r\n        tryDispose$1(t, this.disposables[index], this.sink);\r\n        if (--this.activeCount === 0) {\r\n            this.sink.end(t);\r\n        }\r\n    };\r\n    return MergeSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010 original author or authors */\r\nvar sample = function (values, sampler) {\r\n    return snapshot(function (x) { return x; }, values, sampler);\r\n};\r\nvar snapshot = function (f, values, sampler) {\r\n    return isCanonicalEmpty(sampler) || isCanonicalEmpty(values)\r\n        ? empty()\r\n        : new Snapshot(f, values, sampler);\r\n};\r\nvar Snapshot = /** @class */ (function () {\r\n    function Snapshot(f, values, sampler) {\r\n        this.f = f;\r\n        this.values = values;\r\n        this.sampler = sampler;\r\n    }\r\n    Snapshot.prototype.run = function (sink, scheduler) {\r\n        var sampleSink = new SnapshotSink(this.f, sink);\r\n        var valuesDisposable = this.values.run(sampleSink.latest, scheduler);\r\n        var samplerDisposable = this.sampler.run(sampleSink, scheduler);\r\n        return disposeBoth(samplerDisposable, valuesDisposable);\r\n    };\r\n    return Snapshot;\r\n}());\r\nvar SnapshotSink = /** @class */ (function (_super) {\r\n    __extends(SnapshotSink, _super);\r\n    function SnapshotSink(f, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.f = f;\r\n        _this.latest = new LatestValueSink(_this);\r\n        return _this;\r\n    }\r\n    SnapshotSink.prototype.event = function (t, x) {\r\n        if (this.latest.hasValue) {\r\n            var f = this.f;\r\n            // TODO: value should be boxed to avoid ! bang\r\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n            this.sink.event(t, f(this.latest.value, x));\r\n        }\r\n    };\r\n    return SnapshotSink;\r\n}(Pipe));\r\nvar LatestValueSink = /** @class */ (function (_super) {\r\n    __extends(LatestValueSink, _super);\r\n    function LatestValueSink(sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.hasValue = false;\r\n        return _this;\r\n    }\r\n    LatestValueSink.prototype.event = function (_t, x) {\r\n        this.value = x;\r\n        this.hasValue = true;\r\n    };\r\n    LatestValueSink.prototype.end = function () { };\r\n    return LatestValueSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010 original author or authors */\r\n// Construct a constrained bounds\r\nvar boundsFrom = function (unsafeMin, unsafeMax) {\r\n    var min = Math.max(0, unsafeMin);\r\n    var max = Math.max(min, unsafeMax);\r\n    return { min: min, max: max };\r\n};\r\n// Combine 2 bounds by narrowing min and max\r\nvar mergeBounds = function (b1, b2) {\r\n    return boundsFrom(b1.min + b2.min, Math.min(b1.max, b1.min + b2.max));\r\n};\r\n// Nil bounds excludes all slice indices\r\nvar isNilBounds = function (b) {\r\n    return b.min >= b.max;\r\n};\r\n// Infinite bounds includes all slice indices\r\nvar isInfiniteBounds = function (b) {\r\n    return b.min <= 0 && b.max === Infinity;\r\n};\n\n// TODO: split into smaller files\r\n/**\r\n * @param n\r\n * @param stream\r\n * @returns new stream containing only up to the first n items from stream\r\n */\r\nvar take = function (n, stream) {\r\n    return slice(0, n, stream);\r\n};\r\n/**\r\n * @param n\r\n * @param stream\r\n * @returns new stream with the first n items removed\r\n */\r\nvar skip = function (n, stream) {\r\n    return slice(n, Infinity, stream);\r\n};\r\n/**\r\n * Slice a stream by index. Negative start/end indexes are not supported\r\n * @param start\r\n * @param end\r\n * @param stream\r\n * @returns stream containing items where start <= index < end\r\n */\r\nvar slice = function (start, end, stream) {\r\n    return sliceBounds(boundsFrom(start, end), stream);\r\n};\r\nvar sliceBounds = function (bounds, stream) {\r\n    return isSliceEmpty(bounds, stream) ? empty()\r\n        : stream instanceof Map ? commuteMapSlice(bounds, stream)\r\n            : stream instanceof Slice ? fuseSlice(bounds, stream)\r\n                : createSlice(bounds, stream);\r\n};\r\nvar isSliceEmpty = function (bounds, stream) {\r\n    return isCanonicalEmpty(stream) || isNilBounds(bounds);\r\n};\r\nvar createSlice = function (bounds, stream) {\r\n    return isInfiniteBounds(bounds) ? stream : new Slice(bounds, stream);\r\n};\r\nvar commuteMapSlice = function (bounds, mapStream) {\r\n    return Map.create(mapStream.f, sliceBounds(bounds, mapStream.source));\r\n};\r\nvar fuseSlice = function (bounds, sliceStream) {\r\n    return sliceBounds(mergeBounds(sliceStream.bounds, bounds), sliceStream.source);\r\n};\r\nvar Slice = /** @class */ (function () {\r\n    function Slice(bounds, source) {\r\n        this.source = source;\r\n        this.bounds = bounds;\r\n    }\r\n    Slice.prototype.run = function (sink, scheduler) {\r\n        var disposable = new SettableDisposable();\r\n        var sliceSink = new SliceSink(this.bounds.min, this.bounds.max - this.bounds.min, sink, disposable);\r\n        disposable.setDisposable(this.source.run(sliceSink, scheduler));\r\n        return disposable;\r\n    };\r\n    return Slice;\r\n}());\r\nvar SliceSink = /** @class */ (function (_super) {\r\n    __extends(SliceSink, _super);\r\n    function SliceSink(skip, take, sink, disposable) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.skip = skip;\r\n        _this.take = take;\r\n        _this.disposable = disposable;\r\n        return _this;\r\n    }\r\n    SliceSink.prototype.event = function (t, x) {\r\n        /* eslint complexity: [1, 4] */\r\n        if (this.skip > 0) {\r\n            this.skip -= 1;\r\n            return;\r\n        }\r\n        if (this.take === 0) {\r\n            return;\r\n        }\r\n        this.take -= 1;\r\n        this.sink.event(t, x);\r\n        if (this.take === 0) {\r\n            this.disposable.dispose();\r\n            this.sink.end(t);\r\n        }\r\n    };\r\n    return SliceSink;\r\n}(Pipe));\r\nvar takeWhile = function (p, stream) {\r\n    return isCanonicalEmpty(stream) ? empty()\r\n        : new TakeWhile(p, stream);\r\n};\r\nvar TakeWhile = /** @class */ (function () {\r\n    function TakeWhile(p, source) {\r\n        this.p = p;\r\n        this.source = source;\r\n    }\r\n    TakeWhile.prototype.run = function (sink, scheduler) {\r\n        var disposable = new SettableDisposable();\r\n        var takeWhileSink = new TakeWhileSink(this.p, sink, disposable);\r\n        disposable.setDisposable(this.source.run(takeWhileSink, scheduler));\r\n        return disposable;\r\n    };\r\n    return TakeWhile;\r\n}());\r\nvar TakeWhileSink = /** @class */ (function (_super) {\r\n    __extends(TakeWhileSink, _super);\r\n    function TakeWhileSink(p, sink, disposable) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.p = p;\r\n        _this.active = true;\r\n        _this.disposable = disposable;\r\n        return _this;\r\n    }\r\n    TakeWhileSink.prototype.event = function (t, x) {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        var p = this.p;\r\n        this.active = p(x);\r\n        if (this.active) {\r\n            this.sink.event(t, x);\r\n        }\r\n        else {\r\n            this.disposable.dispose();\r\n            this.sink.end(t);\r\n        }\r\n    };\r\n    return TakeWhileSink;\r\n}(Pipe));\r\nvar skipWhile = function (p, stream) {\r\n    return isCanonicalEmpty(stream) ? empty()\r\n        : new SkipWhile(p, stream);\r\n};\r\nvar SkipWhile = /** @class */ (function () {\r\n    function SkipWhile(p, source) {\r\n        this.p = p;\r\n        this.source = source;\r\n    }\r\n    SkipWhile.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(new SkipWhileSink(this.p, sink), scheduler);\r\n    };\r\n    return SkipWhile;\r\n}());\r\nvar SkipWhileSink = /** @class */ (function (_super) {\r\n    __extends(SkipWhileSink, _super);\r\n    function SkipWhileSink(p, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.p = p;\r\n        _this.skipping = true;\r\n        return _this;\r\n    }\r\n    SkipWhileSink.prototype.event = function (t, x) {\r\n        if (this.skipping) {\r\n            var p = this.p;\r\n            this.skipping = p(x);\r\n            if (this.skipping) {\r\n                return;\r\n            }\r\n        }\r\n        this.sink.event(t, x);\r\n    };\r\n    return SkipWhileSink;\r\n}(Pipe));\r\nvar skipAfter = function (p, stream) {\r\n    return isCanonicalEmpty(stream) ? empty()\r\n        : new SkipAfter(p, stream);\r\n};\r\nvar SkipAfter = /** @class */ (function () {\r\n    function SkipAfter(p, source) {\r\n        this.p = p;\r\n        this.source = source;\r\n    }\r\n    SkipAfter.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(new SkipAfterSink(this.p, sink), scheduler);\r\n    };\r\n    return SkipAfter;\r\n}());\r\nvar SkipAfterSink = /** @class */ (function (_super) {\r\n    __extends(SkipAfterSink, _super);\r\n    function SkipAfterSink(p, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.p = p;\r\n        _this.skipping = false;\r\n        return _this;\r\n    }\r\n    SkipAfterSink.prototype.event = function (t, x) {\r\n        if (this.skipping) {\r\n            return;\r\n        }\r\n        var p = this.p;\r\n        this.skipping = p(x);\r\n        this.sink.event(t, x);\r\n        if (this.skipping) {\r\n            this.sink.end(t);\r\n        }\r\n    };\r\n    return SkipAfterSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2017 original author or authors */\r\nvar withItems = function (items, stream) {\r\n    return zipItems(keepLeft, items, stream);\r\n};\r\nvar zipItems = function (f, items, stream) {\r\n    return isCanonicalEmpty(stream) || items.length === 0\r\n        ? empty()\r\n        : new ZipItems(f, items, take(items.length, stream));\r\n};\r\nvar keepLeft = function (a) { return a; };\r\nvar ZipItems = /** @class */ (function () {\r\n    function ZipItems(f, items, source) {\r\n        this.f = f;\r\n        this.items = items;\r\n        this.source = source;\r\n    }\r\n    ZipItems.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(new ZipItemsSink(this.f, this.items, sink), scheduler);\r\n    };\r\n    return ZipItems;\r\n}());\r\nvar ZipItemsSink = /** @class */ (function (_super) {\r\n    __extends(ZipItemsSink, _super);\r\n    function ZipItemsSink(f, items, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.f = f;\r\n        _this.items = items;\r\n        _this.index = 0;\r\n        return _this;\r\n    }\r\n    ZipItemsSink.prototype.event = function (t, b) {\r\n        var f = this.f;\r\n        this.sink.event(t, f(this.items[this.index], b));\r\n        this.index += 1;\r\n    };\r\n    return ZipItemsSink;\r\n}(Pipe));\n\n// Copied and modified from https://github.com/invertase/denque\r\n// MIT License\r\n// These constants were extracted directly from denque's shift()\r\n// It's not clear exactly why the authors chose these particular\r\n// values, but given denque's stated goals, it seems likely that\r\n// they were chosen for speed/memory reasons.\r\n// Max value of _head at which Queue is willing to shink\r\n// its internal array\r\nvar HEAD_MAX_SHRINK = 2;\r\n// Min value of _tail at which Queue is willing to shink\r\n// its internal array\r\nvar TAIL_MIN_SHRINK = 10000;\r\nvar Queue = /** @class */ (function () {\r\n    function Queue() {\r\n        this.head = 0;\r\n        this.tail = 0;\r\n        this.capacityMask = 0x3;\r\n        this.list = new Array(4);\r\n    }\r\n    Queue.prototype.push = function (x) {\r\n        var tail = this.tail;\r\n        this.list[tail] = x;\r\n        this.tail = (tail + 1) & this.capacityMask;\r\n        if (this.tail === this.head) {\r\n            this.growArray();\r\n        }\r\n        if (this.head < this.tail) {\r\n            return this.tail - this.head;\r\n        }\r\n        else {\r\n            return this.capacityMask + 1 - (this.head - this.tail);\r\n        }\r\n    };\r\n    Queue.prototype.shift = function () {\r\n        var head = this.head;\r\n        if (head === this.tail) {\r\n            return undefined;\r\n        }\r\n        var x = this.list[head];\r\n        this.list[head] = undefined;\r\n        this.head = (head + 1) & this.capacityMask;\r\n        if (head < HEAD_MAX_SHRINK &&\r\n            this.tail > TAIL_MIN_SHRINK &&\r\n            this.tail <= this.list.length >>> 2) {\r\n            this.shrinkArray();\r\n        }\r\n        return x;\r\n    };\r\n    Queue.prototype.isEmpty = function () {\r\n        return this.head === this.tail;\r\n    };\r\n    Queue.prototype.length = function () {\r\n        if (this.head === this.tail) {\r\n            return 0;\r\n        }\r\n        else if (this.head < this.tail) {\r\n            return this.tail - this.head;\r\n        }\r\n        else {\r\n            return this.capacityMask + 1 - (this.head - this.tail);\r\n        }\r\n    };\r\n    Queue.prototype.growArray = function () {\r\n        if (this.head) {\r\n            // copy existing data, head to end, then beginning to tail.\r\n            this.list = this.copyArray();\r\n            this.head = 0;\r\n        }\r\n        // head is at 0 and array is now full, safe to extend\r\n        this.tail = this.list.length;\r\n        this.list.length *= 2;\r\n        this.capacityMask = (this.capacityMask << 1) | 1;\r\n    };\r\n    Queue.prototype.shrinkArray = function () {\r\n        this.list.length >>>= 1;\r\n        this.capacityMask >>>= 1;\r\n    };\r\n    Queue.prototype.copyArray = function () {\r\n        var newArray = [];\r\n        var list = this.list;\r\n        var len = list.length;\r\n        var i;\r\n        for (i = this.head; i < len; i++) {\r\n            newArray.push(list[i]);\r\n        }\r\n        for (i = 0; i < this.tail; i++) {\r\n            newArray.push(list[i]);\r\n        }\r\n        return newArray;\r\n    };\r\n    return Queue;\r\n}());\n\n/** @license MIT License (c) copyright 2010 original author or authors */\r\n/**\r\n * Combine two streams pairwise by index by applying f to values at corresponding\r\n * indices.  The returned stream ends when either of the input streams ends.\r\n * @param {function} f function to combine values\r\n * @returns {Stream} new stream with items at corresponding indices combined\r\n *  using f\r\n */\r\nfunction zip(f, stream1, stream2) {\r\n    return zipArray(f, [stream1, stream2]);\r\n}\r\n/**\r\n* Combine streams pairwise (or tuple-wise) by index by applying f to values\r\n* at corresponding indices.  The returned stream ends when any of the input\r\n* streams ends.\r\n* @param {function} f function to combine values\r\n* @param {[Stream]} streams streams to zip using f\r\n* @returns {Stream} new stream with items at corresponding indices combined\r\n*  using f\r\n*/\r\nvar zipArray = function (f, streams) {\r\n    return streams.length === 0 || containsCanonicalEmpty(streams) ? empty()\r\n        : streams.length === 1 ? map(f, streams[0])\r\n            : new Zip(f, streams);\r\n};\r\nvar Zip = /** @class */ (function () {\r\n    function Zip(f, sources) {\r\n        this.f = f;\r\n        this.sources = sources;\r\n    }\r\n    Zip.prototype.run = function (sink, scheduler) {\r\n        var l = this.sources.length;\r\n        var disposables = new Array(l);\r\n        var sinks = new Array(l);\r\n        var buffers = new Array(l);\r\n        var zipSink = new ZipSink(this.f, buffers, sinks, sink);\r\n        for (var indexSink = void 0, i = 0; i < l; ++i) {\r\n            buffers[i] = new Queue();\r\n            indexSink = sinks[i] = new IndexSink(i, zipSink);\r\n            disposables[i] = this.sources[i].run(indexSink, scheduler);\r\n        }\r\n        return disposeAll(disposables);\r\n    };\r\n    return Zip;\r\n}());\r\nvar ZipSink = /** @class */ (function (_super) {\r\n    __extends(ZipSink, _super);\r\n    function ZipSink(f, buffers, sinks, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.f = f;\r\n        _this.sinks = sinks;\r\n        _this.buffers = buffers;\r\n        return _this;\r\n    }\r\n    ZipSink.prototype.event = function (t, indexedValue) {\r\n        /* eslint complexity: [1, 5] */\r\n        if (!indexedValue.active) {\r\n            this.dispose(t, indexedValue.index);\r\n            return;\r\n        }\r\n        var buffers = this.buffers;\r\n        var buffer = buffers[indexedValue.index];\r\n        buffer.push(indexedValue.value);\r\n        if (buffer.length() === 1) {\r\n            if (!ready(buffers)) {\r\n                return;\r\n            }\r\n            emitZipped(this.f, t, buffers, this.sink);\r\n            if (ended(this.buffers, this.sinks)) {\r\n                this.sink.end(t);\r\n            }\r\n        }\r\n    };\r\n    ZipSink.prototype.dispose = function (t, index) {\r\n        var buffer = this.buffers[index];\r\n        if (buffer.isEmpty()) {\r\n            this.sink.end(t);\r\n        }\r\n    };\r\n    return ZipSink;\r\n}(Pipe));\r\nvar emitZipped = function (f, t, buffers, sink) {\r\n    return sink.event(t, invoke(f, map$2(head, buffers)));\r\n};\r\nvar head = function (buffer) { return buffer.shift(); };\r\nfunction ended(buffers, sinks) {\r\n    for (var i = 0, l = buffers.length; i < l; ++i) {\r\n        if (buffers[i].isEmpty() && !sinks[i].active) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction ready(buffers) {\r\n    for (var i = 0, l = buffers.length; i < l; ++i) {\r\n        if (buffers[i].isEmpty()) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/**\r\n * Given a stream of streams, return a new stream that adopts the behavior\r\n * of the most recent inner stream.\r\n * @param stream of streams on which to switch\r\n * @returns switching stream\r\n */\r\nvar switchLatest = function (stream) {\r\n    return isCanonicalEmpty(stream)\r\n        ? empty()\r\n        : new Switch(stream);\r\n};\r\nvar Switch = /** @class */ (function () {\r\n    function Switch(source) {\r\n        this.source = source;\r\n    }\r\n    Switch.prototype.run = function (sink, scheduler) {\r\n        var switchSink = new SwitchSink(sink, scheduler);\r\n        return disposeBoth(switchSink, this.source.run(switchSink, scheduler));\r\n    };\r\n    return Switch;\r\n}());\r\nvar SwitchSink = /** @class */ (function () {\r\n    function SwitchSink(sink, scheduler) {\r\n        this.sink = sink;\r\n        this.scheduler = scheduler;\r\n        this.current = null;\r\n        this.ended = false;\r\n    }\r\n    SwitchSink.prototype.event = function (t, stream) {\r\n        this.disposeCurrent(t);\r\n        this.current = new Segment(stream, t, Infinity, this, this.sink, this.scheduler);\r\n    };\r\n    SwitchSink.prototype.end = function (t) {\r\n        this.ended = true;\r\n        this.checkEnd(t);\r\n    };\r\n    SwitchSink.prototype.error = function (t, e) {\r\n        this.ended = true;\r\n        this.sink.error(t, e);\r\n    };\r\n    SwitchSink.prototype.dispose = function () {\r\n        return this.disposeCurrent(currentTime(this.scheduler));\r\n    };\r\n    SwitchSink.prototype.disposeCurrent = function (t) {\r\n        if (this.current !== null) {\r\n            return this.current.dispose(t);\r\n        }\r\n    };\r\n    SwitchSink.prototype.disposeInner = function (t, inner) {\r\n        inner.dispose(t);\r\n        if (inner === this.current) {\r\n            this.current = null;\r\n        }\r\n    };\r\n    SwitchSink.prototype.checkEnd = function (t) {\r\n        if (this.ended && this.current === null) {\r\n            this.sink.end(t);\r\n        }\r\n    };\r\n    SwitchSink.prototype.endInner = function (t, inner) {\r\n        this.disposeInner(t, inner);\r\n        this.checkEnd(t);\r\n    };\r\n    SwitchSink.prototype.errorInner = function (t, e, inner) {\r\n        this.disposeInner(t, inner);\r\n        this.sink.error(t, e);\r\n    };\r\n    return SwitchSink;\r\n}());\r\nvar Segment = /** @class */ (function () {\r\n    function Segment(source, min, max, outer, sink, scheduler) {\r\n        this.min = min;\r\n        this.max = max;\r\n        this.outer = outer;\r\n        this.sink = sink;\r\n        this.disposable = source.run(this, schedulerRelativeTo(min, scheduler));\r\n    }\r\n    Segment.prototype.event = function (t, x) {\r\n        var time = Math.max(0, t + this.min);\r\n        if (time < this.max) {\r\n            this.sink.event(time, x);\r\n        }\r\n    };\r\n    Segment.prototype.end = function (t) {\r\n        this.outer.endInner(t + this.min, this);\r\n    };\r\n    Segment.prototype.error = function (t, e) {\r\n        this.outer.errorInner(t + this.min, e, this);\r\n    };\r\n    Segment.prototype.dispose = function (t) {\r\n        tryDispose$1(t, this.disposable, this.sink);\r\n    };\r\n    return Segment;\r\n}());\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\nfunction filter(p, stream) {\r\n    return Filter.create(p, stream);\r\n}\r\n/**\r\n * Skip repeated events, using === to detect duplicates\r\n * @param stream stream from which to omit repeated events\r\n * @returns stream without repeated events\r\n */\r\nvar skipRepeats = function (stream) {\r\n    return skipRepeatsWith(same, stream);\r\n};\r\n/**\r\n * Skip repeated events using the provided equals function to detect duplicates\r\n * @param equals optional function to compare items\r\n * @param stream stream from which to omit repeated events\r\n * @returns stream without repeated events\r\n */\r\nvar skipRepeatsWith = function (equals, stream) {\r\n    return isCanonicalEmpty(stream) ? empty()\r\n        : new SkipRepeats(equals, stream);\r\n};\r\nvar SkipRepeats = /** @class */ (function () {\r\n    function SkipRepeats(equals, source) {\r\n        this.equals = equals;\r\n        this.source = source;\r\n    }\r\n    SkipRepeats.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(new SkipRepeatsSink(this.equals, sink), scheduler);\r\n    };\r\n    return SkipRepeats;\r\n}());\r\nvar SkipRepeatsSink = /** @class */ (function (_super) {\r\n    __extends(SkipRepeatsSink, _super);\r\n    function SkipRepeatsSink(equals, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.equals = equals;\r\n        _this.value = undefined;\r\n        _this.init = true;\r\n        return _this;\r\n    }\r\n    SkipRepeatsSink.prototype.event = function (t, x) {\r\n        if (this.init) {\r\n            this.init = false;\r\n            this.value = x;\r\n            this.sink.event(t, x);\r\n            // TODO: value should be boxed to avoid ! bang\r\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n        }\r\n        else if (!this.equals(this.value, x)) {\r\n            this.value = x;\r\n            this.sink.event(t, x);\r\n        }\r\n    };\r\n    return SkipRepeatsSink;\r\n}(Pipe));\r\nfunction same(a, b) {\r\n    return a === b;\r\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\nvar until = function (signal, stream) {\r\n    return new Until(signal, stream);\r\n};\r\nvar since = function (signal, stream) {\r\n    return new Since(signal, stream);\r\n};\r\nvar during = function (timeWindow, stream) {\r\n    return until(join(timeWindow), since(timeWindow, stream));\r\n};\r\nvar Until = /** @class */ (function () {\r\n    function Until(maxSignal, source) {\r\n        this.maxSignal = maxSignal;\r\n        this.source = source;\r\n    }\r\n    Until.prototype.run = function (sink, scheduler) {\r\n        var disposable = new SettableDisposable();\r\n        var d1 = this.source.run(sink, scheduler);\r\n        var d2 = this.maxSignal.run(new UntilSink(sink, disposable), scheduler);\r\n        disposable.setDisposable(disposeBoth(d1, d2));\r\n        return disposable;\r\n    };\r\n    return Until;\r\n}());\r\nvar Since = /** @class */ (function () {\r\n    function Since(minSignal, source) {\r\n        this.minSignal = minSignal;\r\n        this.source = source;\r\n    }\r\n    Since.prototype.run = function (sink, scheduler) {\r\n        var min = new LowerBoundSink(this.minSignal, sink, scheduler);\r\n        var d = this.source.run(new SinceSink(min, sink), scheduler);\r\n        return disposeBoth(min, d);\r\n    };\r\n    return Since;\r\n}());\r\nvar SinceSink = /** @class */ (function (_super) {\r\n    __extends(SinceSink, _super);\r\n    function SinceSink(min, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.min = min;\r\n        return _this;\r\n    }\r\n    SinceSink.prototype.event = function (t, x) {\r\n        if (this.min.allow) {\r\n            this.sink.event(t, x);\r\n        }\r\n    };\r\n    return SinceSink;\r\n}(Pipe));\r\nvar LowerBoundSink = /** @class */ (function (_super) {\r\n    __extends(LowerBoundSink, _super);\r\n    function LowerBoundSink(signal, sink, scheduler) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.allow = false;\r\n        _this.disposable = signal.run(_this, scheduler);\r\n        return _this;\r\n    }\r\n    LowerBoundSink.prototype.event = function () {\r\n        this.allow = true;\r\n        this.dispose();\r\n    };\r\n    LowerBoundSink.prototype.end = function () { };\r\n    LowerBoundSink.prototype.dispose = function () {\r\n        this.disposable.dispose();\r\n    };\r\n    return LowerBoundSink;\r\n}(Pipe));\r\nvar UntilSink = /** @class */ (function (_super) {\r\n    __extends(UntilSink, _super);\r\n    function UntilSink(sink, disposable) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.disposable = disposable;\r\n        return _this;\r\n    }\r\n    UntilSink.prototype.event = function (t) {\r\n        this.disposable.dispose();\r\n        this.sink.end(t);\r\n    };\r\n    UntilSink.prototype.end = function () { };\r\n    return UntilSink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/**\r\n * @param delayTime milliseconds to delay each item\r\n * @param stream\r\n * @returns new stream containing the same items, but delayed by ms\r\n */\r\nvar delay = function (delayTime, stream) {\r\n    return delayTime <= 0 ? stream : new Delay(delayTime, stream);\r\n};\r\nvar Delay = /** @class */ (function () {\r\n    function Delay(dt, source) {\r\n        this.dt = dt;\r\n        this.source = source;\r\n    }\r\n    Delay.prototype.run = function (sink, scheduler) {\r\n        var delaySink = new DelaySink(this.dt, sink, scheduler);\r\n        return disposeBoth(delaySink, this.source.run(delaySink, scheduler));\r\n    };\r\n    return Delay;\r\n}());\r\nvar DelaySink = /** @class */ (function (_super) {\r\n    __extends(DelaySink, _super);\r\n    function DelaySink(dt, sink, scheduler) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.dt = dt;\r\n        _this.scheduler = scheduler;\r\n        _this.tasks = [];\r\n        return _this;\r\n    }\r\n    DelaySink.prototype.dispose = function () {\r\n        this.tasks.forEach(cancelTask);\r\n    };\r\n    DelaySink.prototype.event = function (_t, x) {\r\n        this.tasks.push(delay$2(this.dt, propagateEventTask(x, this.sink), this.scheduler));\r\n    };\r\n    DelaySink.prototype.end = function () {\r\n        this.tasks.push(delay$2(this.dt, propagateEndTask(this.sink), this.scheduler));\r\n    };\r\n    return DelaySink;\r\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\n/**\r\n * Limit the rate of events by suppressing events that occur too often\r\n * @param period time to suppress events\r\n * @param stream\r\n */\r\nvar throttle = function (period, stream) {\r\n    return isCanonicalEmpty(stream) ? empty()\r\n        : stream instanceof Map ? commuteMapThrottle(period, stream)\r\n            : stream instanceof Throttle ? fuseThrottle(period, stream)\r\n                : new Throttle(period, stream);\r\n};\r\nvar commuteMapThrottle = function (period, mapStream) {\r\n    return Map.create(mapStream.f, throttle(period, mapStream.source));\r\n};\r\nvar fuseThrottle = function (period, throttleStream) {\r\n    return new Throttle(Math.max(period, throttleStream.period), throttleStream.source);\r\n};\r\nvar Throttle = /** @class */ (function () {\r\n    function Throttle(period, source) {\r\n        this.period = period;\r\n        this.source = source;\r\n    }\r\n    Throttle.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(new ThrottleSink(this.period, sink), scheduler);\r\n    };\r\n    return Throttle;\r\n}());\r\nvar ThrottleSink = /** @class */ (function (_super) {\r\n    __extends(ThrottleSink, _super);\r\n    function ThrottleSink(period, sink) {\r\n        var _this = _super.call(this, sink) || this;\r\n        _this.time = 0;\r\n        _this.period = period;\r\n        return _this;\r\n    }\r\n    ThrottleSink.prototype.event = function (t, x) {\r\n        if (t >= this.time) {\r\n            this.time = t + this.period;\r\n            this.sink.event(t, x);\r\n        }\r\n    };\r\n    return ThrottleSink;\r\n}(Pipe));\r\n/**\r\n * Wait for a burst of events to subside and emit only the last event in the burst\r\n * @param period events occuring more frequently than this will be suppressed\r\n * @param stream stream to debounce\r\n * @returns new debounced stream\r\n */\r\nvar debounce = function (period, stream) {\r\n    return isCanonicalEmpty(stream) ? empty()\r\n        : new Debounce(period, stream);\r\n};\r\nvar Debounce = /** @class */ (function () {\r\n    function Debounce(dt, source) {\r\n        this.dt = dt;\r\n        this.source = source;\r\n    }\r\n    Debounce.prototype.run = function (sink, scheduler) {\r\n        return new DebounceSink(this.dt, this.source, sink, scheduler);\r\n    };\r\n    return Debounce;\r\n}());\r\nvar DebounceSink = /** @class */ (function () {\r\n    function DebounceSink(dt, source, sink, scheduler) {\r\n        this.dt = dt;\r\n        this.sink = sink;\r\n        this.scheduler = scheduler;\r\n        this.timer = null;\r\n        this.disposable = source.run(this, scheduler);\r\n    }\r\n    DebounceSink.prototype.event = function (_t, x) {\r\n        this.clearTimer();\r\n        this.value = x;\r\n        this.timer = delay$2(this.dt, new DebounceTask(this, x), this.scheduler);\r\n    };\r\n    DebounceSink.prototype.handleEventFromTask = function (t, x) {\r\n        this.clearTimer();\r\n        this.sink.event(t, x);\r\n    };\r\n    DebounceSink.prototype.end = function (t) {\r\n        if (this.clearTimer()) {\r\n            // TODO: value should be boxed to avoid ! bang\r\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n            this.sink.event(t, this.value);\r\n            this.value = undefined;\r\n        }\r\n        this.sink.end(t);\r\n    };\r\n    DebounceSink.prototype.error = function (t, x) {\r\n        this.clearTimer();\r\n        this.sink.error(t, x);\r\n    };\r\n    DebounceSink.prototype.dispose = function () {\r\n        this.clearTimer();\r\n        this.disposable.dispose();\r\n    };\r\n    DebounceSink.prototype.clearTimer = function () {\r\n        if (this.timer === null) {\r\n            return false;\r\n        }\r\n        this.timer.dispose();\r\n        this.timer = null;\r\n        return true;\r\n    };\r\n    return DebounceSink;\r\n}());\r\nvar DebounceTask = /** @class */ (function () {\r\n    function DebounceTask(sink, value) {\r\n        this.sink = sink;\r\n        this.value = value;\r\n    }\r\n    DebounceTask.prototype.run = function (t) {\r\n        this.sink.handleEventFromTask(t, this.value);\r\n    };\r\n    DebounceTask.prototype.error = function (t, e) {\r\n        this.sink.error(t, e);\r\n    };\r\n    DebounceTask.prototype.dispose = function () { };\r\n    return DebounceTask;\r\n}());\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/**\r\n * Turn a Stream<Promise<T>> into Stream<T> by awaiting each promise.\r\n * Event order is preserved. The stream will fail if any promise rejects.\r\n */\r\nvar awaitPromises = function (stream) {\r\n    return isCanonicalEmpty(stream) ? empty() : new Await(stream);\r\n};\r\n/**\r\n * Create a stream containing only the promise's fulfillment\r\n * value at the time it fulfills.\r\n * @param promise\r\n * @return stream containing promise's fulfillment value.\r\n *  If the promise rejects, the stream will error\r\n */\r\nvar fromPromise = function (promise) { return awaitPromises(now(promise)); };\r\nvar Await = /** @class */ (function () {\r\n    function Await(source) {\r\n        this.source = source;\r\n    }\r\n    Await.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(new AwaitSink(sink, scheduler), scheduler);\r\n    };\r\n    return Await;\r\n}());\r\nvar AwaitSink = /** @class */ (function () {\r\n    function AwaitSink(sink, scheduler) {\r\n        var _this = this;\r\n        // Pre-create closures, to avoid creating them per event\r\n        this.eventBound = function (x) { return _this.sink.event(currentTime(_this.scheduler), x); };\r\n        this.endBound = function () { return _this.sink.end(currentTime(_this.scheduler)); };\r\n        this.errorBound = function (e) { return _this.sink.error(currentTime(_this.scheduler), e); };\r\n        this.sink = sink;\r\n        this.scheduler = scheduler;\r\n        this.queue = Promise.resolve();\r\n    }\r\n    AwaitSink.prototype.event = function (_t, promise) {\r\n        var _this = this;\r\n        this.queue = this.queue.then(function () { return _this.handlePromise(promise); })\r\n            .catch(this.errorBound);\r\n    };\r\n    AwaitSink.prototype.end = function () {\r\n        this.queue = this.queue.then(this.endBound)\r\n            .catch(this.errorBound);\r\n    };\r\n    AwaitSink.prototype.error = function (_t, e) {\r\n        var _this = this;\r\n        // Don't resolve error values, propagate directly\r\n        this.queue = this.queue.then(function () { return _this.errorBound(e); })\r\n            .catch(fatalError);\r\n    };\r\n    AwaitSink.prototype.handlePromise = function (promise) {\r\n        return promise.then(this.eventBound);\r\n    };\r\n    return AwaitSink;\r\n}());\n\nvar SafeSink = /** @class */ (function () {\r\n    function SafeSink(sink) {\r\n        this.sink = sink;\r\n        this.active = true;\r\n    }\r\n    SafeSink.prototype.event = function (t, x) {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        this.sink.event(t, x);\r\n    };\r\n    SafeSink.prototype.end = function (t) {\r\n        if (!this.active) {\r\n            return;\r\n        }\r\n        this.disable();\r\n        this.sink.end(t);\r\n    };\r\n    SafeSink.prototype.error = function (t, e) {\r\n        this.disable();\r\n        this.sink.error(t, e);\r\n    };\r\n    SafeSink.prototype.disable = function () {\r\n        this.active = false;\r\n        return this.sink;\r\n    };\r\n    return SafeSink;\r\n}());\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/** @author Brian Cavalier */\r\n/** @author John Hann */\r\nfunction tryEvent(t, x, sink) {\r\n    try {\r\n        sink.event(t, x);\r\n    }\r\n    catch (e) {\r\n        sink.error(t, e);\r\n    }\r\n}\r\nfunction tryEnd(t, sink) {\r\n    try {\r\n        sink.end(t);\r\n    }\r\n    catch (e) {\r\n        sink.error(t, e);\r\n    }\r\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n/**\r\n * If stream encounters an error, recover and continue with items from stream\r\n * returned by f.\r\n * @param f which returns a new stream\r\n * @param stream\r\n * @returns new stream which will recover from an error by calling f\r\n */\r\nvar recoverWith = function (f, stream) {\r\n    return isCanonicalEmpty(stream) ? empty()\r\n        : new RecoverWith(f, stream);\r\n};\r\n/**\r\n * Create a stream containing only an error\r\n * @param e error value, preferably an Error or Error subtype\r\n * @returns new stream containing only an error\r\n */\r\nvar throwError = function (e) {\r\n    return new ErrorStream(e);\r\n};\r\nvar ErrorStream = /** @class */ (function () {\r\n    function ErrorStream(e) {\r\n        this.value = e;\r\n    }\r\n    ErrorStream.prototype.run = function (sink, scheduler) {\r\n        return asap(propagateErrorTask(this.value, sink), scheduler);\r\n    };\r\n    return ErrorStream;\r\n}());\r\nvar RecoverWith = /** @class */ (function () {\r\n    function RecoverWith(f, source) {\r\n        this.f = f;\r\n        this.source = source;\r\n    }\r\n    RecoverWith.prototype.run = function (sink, scheduler) {\r\n        return new RecoverWithSink(this.f, this.source, sink, scheduler);\r\n    };\r\n    return RecoverWith;\r\n}());\r\nvar RecoverWithSink = /** @class */ (function () {\r\n    function RecoverWithSink(f, source, sink, scheduler) {\r\n        this.f = f;\r\n        this.sink = new SafeSink(sink);\r\n        this.scheduler = scheduler;\r\n        this.disposable = source.run(this, scheduler);\r\n    }\r\n    RecoverWithSink.prototype.event = function (t, x) {\r\n        tryEvent(t, x, this.sink);\r\n    };\r\n    RecoverWithSink.prototype.end = function (t) {\r\n        tryEnd(t, this.sink);\r\n    };\r\n    RecoverWithSink.prototype.error = function (t, e) {\r\n        var nextSink = this.sink.disable();\r\n        tryDispose$1(t, this.disposable, this.sink);\r\n        this._startNext(t, e, nextSink);\r\n    };\r\n    RecoverWithSink.prototype._startNext = function (t, x, sink) {\r\n        try {\r\n            this.disposable = this._continue(this.f, t, x, sink);\r\n        }\r\n        catch (e) {\r\n            sink.error(t, e);\r\n        }\r\n    };\r\n    RecoverWithSink.prototype._continue = function (f, t, x, sink) {\r\n        return run(sink, this.scheduler, withLocalTime(t, f(x)));\r\n    };\r\n    RecoverWithSink.prototype.dispose = function () {\r\n        return this.disposable.dispose();\r\n    };\r\n    return RecoverWithSink;\r\n}());\n\nvar multicast = function (stream) {\r\n    return stream instanceof Multicast || isCanonicalEmpty(stream)\r\n        ? stream\r\n        : new Multicast(stream);\r\n};\r\nvar Multicast = /** @class */ (function () {\r\n    function Multicast(source) {\r\n        this.source = new MulticastSource(source);\r\n    }\r\n    Multicast.prototype.run = function (sink, scheduler) {\r\n        return this.source.run(sink, scheduler);\r\n    };\r\n    return Multicast;\r\n}());\r\nvar MulticastSource = /** @class */ (function () {\r\n    function MulticastSource(source) {\r\n        this.source = source;\r\n        this.sinks = [];\r\n        this.disposable = disposeNone();\r\n    }\r\n    MulticastSource.prototype.run = function (sink, scheduler) {\r\n        var n = this.add(sink);\r\n        if (n === 1) {\r\n            this.disposable = this.source.run(this, scheduler);\r\n        }\r\n        return disposeOnce(new MulticastDisposable(this, sink));\r\n    };\r\n    MulticastSource.prototype.dispose = function () {\r\n        var disposable = this.disposable;\r\n        this.disposable = disposeNone();\r\n        return disposable.dispose();\r\n    };\r\n    MulticastSource.prototype.add = function (sink) {\r\n        this.sinks = append(sink, this.sinks);\r\n        return this.sinks.length;\r\n    };\r\n    MulticastSource.prototype.remove = function (sink) {\r\n        var i = findIndex(sink, this.sinks);\r\n        // istanbul ignore next\r\n        if (i >= 0) {\r\n            this.sinks = remove(i, this.sinks);\r\n        }\r\n        return this.sinks.length;\r\n    };\r\n    MulticastSource.prototype.event = function (time, value) {\r\n        var s = this.sinks;\r\n        if (s.length === 1) {\r\n            return s[0].event(time, value);\r\n        }\r\n        for (var i = 0; i < s.length; ++i) {\r\n            tryEvent(time, value, s[i]);\r\n        }\r\n    };\r\n    MulticastSource.prototype.end = function (time) {\r\n        var s = this.sinks;\r\n        for (var i = 0; i < s.length; ++i) {\r\n            tryEnd(time, s[i]);\r\n        }\r\n    };\r\n    MulticastSource.prototype.error = function (time, err) {\r\n        var s = this.sinks;\r\n        for (var i = 0; i < s.length; ++i) {\r\n            s[i].error(time, err);\r\n        }\r\n    };\r\n    return MulticastSource;\r\n}());\r\nvar MulticastDisposable = /** @class */ (function () {\r\n    function MulticastDisposable(source, sink) {\r\n        this.source = source;\r\n        this.sink = sink;\r\n    }\r\n    MulticastDisposable.prototype.dispose = function () {\r\n        if (this.source.remove(this.sink) === 0) {\r\n            this.source.dispose();\r\n        }\r\n    };\r\n    return MulticastDisposable;\r\n}());\n\n/** @license MIT License (c) copyright 2016 original author or authors */\r\nvar run$1 = curry3(run);\r\nvar withLocalTime$1 = curry2(withLocalTime);\r\nvar loop$1 = curry3(loop);\r\nvar scan$1 = curry3(scan);\r\nvar startWith$1 = curry2(startWith);\r\nvar map$1 = curry2(map);\r\nvar constant$1 = curry2(constant);\r\nvar tap$1 = curry2(tap);\r\nvar ap$1 = curry2(ap);\r\nvar chain$1 = curry2(chain);\r\nvar continueWith$1 = curry2(continueWith);\r\nvar concatMap$1 = curry2(concatMap);\r\nvar mergeConcurrently$1 = curry2(mergeConcurrently);\r\nvar mergeMapConcurrently$1 = curry3(mergeMapConcurrently);\r\nvar merge$1 = curry2(merge);\r\nvar combine$1 = curry3(combine);\r\nvar combineArray$1 = curry2(combineArray);\r\nvar sample$1 = curry2(sample);\r\nvar snapshot$1 = curry3(snapshot);\r\nvar zipItems$1 = curry3(zipItems);\r\nvar withItems$1 = curry2(withItems);\r\nvar zip$1 = curry3(zip);\r\nvar zipArray$1 = curry2(zipArray);\r\nvar filter$1 = curry2(filter);\r\nvar skipRepeatsWith$1 = curry2(skipRepeatsWith);\r\nvar take$1 = curry2(take);\r\nvar skip$1 = curry2(skip);\r\nvar slice$1 = curry3(slice);\r\nvar takeWhile$1 = curry2(takeWhile);\r\nvar skipWhile$1 = curry2(skipWhile);\r\nvar skipAfter$1 = curry2(skipAfter);\r\nvar until$1 = curry2(until);\r\nvar since$1 = curry2(since);\r\nvar during$1 = curry2(during);\r\nvar delay$1 = curry2(delay);\r\nvar throttle$1 = curry2(throttle);\r\nvar debounce$1 = curry2(debounce);\r\nvar recoverWith$1 = curry2(recoverWith);\r\nvar propagateTask$1 = curry3(propagateTask);\r\nvar propagateEventTask$1 = curry2(propagateEventTask);\r\nvar propagateErrorTask$1 = curry2(propagateErrorTask);\n\nexport { MulticastSource, ap$1 as ap, at, awaitPromises, chain$1 as chain, combine$1 as combine, combineArray$1 as combineArray, concatMap$1 as concatMap, constant$1 as constant, continueWith$1 as continueWith, debounce$1 as debounce, delay$1 as delay, during$1 as during, empty, filter$1 as filter, fromPromise, join, loop$1 as loop, map$1 as map, merge$1 as merge, mergeArray, mergeConcurrently$1 as mergeConcurrently, mergeMapConcurrently$1 as mergeMapConcurrently, multicast, never, newStream, now, periodic, propagateEndTask, propagateErrorTask$1 as propagateErrorTask, propagateEventTask$1 as propagateEventTask, propagateTask$1 as propagateTask, recoverWith$1 as recoverWith, run$1 as run, runEffects, sample$1 as sample, scan$1 as scan, since$1 as since, skip$1 as skip, skipAfter$1 as skipAfter, skipRepeats, skipRepeatsWith$1 as skipRepeatsWith, skipWhile$1 as skipWhile, slice$1 as slice, snapshot$1 as snapshot, startWith$1 as startWith, switchLatest, take$1 as take, takeWhile$1 as takeWhile, tap$1 as tap, throttle$1 as throttle, throwError, until$1 as until, withItems$1 as withItems, withLocalTime$1 as withLocalTime, zip$1 as zip, zipArray$1 as zipArray, zipItems$1 as zipItems };\n//# sourceMappingURL=index.es.js.map\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\n// Non-mutating array operations\r\n/**\r\n * a with x prepended\r\n */\r\nfunction cons(x, a) {\r\n    var l = a.length;\r\n    var b = new Array(l + 1);\r\n    b[0] = x;\r\n    for (var i = 0; i < l; ++i) {\r\n        b[i + 1] = a[i];\r\n    }\r\n    return b;\r\n}\r\n/**\r\n * a with x appended\r\n */\r\nfunction append(x, a) {\r\n    var l = a.length;\r\n    var b = new Array(l + 1);\r\n    for (var i = 0; i < l; ++i) {\r\n        b[i] = a[i];\r\n    }\r\n    b[l] = x;\r\n    return b;\r\n}\r\n/**\r\n * Concats two `ArrayLike`s\r\n */\r\nfunction concat(a, b) {\r\n    var al = a.length;\r\n    var bl = b.length;\r\n    var r = new Array(al + bl);\r\n    var i = 0;\r\n    for (i = 0; i < al; i++) {\r\n        r[i] = a[i];\r\n    }\r\n    for (var j = 0; j < bl; j++) {\r\n        r[i++] = b[j];\r\n    }\r\n    return r;\r\n}\r\n//\r\n/**\r\n * drop first n elements\r\n */\r\nfunction drop(n, a) {\r\n    if (n < 0) {\r\n        throw new TypeError('n must be >= 0');\r\n    }\r\n    var l = a.length;\r\n    if (n === 0 || l === 0) {\r\n        return a;\r\n    }\r\n    if (n >= l) {\r\n        return [];\r\n    }\r\n    return unsafeDrop(n, a, l - n);\r\n}\r\n/**\r\n * Internal helper for drop\r\n */\r\nfunction unsafeDrop(n, a, l) {\r\n    var b = new Array(l);\r\n    for (var i = 0; i < l; ++i) {\r\n        b[i] = a[n + i];\r\n    }\r\n    return b;\r\n}\r\n/**\r\n * drop head element\r\n */\r\nfunction tail(a) {\r\n    return drop(1, a);\r\n}\r\n/**\r\n * duplicate a (shallow duplication)\r\n */\r\nfunction copy(a) {\r\n    var l = a.length;\r\n    var b = new Array(l);\r\n    for (var i = 0; i < l; ++i) {\r\n        b[i] = a[i];\r\n    }\r\n    return b;\r\n}\r\n/**\r\n * transform each element with f\r\n */\r\nfunction map(f, a) {\r\n    var l = a.length;\r\n    var b = new Array(l);\r\n    for (var i = 0; i < l; ++i) {\r\n        b[i] = f(a[i]);\r\n    }\r\n    return b;\r\n}\r\n/**\r\n * accumulate via left-fold\r\n */\r\nfunction reduce(f, z, a) {\r\n    var r = z;\r\n    for (var i = 0, l = a.length; i < l; ++i) {\r\n        r = f(r, a[i], i);\r\n    }\r\n    return r;\r\n}\r\n/**\r\n * replace element at index\r\n */\r\nfunction replace(x, i, a) {\r\n    if (i < 0) {\r\n        throw new TypeError('i must be >= 0');\r\n    }\r\n    var l = a.length;\r\n    var b = new Array(l);\r\n    for (var j = 0; j < l; ++j) {\r\n        b[j] = i === j ? x : a[j];\r\n    }\r\n    return b;\r\n}\r\n/**\r\n * remove element at index\r\n * @throws\r\n */\r\nfunction remove(i, a) {\r\n    if (i < 0) {\r\n        throw new TypeError('i must be >= 0');\r\n    }\r\n    var l = a.length;\r\n    if (l === 0 || i >= l) { // exit early if index beyond end of array\r\n        return a;\r\n    }\r\n    if (l === 1) { // exit early if index in bounds and length === 1\r\n        return [];\r\n    }\r\n    return unsafeRemove(i, a, l - 1);\r\n}\r\n/**\r\n * Internal helper to remove element at index\r\n */\r\nfunction unsafeRemove(i, a, l) {\r\n    var b = new Array(l);\r\n    var j;\r\n    for (j = 0; j < i; ++j) {\r\n        b[j] = a[j];\r\n    }\r\n    for (j = i; j < l; ++j) {\r\n        b[j] = a[j + 1];\r\n    }\r\n    return b;\r\n}\r\n/**\r\n * remove all elements matching a predicate\r\n * @deprecated\r\n */\r\nfunction removeAll(f, a) {\r\n    var l = a.length;\r\n    var b = new Array(l);\r\n    var j = 0;\r\n    for (var x = void 0, i = 0; i < l; ++i) {\r\n        x = a[i];\r\n        if (!f(x)) {\r\n            b[j] = x;\r\n            ++j;\r\n        }\r\n    }\r\n    b.length = j;\r\n    return b;\r\n}\r\n/**\r\n * find index of x in a, from the left\r\n */\r\nfunction findIndex(x, a) {\r\n    for (var i = 0, l = a.length; i < l; ++i) {\r\n        if (x === a[i]) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Return true iff x is array-like\r\n */\r\nfunction isArrayLike(x) {\r\n    return x != null && typeof x.length === 'number' && typeof x !== 'function';\r\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\r\nvar id = function (x) { return x; };\r\nvar compose = function (f, g) { return function (x) { return f(g(x)); }; };\r\nvar apply = function (f, x) { return f(x); };\r\nfunction curry2(f) {\r\n    function curried(a, b) {\r\n        switch (arguments.length) {\r\n            case 0: return curried;\r\n            case 1: return function (b) { return f(a, b); };\r\n            default: return f(a, b);\r\n        }\r\n    }\r\n    return curried;\r\n}\r\nfunction curry3(f) {\r\n    function curried(a, b, c) {\r\n        switch (arguments.length) {\r\n            case 0: return curried;\r\n            case 1: return curry2(function (b, c) { return f(a, b, c); });\r\n            case 2: return function (c) { return f(a, b, c); };\r\n            default: return f(a, b, c);\r\n        }\r\n    }\r\n    return curried;\r\n}\r\nfunction curry4(f) {\r\n    function curried(a, b, c, d) {\r\n        switch (arguments.length) {\r\n            case 0: return curried;\r\n            case 1: return curry3(function (b, c, d) { return f(a, b, c, d); });\r\n            case 2: return curry2(function (c, d) { return f(a, b, c, d); });\r\n            case 3: return function (d) { return f(a, b, c, d); };\r\n            default: return f(a, b, c, d);\r\n        }\r\n    }\r\n    return curried;\r\n}\n\nexport { append, apply, compose, concat, cons, copy, curry2, curry3, curry4, drop, findIndex, id, isArrayLike, map, reduce, remove, removeAll, replace, tail };\n//# sourceMappingURL=index.es.js.map\n","import { findIndex, removeAll, curry2, curry3 } from '@most/prelude';\n\nvar ScheduledTaskImpl = /** @class */ (function () {\r\n    function ScheduledTaskImpl(time, localOffset, period, task, scheduler) {\r\n        this.time = time;\r\n        this.localOffset = localOffset;\r\n        this.period = period;\r\n        this.task = task;\r\n        this.scheduler = scheduler;\r\n        this.active = true;\r\n    }\r\n    ScheduledTaskImpl.prototype.run = function () {\r\n        return this.task.run(this.time - this.localOffset);\r\n    };\r\n    ScheduledTaskImpl.prototype.error = function (e) {\r\n        return this.task.error(this.time - this.localOffset, e);\r\n    };\r\n    ScheduledTaskImpl.prototype.dispose = function () {\r\n        this.active = false;\r\n        this.scheduler.cancel(this);\r\n        return this.task.dispose();\r\n    };\r\n    return ScheduledTaskImpl;\r\n}());\n\nvar RelativeScheduler = /** @class */ (function () {\r\n    function RelativeScheduler(origin, scheduler) {\r\n        this.origin = origin;\r\n        this.scheduler = scheduler;\r\n    }\r\n    RelativeScheduler.prototype.currentTime = function () {\r\n        return this.scheduler.currentTime() - this.origin;\r\n    };\r\n    RelativeScheduler.prototype.scheduleTask = function (localOffset, delay, period, task) {\r\n        return this.scheduler.scheduleTask(localOffset + this.origin, delay, period, task);\r\n    };\r\n    RelativeScheduler.prototype.relative = function (origin) {\r\n        return new RelativeScheduler(origin + this.origin, this.scheduler);\r\n    };\r\n    RelativeScheduler.prototype.cancel = function (task) {\r\n        return this.scheduler.cancel(task);\r\n    };\r\n    RelativeScheduler.prototype.cancelAll = function (f) {\r\n        return this.scheduler.cancelAll(f);\r\n    };\r\n    return RelativeScheduler;\r\n}());\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\nvar defer = function (task) {\r\n    return Promise.resolve(task).then(runTask);\r\n};\r\nfunction runTask(task) {\r\n    try {\r\n        return task.run();\r\n    }\r\n    catch (e) {\r\n        return task.error(e);\r\n    }\r\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\nvar SchedulerImpl = /** @class */ (function () {\r\n    function SchedulerImpl(timer, timeline) {\r\n        var _this = this;\r\n        this._runReadyTasksBound = function () { return _this._runReadyTasks(); };\r\n        this.timer = timer;\r\n        this.timeline = timeline;\r\n        this._timer = null;\r\n        this._nextArrival = Infinity;\r\n    }\r\n    SchedulerImpl.prototype.currentTime = function () {\r\n        return this.timer.now();\r\n    };\r\n    SchedulerImpl.prototype.scheduleTask = function (localOffset, delay, period, task) {\r\n        var time = this.currentTime() + Math.max(0, delay);\r\n        var st = new ScheduledTaskImpl(time, localOffset, period, task, this);\r\n        this.timeline.add(st);\r\n        this._scheduleNextRun();\r\n        return st;\r\n    };\r\n    SchedulerImpl.prototype.relative = function (offset) {\r\n        return new RelativeScheduler(offset, this);\r\n    };\r\n    SchedulerImpl.prototype.cancel = function (task) {\r\n        task.active = false;\r\n        if (this.timeline.remove(task)) {\r\n            this._reschedule();\r\n        }\r\n    };\r\n    // @deprecated\r\n    SchedulerImpl.prototype.cancelAll = function (f) {\r\n        this.timeline.removeAll(f);\r\n        this._reschedule();\r\n    };\r\n    SchedulerImpl.prototype._reschedule = function () {\r\n        if (this.timeline.isEmpty()) {\r\n            this._unschedule();\r\n        }\r\n        else {\r\n            this._scheduleNextRun();\r\n        }\r\n    };\r\n    SchedulerImpl.prototype._unschedule = function () {\r\n        this.timer.clearTimer(this._timer);\r\n        this._timer = null;\r\n    };\r\n    SchedulerImpl.prototype._scheduleNextRun = function () {\r\n        if (this.timeline.isEmpty()) {\r\n            return;\r\n        }\r\n        var nextArrival = this.timeline.nextArrival();\r\n        if (this._timer === null) {\r\n            this._scheduleNextArrival(nextArrival);\r\n        }\r\n        else if (nextArrival < this._nextArrival) {\r\n            this._unschedule();\r\n            this._scheduleNextArrival(nextArrival);\r\n        }\r\n    };\r\n    SchedulerImpl.prototype._scheduleNextArrival = function (nextArrival) {\r\n        this._nextArrival = nextArrival;\r\n        var delay = Math.max(0, nextArrival - this.currentTime());\r\n        this._timer = this.timer.setTimer(this._runReadyTasksBound, delay);\r\n    };\r\n    SchedulerImpl.prototype._runReadyTasks = function () {\r\n        this._timer = null;\r\n        this.timeline.runTasks(this.currentTime(), runTask);\r\n        this._scheduleNextRun();\r\n    };\r\n    return SchedulerImpl;\r\n}());\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\nvar TimelineImpl = /** @class */ (function () {\r\n    function TimelineImpl() {\r\n        this.tasks = [];\r\n    }\r\n    TimelineImpl.prototype.nextArrival = function () {\r\n        return this.isEmpty() ? Infinity : this.tasks[0].time;\r\n    };\r\n    TimelineImpl.prototype.isEmpty = function () {\r\n        return this.tasks.length === 0;\r\n    };\r\n    TimelineImpl.prototype.add = function (st) {\r\n        insertByTime(st, this.tasks);\r\n    };\r\n    TimelineImpl.prototype.remove = function (st) {\r\n        var i = binarySearch(getTime(st), this.tasks);\r\n        if (i >= 0 && i < this.tasks.length) {\r\n            var events = this.tasks[i].events;\r\n            var at = findIndex(st, events);\r\n            if (at >= 0) {\r\n                events.splice(at, 1);\r\n                if (events.length === 0) {\r\n                    this.tasks.splice(i, 1);\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * @deprecated\r\n     */\r\n    TimelineImpl.prototype.removeAll = function (f) {\r\n        for (var i = 0; i < this.tasks.length; ++i) {\r\n            removeAllFrom(f, this.tasks[i]);\r\n        }\r\n    };\r\n    TimelineImpl.prototype.runTasks = function (t, runTask) {\r\n        var tasks = this.tasks;\r\n        var l = tasks.length;\r\n        var i = 0;\r\n        while (i < l && tasks[i].time <= t) {\r\n            ++i;\r\n        }\r\n        this.tasks = tasks.slice(i);\r\n        // Run all ready tasks\r\n        for (var j = 0; j < i; ++j) {\r\n            this.tasks = runReadyTasks(runTask, tasks[j].events, this.tasks);\r\n        }\r\n    };\r\n    return TimelineImpl;\r\n}());\r\nfunction runReadyTasks(runTask, events, tasks) {\r\n    for (var i = 0; i < events.length; ++i) {\r\n        var task = events[i];\r\n        if (task.active) {\r\n            runTask(task);\r\n            // Reschedule periodic repeating tasks\r\n            // Check active again, since a task may have canceled itself\r\n            if (task.period >= 0 && task.active) {\r\n                task.time = task.time + task.period;\r\n                insertByTime(task, tasks);\r\n            }\r\n        }\r\n    }\r\n    return tasks;\r\n}\r\nfunction insertByTime(task, timeslots) {\r\n    var l = timeslots.length;\r\n    var time = getTime(task);\r\n    if (l === 0) {\r\n        timeslots.push(newTimeslot(time, [task]));\r\n        return;\r\n    }\r\n    var i = binarySearch(time, timeslots);\r\n    if (i >= l) {\r\n        timeslots.push(newTimeslot(time, [task]));\r\n    }\r\n    else {\r\n        insertAtTimeslot(task, timeslots, time, i);\r\n    }\r\n}\r\nfunction insertAtTimeslot(task, timeslots, time, i) {\r\n    var timeslot = timeslots[i];\r\n    if (time === timeslot.time) {\r\n        addEvent(task, timeslot.events);\r\n    }\r\n    else {\r\n        timeslots.splice(i, 0, newTimeslot(time, [task]));\r\n    }\r\n}\r\nfunction addEvent(task, events) {\r\n    if (events.length === 0 || task.time >= events[events.length - 1].time) {\r\n        events.push(task);\r\n    }\r\n    else {\r\n        spliceEvent(task, events);\r\n    }\r\n}\r\nfunction spliceEvent(task, events) {\r\n    for (var j = 0; j < events.length; j++) {\r\n        if (task.time < events[j].time) {\r\n            events.splice(j, 0, task);\r\n            break;\r\n        }\r\n    }\r\n}\r\nfunction getTime(scheduledTask) {\r\n    return Math.floor(scheduledTask.time);\r\n}\r\n/**\r\n * @deprecated\r\n */\r\nfunction removeAllFrom(f, timeslot) {\r\n    timeslot.events = removeAll(f, timeslot.events);\r\n}\r\nfunction binarySearch(t, sortedArray) {\r\n    var lo = 0;\r\n    var hi = sortedArray.length;\r\n    var mid, y;\r\n    while (lo < hi) {\r\n        mid = Math.floor((lo + hi) / 2);\r\n        y = sortedArray[mid];\r\n        if (t === y.time) {\r\n            return mid;\r\n        }\r\n        else if (t < y.time) {\r\n            hi = mid;\r\n        }\r\n        else {\r\n            lo = mid + 1;\r\n        }\r\n    }\r\n    return hi;\r\n}\r\nvar newTimeslot = function (t, events) { return ({ time: t, events: events }); };\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\n/* global setTimeout, clearTimeout */\r\nvar ClockTimer = /** @class */ (function () {\r\n    function ClockTimer(clock) {\r\n        this._clock = clock;\r\n    }\r\n    ClockTimer.prototype.now = function () {\r\n        return this._clock.now();\r\n    };\r\n    ClockTimer.prototype.setTimer = function (f, dt) {\r\n        return dt <= 0 ? runAsap(f) : setTimeout(f, dt);\r\n    };\r\n    ClockTimer.prototype.clearTimer = function (t) {\r\n        return t instanceof Asap ? t.cancel() : clearTimeout(t);\r\n    };\r\n    return ClockTimer;\r\n}());\r\nvar Asap = /** @class */ (function () {\r\n    function Asap(f) {\r\n        this.f = f;\r\n        this.active = true;\r\n    }\r\n    Asap.prototype.run = function () {\r\n        if (this.active) {\r\n            return this.f();\r\n        }\r\n    };\r\n    Asap.prototype.error = function (e) {\r\n        throw e;\r\n    };\r\n    Asap.prototype.cancel = function () {\r\n        this.active = false;\r\n    };\r\n    return Asap;\r\n}());\r\nfunction runAsap(f) {\r\n    var task = new Asap(f);\r\n    defer(task);\r\n    return task;\r\n}\n\n/* global performance, process */\r\nvar RelativeClock = /** @class */ (function () {\r\n    function RelativeClock(clock, origin) {\r\n        this.origin = origin;\r\n        this.clock = clock;\r\n    }\r\n    RelativeClock.prototype.now = function () {\r\n        return this.clock.now() - this.origin;\r\n    };\r\n    return RelativeClock;\r\n}());\r\nvar HRTimeClock = /** @class */ (function () {\r\n    function HRTimeClock(hrtime, origin) {\r\n        this.origin = origin;\r\n        this.hrtime = hrtime;\r\n    }\r\n    HRTimeClock.prototype.now = function () {\r\n        var hrt = this.hrtime(this.origin);\r\n        return (hrt[0] * 1e9 + hrt[1]) / 1e6;\r\n    };\r\n    return HRTimeClock;\r\n}());\r\nvar clockRelativeTo = function (clock) {\r\n    return new RelativeClock(clock, clock.now());\r\n};\r\nvar newPerformanceClock = function () {\r\n    return clockRelativeTo(performance);\r\n};\r\n/**\r\n * @deprecated will be removed in 2.0.0\r\n * Date.now is not monotonic, and performance.now is ubiquitous:\r\n * @see https://caniuse.com/#search=performance.now\r\n */\r\nvar newDateClock = function () {\r\n    return clockRelativeTo(Date);\r\n};\r\nvar newHRTimeClock = function () {\r\n    return new HRTimeClock(process.hrtime, process.hrtime());\r\n};\r\nvar newPlatformClock = function () {\r\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\r\n        return newPerformanceClock();\r\n    }\r\n    else if (typeof process !== 'undefined' && typeof process.hrtime === 'function') {\r\n        return newHRTimeClock();\r\n    }\r\n    return newDateClock();\r\n};\n\n/**\r\n * Read the current time from the provided Scheduler\r\n */\r\nvar currentTime = function (scheduler) {\r\n    return scheduler.currentTime();\r\n};\r\n/**\r\n * Schedule a task to run as soon as possible, but\r\n * not in the current call stack\r\n */\r\nvar asap = curry2(function (task, scheduler) {\r\n    return scheduler.scheduleTask(0, 0, -1, task);\r\n});\r\n/**\r\n * Schedule a task to run after a millisecond delay\r\n */\r\nvar delay = curry3(function (delay, task, scheduler) {\r\n    return scheduler.scheduleTask(0, delay, -1, task);\r\n});\r\n/**\r\n * Schedule a task to run periodically, with the\r\n * first run starting asap\r\n */\r\nvar periodic = curry3(function (period, task, scheduler) {\r\n    return scheduler.scheduleTask(0, 0, period, task);\r\n});\r\n/**\r\n * Cancel a scheduledTask\r\n */\r\nvar cancelTask = function (scheduledTask) {\r\n    return scheduledTask.dispose();\r\n};\r\n/**\r\n * Cancel all ScheduledTasks for which a predicate is true\r\n * @deprecated Will be removed in 2.0.0\r\n */\r\nvar cancelAllTasks = curry2(function (predicate, scheduler) {\r\n    console.warn(\"DEPRECATED cancelAllTasks to be removed in 2.0.0\");\r\n    return scheduler.cancelAll(predicate);\r\n});\n\nvar schedulerRelativeTo = curry2(function (offset, scheduler) {\r\n    return new RelativeScheduler(offset, scheduler);\r\n});\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\r\nvar newScheduler = curry2(function (timer, timeline) { return new SchedulerImpl(timer, timeline); });\r\nvar newDefaultScheduler = function () { return new SchedulerImpl(newDefaultTimer(), new TimelineImpl()); };\r\nvar newDefaultTimer = function () { return new ClockTimer(newPlatformClock()); };\r\nvar newClockTimer = function (clock) { return new ClockTimer(clock); };\r\nvar newTimeline = function () { return new TimelineImpl(); };\n\nexport { HRTimeClock, RelativeClock, asap, cancelAllTasks, cancelTask, clockRelativeTo, currentTime, delay, newClockTimer, newDateClock, newDefaultScheduler, newDefaultTimer, newHRTimeClock, newPerformanceClock, newPlatformClock, newScheduler, newTimeline, periodic, schedulerRelativeTo };\n//# sourceMappingURL=index.es.js.map\n","/*!\n * Cross-Browser Split 1.1.1\n * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>\n * Available under the MIT License\n * ECMAScript compliant, uniform cross-browser split method\n */\n\n/**\n * Splits a string into an array of strings using a regex or string separator. Matches of the\n * separator are not included in the result array. However, if `separator` is a regex that contains\n * capturing groups, backreferences are spliced into the result each time `separator` is matched.\n * Fixes browser bugs compared to the native `String.prototype.split` and can be used reliably\n * cross-browser.\n * @param {String} str String to split.\n * @param {RegExp|String} separator Regex or string to use for separating the string.\n * @param {Number} [limit] Maximum number of items to include in the result array.\n * @returns {Array} Array of substrings.\n * @example\n *\n * // Basic use\n * split('a b c d', ' ');\n * // -> ['a', 'b', 'c', 'd']\n *\n * // With limit\n * split('a b c d', ' ', 2);\n * // -> ['a', 'b']\n *\n * // Backreferences in result array\n * split('..word1 word2..', /([a-z]+)(\\d+)/i);\n * // -> ['..', 'word', '1', ' ', 'word', '2', '..']\n */\nmodule.exports = (function split(undef) {\n\n  var nativeSplit = String.prototype.split,\n    compliantExecNpcg = /()??/.exec(\"\")[1] === undef,\n    // NPCG: nonparticipating capturing group\n    self;\n\n  self = function(str, separator, limit) {\n    // If `separator` is not a regex, use `nativeSplit`\n    if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n      return nativeSplit.call(str, separator, limit);\n    }\n    var output = [],\n      flags = (separator.ignoreCase ? \"i\" : \"\") + (separator.multiline ? \"m\" : \"\") + (separator.extended ? \"x\" : \"\") + // Proposed for ES6\n      (separator.sticky ? \"y\" : \"\"),\n      // Firefox 3+\n      lastLastIndex = 0,\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      separator = new RegExp(separator.source, flags + \"g\"),\n      separator2, match, lastIndex, lastLength;\n    str += \"\"; // Type-convert\n    if (!compliantExecNpcg) {\n      // Doesn't need flags gy, but they don't hurt\n      separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n    }\n    /* Values for `limit`, per the spec:\n     * If undefined: 4294967295 // Math.pow(2, 32) - 1\n     * If 0, Infinity, or NaN: 0\n     * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n     * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n     * If other: Type-convert, then use the above rules\n     */\n    limit = limit === undef ? -1 >>> 0 : // Math.pow(2, 32) - 1\n    limit >>> 0; // ToUint32(limit)\n    while (match = separator.exec(str)) {\n      // `separator.lastIndex` is not reliable cross-browser\n      lastIndex = match.index + match[0].length;\n      if (lastIndex > lastLastIndex) {\n        output.push(str.slice(lastLastIndex, match.index));\n        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n        // nonparticipating capturing groups\n        if (!compliantExecNpcg && match.length > 1) {\n          match[0].replace(separator2, function() {\n            for (var i = 1; i < arguments.length - 2; i++) {\n              if (arguments[i] === undef) {\n                match[i] = undef;\n              }\n            }\n          });\n        }\n        if (match.length > 1 && match.index < str.length) {\n          Array.prototype.push.apply(output, match.slice(1));\n        }\n        lastLength = match[0].length;\n        lastLastIndex = lastIndex;\n        if (output.length >= limit) {\n          break;\n        }\n      }\n      if (separator.lastIndex === match.index) {\n        separator.lastIndex++; // Avoid an infinite loop\n      }\n    }\n    if (lastLastIndex === str.length) {\n      if (lastLength || !separator.test(\"\")) {\n        output.push(\"\");\n      }\n    } else {\n      output.push(str.slice(lastLastIndex));\n    }\n    return output.length > limit ? output.slice(0, limit) : output;\n  };\n\n  return self;\n})();\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"html,\\nbody {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n}\\n\\nbutton {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tborder: 0;\\n\\tbackground: none;\\n\\tfont-size: 100%;\\n\\tvertical-align: baseline;\\n\\tfont-family: inherit;\\n\\tfont-weight: inherit;\\n\\tcolor: inherit;\\n\\t-webkit-appearance: none;\\n\\tappearance: none;\\n\\t-webkit-font-smoothing: antialiased;\\n\\t-moz-osx-font-smoothing: grayscale;\\n}\\n\\nbody {\\n\\tfont: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\\n\\tline-height: 1.4em;\\n\\tbackground: #f5f5f5;\\n\\tcolor: #4d4d4d;\\n\\tmin-width: 230px;\\n\\tmax-width: 550px;\\n\\tmargin: 0 auto;\\n\\t-webkit-font-smoothing: antialiased;\\n\\t-moz-osx-font-smoothing: grayscale;\\n\\tfont-weight: 300;\\n}\\n\\n:focus {\\n\\toutline: 0;\\n}\\n\\n.hidden {\\n\\tdisplay: none;\\n}\\n\\n.todoapp {\\n\\tbackground: #fff;\\n\\tmargin: 130px 0 40px 0;\\n\\tposition: relative;\\n\\tbox-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2),\\n\\t            0 25px 50px 0 rgba(0, 0, 0, 0.1);\\n}\\n\\n.todoapp input::-webkit-input-placeholder {\\n\\tfont-style: italic;\\n\\tfont-weight: 300;\\n\\tcolor: #e6e6e6;\\n}\\n\\n.todoapp input::-moz-placeholder {\\n\\tfont-style: italic;\\n\\tfont-weight: 300;\\n\\tcolor: #e6e6e6;\\n}\\n\\n.todoapp input::input-placeholder {\\n\\tfont-style: italic;\\n\\tfont-weight: 300;\\n\\tcolor: #e6e6e6;\\n}\\n\\n.todoapp h1 {\\n\\tposition: absolute;\\n\\ttop: -155px;\\n\\twidth: 100%;\\n\\tfont-size: 100px;\\n\\tfont-weight: 100;\\n\\ttext-align: center;\\n\\tcolor: rgba(175, 47, 47, 0.15);\\n\\t-webkit-text-rendering: optimizeLegibility;\\n\\t-moz-text-rendering: optimizeLegibility;\\n\\ttext-rendering: optimizeLegibility;\\n}\\n\\n.new-todo,\\n.edit {\\n\\tposition: relative;\\n\\tmargin: 0;\\n\\twidth: 100%;\\n\\tfont-size: 24px;\\n\\tfont-family: inherit;\\n\\tfont-weight: inherit;\\n\\tline-height: 1.4em;\\n\\tborder: 0;\\n\\tcolor: inherit;\\n\\tpadding: 6px;\\n\\tborder: 1px solid #999;\\n\\tbox-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);\\n\\tbox-sizing: border-box;\\n\\t-webkit-font-smoothing: antialiased;\\n\\t-moz-osx-font-smoothing: grayscale;\\n}\\n\\n.new-todo {\\n\\tpadding: 16px 16px 16px 60px;\\n\\tborder: none;\\n\\tbackground: rgba(0, 0, 0, 0.003);\\n\\tbox-shadow: inset 0 -2px 1px rgba(0,0,0,0.03);\\n}\\n\\n.main {\\n\\tposition: relative;\\n\\tz-index: 2;\\n\\tborder-top: 1px solid #e6e6e6;\\n}\\n\\n.toggle-all {\\n\\twidth: 1px;\\n\\theight: 1px;\\n\\tborder: none; /* Mobile Safari */\\n\\topacity: 0;\\n\\tposition: absolute;\\n\\tright: 100%;\\n\\tbottom: 100%;\\n}\\n\\n.toggle-all + label {\\n\\twidth: 60px;\\n\\theight: 34px;\\n\\tfont-size: 0;\\n\\tposition: absolute;\\n\\ttop: -52px;\\n\\tleft: -13px;\\n\\t-webkit-transform: rotate(90deg);\\n\\ttransform: rotate(90deg);\\n}\\n\\n.toggle-all + label:before {\\n\\tcontent: '';\\n\\tfont-size: 22px;\\n\\tcolor: #e6e6e6;\\n\\tpadding: 10px 27px 10px 27px;\\n}\\n\\n.toggle-all:checked + label:before {\\n\\tcolor: #737373;\\n}\\n\\n.todo-list {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tlist-style: none;\\n}\\n\\n.todo-list li {\\n\\tposition: relative;\\n\\tfont-size: 24px;\\n\\tborder-bottom: 1px solid #ededed;\\n}\\n\\n.todo-list li:last-child {\\n\\tborder-bottom: none;\\n}\\n\\n.todo-list li.editing {\\n\\tborder-bottom: none;\\n\\tpadding: 0;\\n}\\n\\n.todo-list li.editing .edit {\\n\\tdisplay: block;\\n\\twidth: 506px;\\n\\tpadding: 12px 16px;\\n\\tmargin: 0 0 0 43px;\\n}\\n\\n.todo-list li.editing .view {\\n\\tdisplay: none;\\n}\\n\\n.todo-list li .toggle {\\n\\ttext-align: center;\\n\\twidth: 40px;\\n\\t/* auto, since non-WebKit browsers doesn't support input styling */\\n\\theight: auto;\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tbottom: 0;\\n\\tmargin: auto 0;\\n\\tborder: none; /* Mobile Safari */\\n\\t-webkit-appearance: none;\\n\\tappearance: none;\\n}\\n\\n.todo-list li .toggle {\\n\\topacity: 0;\\n}\\n\\n.todo-list li .toggle + label {\\n\\t/*\\n\\t\\tFirefox requires `#` to be escaped - https://bugzilla.mozilla.org/show_bug.cgi?id=922433\\n\\t\\tIE and Edge requires *everything* to be escaped to render, so we do that instead of just the `#` - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7157459/\\n\\t*/\\n\\tbackground-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E');\\n\\tbackground-repeat: no-repeat;\\n\\tbackground-position: center left;\\n}\\n\\n.todo-list li .toggle:checked + label {\\n\\tbackground-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E');\\n}\\n\\n.todo-list li label {\\n\\tword-break: break-all;\\n\\tpadding: 15px 15px 15px 60px;\\n\\tdisplay: block;\\n\\tline-height: 1.2;\\n\\ttransition: color 0.4s;\\n}\\n\\n.todo-list li.completed label {\\n\\tcolor: #d9d9d9;\\n\\ttext-decoration: line-through;\\n}\\n\\n.todo-list li .destroy {\\n\\tdisplay: none;\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tright: 10px;\\n\\tbottom: 0;\\n\\twidth: 40px;\\n\\theight: 40px;\\n\\tmargin: auto 0;\\n\\tfont-size: 30px;\\n\\tcolor: #cc9a9a;\\n\\tmargin-bottom: 11px;\\n\\ttransition: color 0.2s ease-out;\\n}\\n\\n.todo-list li .destroy:hover {\\n\\tcolor: #af5b5e;\\n}\\n\\n.todo-list li .destroy:after {\\n\\tcontent: '';\\n}\\n\\n.todo-list li:hover .destroy {\\n\\tdisplay: block;\\n}\\n\\n.todo-list li .edit {\\n\\tdisplay: none;\\n}\\n\\n.todo-list li.editing:last-child {\\n\\tmargin-bottom: -1px;\\n}\\n\\n.footer {\\n\\tcolor: #777;\\n\\tpadding: 10px 15px;\\n\\theight: 20px;\\n\\ttext-align: center;\\n\\tborder-top: 1px solid #e6e6e6;\\n}\\n\\n.footer:before {\\n\\tcontent: '';\\n\\tposition: absolute;\\n\\tright: 0;\\n\\tbottom: 0;\\n\\tleft: 0;\\n\\theight: 50px;\\n\\toverflow: hidden;\\n\\tbox-shadow: 0 1px 1px rgba(0, 0, 0, 0.2),\\n\\t            0 8px 0 -3px #f6f6f6,\\n\\t            0 9px 1px -3px rgba(0, 0, 0, 0.2),\\n\\t            0 16px 0 -6px #f6f6f6,\\n\\t            0 17px 2px -6px rgba(0, 0, 0, 0.2);\\n}\\n\\n.todo-count {\\n\\tfloat: left;\\n\\ttext-align: left;\\n}\\n\\n.todo-count strong {\\n\\tfont-weight: 300;\\n}\\n\\n.filters {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tlist-style: none;\\n\\tposition: absolute;\\n\\tright: 0;\\n\\tleft: 0;\\n}\\n\\n.filters li {\\n\\tdisplay: inline;\\n}\\n\\n.filters li a {\\n\\tcolor: inherit;\\n\\tmargin: 3px;\\n\\tpadding: 3px 7px;\\n\\ttext-decoration: none;\\n\\tborder: 1px solid transparent;\\n\\tborder-radius: 3px;\\n}\\n\\n.filters li a:hover {\\n\\tborder-color: rgba(175, 47, 47, 0.1);\\n}\\n\\n.filters li a.selected {\\n\\tborder-color: rgba(175, 47, 47, 0.2);\\n}\\n\\n.clear-completed,\\nhtml .clear-completed:active {\\n\\tfloat: right;\\n\\tposition: relative;\\n\\tline-height: 20px;\\n\\ttext-decoration: none;\\n\\tcursor: pointer;\\n}\\n\\n.clear-completed:hover {\\n\\ttext-decoration: underline;\\n}\\n\\n.info {\\n\\tmargin: 65px auto 0;\\n\\tcolor: #bfbfbf;\\n\\tfont-size: 10px;\\n\\ttext-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\\n\\ttext-align: center;\\n}\\n\\n.info p {\\n\\tline-height: 1;\\n}\\n\\n.info a {\\n\\tcolor: inherit;\\n\\ttext-decoration: none;\\n\\tfont-weight: 400;\\n}\\n\\n.info a:hover {\\n\\ttext-decoration: underline;\\n}\\n\\n/*\\n\\tHack to remove background from Mobile Safari.\\n\\tCan't use it globally since it destroys checkboxes in Firefox\\n*/\\n@media screen and (-webkit-min-device-pixel-ratio:0) {\\n\\t.toggle-all,\\n\\t.todo-list li .toggle {\\n\\t\\tbackground: none;\\n\\t}\\n\\n\\t.todo-list li .toggle {\\n\\t\\theight: 40px;\\n\\t}\\n}\\n\\n@media (max-width: 430px) {\\n\\t.footer {\\n\\t\\theight: 50px;\\n\\t}\\n\\n\\t.filters {\\n\\t\\tbottom: 10px;\\n\\t}\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./styles.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"html,\\nbody {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n}\\n\\nbutton {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tborder: 0;\\n\\tbackground: none;\\n\\tfont-size: 100%;\\n\\tvertical-align: baseline;\\n\\tfont-family: inherit;\\n\\tfont-weight: inherit;\\n\\tcolor: inherit;\\n\\t-webkit-appearance: none;\\n\\tappearance: none;\\n\\t-webkit-font-smoothing: antialiased;\\n\\t-moz-osx-font-smoothing: grayscale;\\n}\\n\\nbody {\\n\\tfont: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\\n\\tline-height: 1.4em;\\n\\tbackground: #f5f5f5;\\n\\tcolor: #4d4d4d;\\n\\tmin-width: 230px;\\n\\tmax-width: 550px;\\n\\tmargin: 0 auto;\\n\\t-webkit-font-smoothing: antialiased;\\n\\t-moz-osx-font-smoothing: grayscale;\\n\\tfont-weight: 300;\\n}\\n\\n:focus {\\n\\toutline: 0;\\n}\\n\\n.hidden {\\n\\tdisplay: none;\\n}\\n\\n.todoapp {\\n\\tbackground: #fff;\\n\\tmargin: 130px 0 40px 0;\\n\\tposition: relative;\\n\\tbox-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2),\\n\\t            0 25px 50px 0 rgba(0, 0, 0, 0.1);\\n}\\n\\n.todoapp input::-webkit-input-placeholder {\\n\\tfont-style: italic;\\n\\tfont-weight: 300;\\n\\tcolor: #e6e6e6;\\n}\\n\\n.todoapp input::-moz-placeholder {\\n\\tfont-style: italic;\\n\\tfont-weight: 300;\\n\\tcolor: #e6e6e6;\\n}\\n\\n.todoapp input::input-placeholder {\\n\\tfont-style: italic;\\n\\tfont-weight: 300;\\n\\tcolor: #e6e6e6;\\n}\\n\\n.todoapp h1 {\\n\\tposition: absolute;\\n\\ttop: -155px;\\n\\twidth: 100%;\\n\\tfont-size: 100px;\\n\\tfont-weight: 100;\\n\\ttext-align: center;\\n\\tcolor: rgba(175, 47, 47, 0.15);\\n\\t-webkit-text-rendering: optimizeLegibility;\\n\\t-moz-text-rendering: optimizeLegibility;\\n\\ttext-rendering: optimizeLegibility;\\n}\\n\\n.new-todo,\\n.edit {\\n\\tposition: relative;\\n\\tmargin: 0;\\n\\twidth: 100%;\\n\\tfont-size: 24px;\\n\\tfont-family: inherit;\\n\\tfont-weight: inherit;\\n\\tline-height: 1.4em;\\n\\tborder: 0;\\n\\tcolor: inherit;\\n\\tpadding: 6px;\\n\\tborder: 1px solid #999;\\n\\tbox-shadow: inset 0 -1px 5px 0 rgba(0, 0, 0, 0.2);\\n\\tbox-sizing: border-box;\\n\\t-webkit-font-smoothing: antialiased;\\n\\t-moz-osx-font-smoothing: grayscale;\\n}\\n\\n.new-todo {\\n\\tpadding: 16px 16px 16px 60px;\\n\\tborder: none;\\n\\tbackground: rgba(0, 0, 0, 0.003);\\n\\tbox-shadow: inset 0 -2px 1px rgba(0,0,0,0.03);\\n}\\n\\n.main {\\n\\tposition: relative;\\n\\tz-index: 2;\\n\\tborder-top: 1px solid #e6e6e6;\\n}\\n\\n.toggle-all {\\n\\twidth: 1px;\\n\\theight: 1px;\\n\\tborder: none; /* Mobile Safari */\\n\\topacity: 0;\\n\\tposition: absolute;\\n\\tright: 100%;\\n\\tbottom: 100%;\\n}\\n\\n.toggle-all + label {\\n\\twidth: 60px;\\n\\theight: 34px;\\n\\tfont-size: 0;\\n\\tposition: absolute;\\n\\ttop: -52px;\\n\\tleft: -13px;\\n\\t-webkit-transform: rotate(90deg);\\n\\ttransform: rotate(90deg);\\n}\\n\\n.toggle-all + label:before {\\n\\tcontent: '';\\n\\tfont-size: 22px;\\n\\tcolor: #e6e6e6;\\n\\tpadding: 10px 27px 10px 27px;\\n}\\n\\n.toggle-all:checked + label:before {\\n\\tcolor: #737373;\\n}\\n\\n.todo-list {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tlist-style: none;\\n}\\n\\n.todo-list li {\\n\\tposition: relative;\\n\\tfont-size: 24px;\\n\\tborder-bottom: 1px solid #ededed;\\n}\\n\\n.todo-list li:last-child {\\n\\tborder-bottom: none;\\n}\\n\\n.todo-list li.editing {\\n\\tborder-bottom: none;\\n\\tpadding: 0;\\n}\\n\\n.todo-list li.editing .edit {\\n\\tdisplay: block;\\n\\twidth: 506px;\\n\\tpadding: 12px 16px;\\n\\tmargin: 0 0 0 43px;\\n}\\n\\n.todo-list li.editing .view {\\n\\tdisplay: none;\\n}\\n\\n.todo-list li .toggle {\\n\\ttext-align: center;\\n\\twidth: 40px;\\n\\t/* auto, since non-WebKit browsers doesn't support input styling */\\n\\theight: auto;\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tbottom: 0;\\n\\tmargin: auto 0;\\n\\tborder: none; /* Mobile Safari */\\n\\t-webkit-appearance: none;\\n\\tappearance: none;\\n}\\n\\n.todo-list li .toggle {\\n\\topacity: 0;\\n}\\n\\n.todo-list li .toggle + label {\\n\\t/*\\n\\t\\tFirefox requires `#` to be escaped - https://bugzilla.mozilla.org/show_bug.cgi?id=922433\\n\\t\\tIE and Edge requires *everything* to be escaped to render, so we do that instead of just the `#` - https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/7157459/\\n\\t*/\\n\\tbackground-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23ededed%22%20stroke-width%3D%223%22/%3E%3C/svg%3E');\\n\\tbackground-repeat: no-repeat;\\n\\tbackground-position: center left;\\n}\\n\\n.todo-list li .toggle:checked + label {\\n\\tbackground-image: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2240%22%20height%3D%2240%22%20viewBox%3D%22-10%20-18%20100%20135%22%3E%3Ccircle%20cx%3D%2250%22%20cy%3D%2250%22%20r%3D%2250%22%20fill%3D%22none%22%20stroke%3D%22%23bddad5%22%20stroke-width%3D%223%22/%3E%3Cpath%20fill%3D%22%235dc2af%22%20d%3D%22M72%2025L42%2071%2027%2056l-4%204%2020%2020%2034-52z%22/%3E%3C/svg%3E');\\n}\\n\\n.todo-list li label {\\n\\tword-break: break-all;\\n\\tpadding: 15px 15px 15px 60px;\\n\\tdisplay: block;\\n\\tline-height: 1.2;\\n\\ttransition: color 0.4s;\\n}\\n\\n.todo-list li.completed label {\\n\\tcolor: #d9d9d9;\\n\\ttext-decoration: line-through;\\n}\\n\\n.todo-list li .destroy {\\n\\tdisplay: none;\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tright: 10px;\\n\\tbottom: 0;\\n\\twidth: 40px;\\n\\theight: 40px;\\n\\tmargin: auto 0;\\n\\tfont-size: 30px;\\n\\tcolor: #cc9a9a;\\n\\tmargin-bottom: 11px;\\n\\ttransition: color 0.2s ease-out;\\n}\\n\\n.todo-list li .destroy:hover {\\n\\tcolor: #af5b5e;\\n}\\n\\n.todo-list li .destroy:after {\\n\\tcontent: '';\\n}\\n\\n.todo-list li:hover .destroy {\\n\\tdisplay: block;\\n}\\n\\n.todo-list li .edit {\\n\\tdisplay: none;\\n}\\n\\n.todo-list li.editing:last-child {\\n\\tmargin-bottom: -1px;\\n}\\n\\n.footer {\\n\\tcolor: #777;\\n\\tpadding: 10px 15px;\\n\\theight: 20px;\\n\\ttext-align: center;\\n\\tborder-top: 1px solid #e6e6e6;\\n}\\n\\n.footer:before {\\n\\tcontent: '';\\n\\tposition: absolute;\\n\\tright: 0;\\n\\tbottom: 0;\\n\\tleft: 0;\\n\\theight: 50px;\\n\\toverflow: hidden;\\n\\tbox-shadow: 0 1px 1px rgba(0, 0, 0, 0.2),\\n\\t            0 8px 0 -3px #f6f6f6,\\n\\t            0 9px 1px -3px rgba(0, 0, 0, 0.2),\\n\\t            0 16px 0 -6px #f6f6f6,\\n\\t            0 17px 2px -6px rgba(0, 0, 0, 0.2);\\n}\\n\\n.todo-count {\\n\\tfloat: left;\\n\\ttext-align: left;\\n}\\n\\n.todo-count strong {\\n\\tfont-weight: 300;\\n}\\n\\n.filters {\\n\\tmargin: 0;\\n\\tpadding: 0;\\n\\tlist-style: none;\\n\\tposition: absolute;\\n\\tright: 0;\\n\\tleft: 0;\\n}\\n\\n.filters li {\\n\\tdisplay: inline;\\n}\\n\\n.filters li a {\\n\\tcolor: inherit;\\n\\tmargin: 3px;\\n\\tpadding: 3px 7px;\\n\\ttext-decoration: none;\\n\\tborder: 1px solid transparent;\\n\\tborder-radius: 3px;\\n}\\n\\n.filters li a:hover {\\n\\tborder-color: rgba(175, 47, 47, 0.1);\\n}\\n\\n.filters li a.selected {\\n\\tborder-color: rgba(175, 47, 47, 0.2);\\n}\\n\\n.clear-completed,\\nhtml .clear-completed:active {\\n\\tfloat: right;\\n\\tposition: relative;\\n\\tline-height: 20px;\\n\\ttext-decoration: none;\\n\\tcursor: pointer;\\n}\\n\\n.clear-completed:hover {\\n\\ttext-decoration: underline;\\n}\\n\\n.info {\\n\\tmargin: 65px auto 0;\\n\\tcolor: #bfbfbf;\\n\\tfont-size: 10px;\\n\\ttext-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\\n\\ttext-align: center;\\n}\\n\\n.info p {\\n\\tline-height: 1;\\n}\\n\\n.info a {\\n\\tcolor: inherit;\\n\\ttext-decoration: none;\\n\\tfont-weight: 400;\\n}\\n\\n.info a:hover {\\n\\ttext-decoration: underline;\\n}\\n\\n/*\\n\\tHack to remove background from Mobile Safari.\\n\\tCan't use it globally since it destroys checkboxes in Firefox\\n*/\\n@media screen and (-webkit-min-device-pixel-ratio:0) {\\n\\t.toggle-all,\\n\\t.todo-list li .toggle {\\n\\t\\tbackground: none;\\n\\t}\\n\\n\\t.todo-list li .toggle {\\n\\t\\theight: 40px;\\n\\t}\\n}\\n\\n@media (max-width: 430px) {\\n\\t.footer {\\n\\t\\theight: 50px;\\n\\t}\\n\\n\\t.filters {\\n\\t\\tbottom: 10px;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nmodule.exports = function cssWithMappingToString(item) {\n  var _item = _slicedToArray(item, 4),\n      content = _item[1],\n      cssMapping = _item[3];\n\n  if (typeof btoa === 'function') {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n};","'use strict';\n\nvar OneVersionConstraint = require('individual/one-version');\n\nvar MY_VERSION = '7';\nOneVersionConstraint('ev-store', MY_VERSION);\n\nvar hashKey = '__EV_STORE_KEY@' + MY_VERSION;\n\nmodule.exports = EvStore;\n\nfunction EvStore(elem) {\n    var hash = elem[hashKey];\n\n    if (!hash) {\n        hash = elem[hashKey] = {};\n    }\n\n    return hash;\n}\n","var topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = require('min-document');\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n    doccy = document;\n} else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n}\n\nmodule.exports = doccy;\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import _extends from'@babel/runtime/helpers/esm/extends';var m,x=m||(m={});x.Pop=\"POP\";x.Push=\"PUSH\";x.Replace=\"REPLACE\";var y=\"production\"!==process.env.NODE_ENV?function(a){return Object.freeze(a)}:function(a){return a};function z(a,b){if(!a){\"undefined\"!==typeof console&&console.warn(b);try{throw Error(b);}catch(g){}}}function A(a){a.preventDefault();a.returnValue=\"\"}\nfunction B(){var a=[];return{get length(){return a.length},push:function(b){a.push(b);return function(){a=a.filter(function(a){return a!==b})}},call:function(b){a.forEach(function(a){return a&&a(b)})}}}function D(){return Math.random().toString(36).substr(2,8)}function E(a){var b=a.pathname,g=a.search;a=a.hash;return(void 0===b?\"/\":b)+(void 0===g?\"\":g)+(void 0===a?\"\":a)}\nfunction F(a){var b={};if(a){var g=a.indexOf(\"#\");0<=g&&(b.hash=a.substr(g),a=a.substr(0,g));g=a.indexOf(\"?\");0<=g&&(b.search=a.substr(g),a=a.substr(0,g));a&&(b.pathname=a)}return b}\nfunction createBrowserHistory(a){function b(){var a=h.location,d=f.state||{};return[d.idx,y({pathname:a.pathname,search:a.search,hash:a.hash,state:d.usr||null,key:d.key||\"default\"})]}function g(a){return\"string\"===typeof a?a:E(a)}function t(a,d){void 0===d&&(d=null);return y(_extends({},l,{},\"string\"===typeof a?F(a):a,{state:d,key:D()}))}function v(a){n=a;a=b();q=a[0];l=a[1];c.call({action:n,location:l})}function w(a,d){function c(){w(a,d)}var k=m.Push,C=t(a,d);if(!e.length||(e.call({action:k,\nlocation:C,retry:c}),!1)){var b=[{usr:C.state,key:C.key,idx:q+1},g(C)];C=b[0];b=b[1];try{f.pushState(C,\"\",b)}catch(G){h.location.assign(b)}v(k)}}function u(a,d){function c(){u(a,d)}var b=m.Replace,k=t(a,d);e.length&&(e.call({action:b,location:k,retry:c}),1)||(k=[{usr:k.state,key:k.key,idx:q},g(k)],f.replaceState(k[0],\"\",k[1]),v(b))}function r(a){f.go(a)}void 0===a&&(a={});a=a.window;var h=void 0===a?document.defaultView:a,f=h.history,p=null;h.addEventListener(\"popstate\",function(){if(p)e.call(p),\np=null;else{var a=m.Pop,d=b(),c=d[0];d=d[1];if(e.length)if(null!=c){var f=q-c;f&&(p={action:a,location:d,retry:function(){r(-1*f)}},r(f))}else\"production\"!==process.env.NODE_ENV?z(!1,\"You are trying to block a POP navigation to a location that was not created by the history library. The block will fail silently in production, but in general you should do all navigation with the history library (instead of using window.history.pushState directly) to avoid this situation.\"):void 0;else v(a)}});var n=\nm.Pop;a=b();var q=a[0],l=a[1],c=B(),e=B();null==q&&(q=0,f.replaceState(_extends({},f.state,{idx:q}),\"\"));return{get action(){return n},get location(){return l},createHref:g,push:w,replace:u,go:r,back:function(){r(-1)},forward:function(){r(1)},listen:function(a){return c.push(a)},block:function(a){var d=e.push(a);1===e.length&&h.addEventListener(\"beforeunload\",A);return function(){d();e.length||h.removeEventListener(\"beforeunload\",A)}}}};\nfunction createHashHistory(a){function b(){var a=F(f.location.hash.substr(1)),c=a.pathname,b=a.search;a=a.hash;var e=p.state||{};return[e.idx,y({pathname:void 0===c?\"/\":c,search:void 0===b?\"\":b,hash:void 0===a?\"\":a,state:e.usr||null,key:e.key||\"default\"})]}function g(){if(n)k.call(n),n=null;else{var a=m.Pop,c=b(),e=c[0];c=c[1];if(k.length)if(null!=e){var f=l-e;f&&(n={action:a,location:c,retry:function(){h(-1*f)}},h(f))}else\"production\"!==process.env.NODE_ENV?z(!1,\"You are trying to block a POP navigation to a location that was not created by the history library. The block will fail silently in production, but in general you should do all navigation with the history library (instead of using window.history.pushState directly) to avoid this situation.\"):\nvoid 0;else w(a)}}function t(a){var d=document.querySelector(\"base\"),c=\"\";d&&d.getAttribute(\"href\")&&(d=f.location.href,c=d.indexOf(\"#\"),c=-1===c?d:d.slice(0,c));return c+\"#\"+(\"string\"===typeof a?a:E(a))}function v(a,b){void 0===b&&(b=null);return y(_extends({},c,{},\"string\"===typeof a?F(a):a,{state:b,key:D()}))}function w(a){q=a;a=b();l=a[0];c=a[1];e.call({action:q,location:c})}function u(a,c){function d(){u(a,c)}var b=m.Push,e=v(a,c);\"production\"!==process.env.NODE_ENV?z(\"/\"===e.pathname.charAt(0),\n\"Relative pathnames are not supported in hash history.push(\"+JSON.stringify(a)+\")\"):void 0;if(!k.length||(k.call({action:b,location:e,retry:d}),!1)){var g=[{usr:e.state,key:e.key,idx:l+1},t(e)];e=g[0];g=g[1];try{p.pushState(e,\"\",g)}catch(H){f.location.assign(g)}w(b)}}function r(a,c){function d(){r(a,c)}var e=m.Replace,b=v(a,c);\"production\"!==process.env.NODE_ENV?z(\"/\"===b.pathname.charAt(0),\"Relative pathnames are not supported in hash history.replace(\"+JSON.stringify(a)+\")\"):void 0;k.length&&(k.call({action:e,\nlocation:b,retry:d}),1)||(b=[{usr:b.state,key:b.key,idx:l},t(b)],p.replaceState(b[0],\"\",b[1]),w(e))}function h(a){p.go(a)}void 0===a&&(a={});a=a.window;var f=void 0===a?document.defaultView:a,p=f.history,n=null;f.addEventListener(\"popstate\",g);f.addEventListener(\"hashchange\",function(){var a=b()[1];E(a)!==E(c)&&g()});var q=m.Pop;a=b();var l=a[0],c=a[1],e=B(),k=B();null==l&&(l=0,p.replaceState(_extends({},p.state,{idx:l}),\"\"));return{get action(){return q},get location(){return c},createHref:t,push:u,\nreplace:r,go:h,back:function(){h(-1)},forward:function(){h(1)},listen:function(a){return e.push(a)},block:function(a){var c=k.push(a);1===k.length&&f.addEventListener(\"beforeunload\",A);return function(){c();k.length||f.removeEventListener(\"beforeunload\",A)}}}};\nfunction createMemoryHistory(a){function b(a,b){void 0===b&&(b=null);return y(_extends({},n,{},\"string\"===typeof a?F(a):a,{state:b,key:D()}))}function g(a,b,f){return!l.length||(l.call({action:a,location:b,retry:f}),!1)}function t(a,b){p=a;n=b;q.call({action:p,location:n})}function v(a,e){var c=m.Push,d=b(a,e);\"production\"!==process.env.NODE_ENV?z(\"/\"===n.pathname.charAt(0),\"Relative pathnames are not supported in memory history.push(\"+JSON.stringify(a)+\")\"):void 0;g(c,d,function(){v(a,e)})&&\n(f+=1,h.splice(f,h.length,d),t(c,d))}function w(a,e){var c=m.Replace,d=b(a,e);\"production\"!==process.env.NODE_ENV?z(\"/\"===n.pathname.charAt(0),\"Relative pathnames are not supported in memory history.replace(\"+JSON.stringify(a)+\")\"):void 0;g(c,d,function(){w(a,e)})&&(h[f]=d,t(c,d))}function u(a){var b=Math.min(Math.max(f+a,0),h.length-1),c=m.Pop,d=h[b];g(c,d,function(){u(a)})&&(f=b,t(c,d))}void 0===a&&(a={});var r=a;a=r.initialEntries;r=r.initialIndex;var h=(void 0===a?[\"/\"]:a).map(function(a){var b=\ny(_extends({pathname:\"/\",search:\"\",hash:\"\",state:null,key:D()},\"string\"===typeof a?F(a):a));\"production\"!==process.env.NODE_ENV?z(\"/\"===b.pathname.charAt(0),\"Relative pathnames are not supported in createMemoryHistory({ initialEntries }) (invalid entry: \"+JSON.stringify(a)+\")\"):void 0;return b}),f=Math.min(Math.max(null==r?h.length-1:r,0),h.length-1),p=m.Pop,n=h[f],q=B(),l=B();return{get index(){return f},get action(){return p},get location(){return n},createHref:function(a){return\"string\"===typeof a?\na:E(a)},push:v,replace:w,go:u,back:function(){u(-1)},forward:function(){u(1)},listen:function(a){return q.push(a)},block:function(a){return l.push(a)}}};export{m as Action,createBrowserHistory,createHashHistory,createMemoryHistory,E as createPath,F as parsePath}\n//# sourceMappingURL=index.js.map\n","'use strict';\n\n/*global window, global*/\n\nvar root = typeof window !== 'undefined' ?\n    window : typeof global !== 'undefined' ?\n    global : {};\n\nmodule.exports = Individual;\n\nfunction Individual(key, value) {\n    if (key in root) {\n        return root[key];\n    }\n\n    root[key] = value;\n\n    return value;\n}\n","'use strict';\n\nvar Individual = require('./index.js');\n\nmodule.exports = OneVersion;\n\nfunction OneVersion(moduleName, version, defaultValue) {\n    var key = '__INDIVIDUAL_ONE_VERSION_' + moduleName;\n    var enforceKey = key + '_ENFORCE_SINGLETON';\n\n    var versionValue = Individual(enforceKey, version);\n\n    if (versionValue !== version) {\n        throw new Error('Can only have one copy of ' +\n            moduleName + '.\\n' +\n            'You already have version ' + versionValue +\n            ' installed.\\n' +\n            'This means you cannot install version ' + version);\n    }\n\n    return Individual(key, defaultValue);\n}\n","'use strict';\n\nmodule.exports = function isObject(x) {\n\treturn typeof x === 'object' && x !== null;\n};\n","/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// Non-mutating array operations\n\n// cons :: a -> [a] -> [a]\n// a with x prepended\nfunction cons (x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  b[0] = x;\n  for (var i = 0; i < l; ++i) {\n    b[i + 1] = a[i];\n  }\n  return b\n}\n\n// append :: a -> [a] -> [a]\n// a with x appended\nfunction append (x, a) {\n  var l = a.length;\n  var b = new Array(l + 1);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n\n  b[l] = x;\n  return b\n}\n\n// drop :: Int -> [a] -> [a]\n// drop first n elements\nfunction drop (n, a) { // eslint-disable-line complexity\n  if (n < 0) {\n    throw new TypeError('n must be >= 0')\n  }\n\n  var l = a.length;\n  if (n === 0 || l === 0) {\n    return a\n  }\n\n  if (n >= l) {\n    return []\n  }\n\n  return unsafeDrop(n, a, l - n)\n}\n\n// unsafeDrop :: Int -> [a] -> Int -> [a]\n// Internal helper for drop\nfunction unsafeDrop (n, a, l) {\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[n + i];\n  }\n  return b\n}\n\n// tail :: [a] -> [a]\n// drop head element\nfunction tail (a) {\n  return drop(1, a)\n}\n\n// copy :: [a] -> [a]\n// duplicate a (shallow duplication)\nfunction copy (a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = a[i];\n  }\n  return b\n}\n\n// map :: (a -> b) -> [a] -> [b]\n// transform each element with f\nfunction map (f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  for (var i = 0; i < l; ++i) {\n    b[i] = f(a[i]);\n  }\n  return b\n}\n\n// reduce :: (a -> b -> a) -> a -> [b] -> a\n// accumulate via left-fold\nfunction reduce (f, z, a) {\n  var r = z;\n  for (var i = 0, l = a.length; i < l; ++i) {\n    r = f(r, a[i], i);\n  }\n  return r\n}\n\n// replace :: a -> Int -> [a]\n// replace element at index\nfunction replace (x, i, a) { // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0')\n  }\n\n  var l = a.length;\n  var b = new Array(l);\n  for (var j = 0; j < l; ++j) {\n    b[j] = i === j ? x : a[j];\n  }\n  return b\n}\n\n// remove :: Int -> [a] -> [a]\n// remove element at index\nfunction remove (i, a) {  // eslint-disable-line complexity\n  if (i < 0) {\n    throw new TypeError('i must be >= 0')\n  }\n\n  var l = a.length;\n  if (l === 0 || i >= l) { // exit early if index beyond end of array\n    return a\n  }\n\n  if (l === 1) { // exit early if index in bounds and length === 1\n    return []\n  }\n\n  return unsafeRemove(i, a, l - 1)\n}\n\n// unsafeRemove :: Int -> [a] -> Int -> [a]\n// Internal helper to remove element at index\nfunction unsafeRemove (i, a, l) {\n  var b = new Array(l);\n  var j;\n  for (j = 0; j < i; ++j) {\n    b[j] = a[j];\n  }\n  for (j = i; j < l; ++j) {\n    b[j] = a[j + 1];\n  }\n\n  return b\n}\n\n// removeAll :: (a -> boolean) -> [a] -> [a]\n// remove all elements matching a predicate\nfunction removeAll (f, a) {\n  var l = a.length;\n  var b = new Array(l);\n  var j = 0;\n  for (var x = (void 0), i = 0; i < l; ++i) {\n    x = a[i];\n    if (!f(x)) {\n      b[j] = x;\n      ++j;\n    }\n  }\n\n  b.length = j;\n  return b\n}\n\n// findIndex :: a -> [a] -> Int\n// find index of x in a, from the left\nfunction findIndex (x, a) {\n  for (var i = 0, l = a.length; i < l; ++i) {\n    if (x === a[i]) {\n      return i\n    }\n  }\n  return -1\n}\n\n// isArrayLike :: * -> boolean\n// Return true iff x is array-like\nfunction isArrayLike (x) {\n  return x != null && typeof x.length === 'number' && typeof x !== 'function'\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\n// id :: a -> a\nvar id = function (x) { return x; };\n\n// compose :: (b -> c) -> (a -> b) -> (a -> c)\nvar compose = function (f, g) { return function (x) { return f(g(x)); }; };\n\n// apply :: (a -> b) -> a -> b\nvar apply = function (f, x) { return f(x); };\n\n// curry2 :: ((a, b) -> c) -> (a -> b -> c)\nfunction curry2 (f) {\n  function curried (a, b) {\n    switch (arguments.length) {\n      case 0: return curried\n      case 1: return function (b) { return f(a, b); }\n      default: return f(a, b)\n    }\n  }\n  return curried\n}\n\n// curry3 :: ((a, b, c) -> d) -> (a -> b -> c -> d)\nfunction curry3 (f) {\n  function curried (a, b, c) { // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0: return curried\n      case 1: return curry2(function (b, c) { return f(a, b, c); })\n      case 2: return function (c) { return f(a, b, c); }\n      default:return f(a, b, c)\n    }\n  }\n  return curried\n}\n\n// curry4 :: ((a, b, c, d) -> e) -> (a -> b -> c -> d -> e)\nfunction curry4 (f) {\n  function curried (a, b, c, d) { // eslint-disable-line complexity\n    switch (arguments.length) {\n      case 0: return curried\n      case 1: return curry3(function (b, c, d) { return f(a, b, c, d); })\n      case 2: return curry2(function (c, d) { return f(a, b, c, d); })\n      case 3: return function (d) { return f(a, b, c, d); }\n      default:return f(a, b, c, d)\n    }\n  }\n  return curried\n}\n\n/** @license MIT License (c) copyright 2016 original author or authors */\n\nexport { cons, append, drop, tail, copy, map, reduce, replace, remove, removeAll, findIndex, isArrayLike, id, compose, apply, curry2, curry3, curry4 };\n//# sourceMappingURL=index.es.js.map\n","import { curry2 } from '@most/prelude';\nexport var attach = curry2(__attach);\nfunction __attach(sink, stream) {\n    return sink.attach(stream);\n}\n//# sourceMappingURL=attach.js.map","import { curry2, curry3, findIndex, removeAll } from '@most/prelude';\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar ScheduledTask = function ScheduledTask (time, localOffset, period, task, scheduler) {\n  this.time = time;\n  this.localOffset = localOffset;\n  this.period = period;\n  this.task = task;\n  this.scheduler = scheduler;\n  this.active = true;\n};\n\nScheduledTask.prototype.run = function run () {\n  return this.task.run(this.time - this.localOffset)\n};\n\nScheduledTask.prototype.error = function error (e) {\n  return this.task.error(this.time - this.localOffset, e)\n};\n\nScheduledTask.prototype.dispose = function dispose () {\n  this.scheduler.cancel(this);\n  return this.task.dispose()\n};\n\nvar RelativeScheduler = function RelativeScheduler (origin, scheduler) {\n  this.origin = origin;\n  this.scheduler = scheduler;\n};\n\nRelativeScheduler.prototype.currentTime = function currentTime () {\n  return this.scheduler.currentTime() - this.origin\n};\n\nRelativeScheduler.prototype.scheduleTask = function scheduleTask (localOffset, delay, period, task) {\n  return this.scheduler.scheduleTask(localOffset + this.origin, delay, period, task)\n};\n\nRelativeScheduler.prototype.relative = function relative (origin) {\n  return new RelativeScheduler(origin + this.origin, this.scheduler)\n};\n\nRelativeScheduler.prototype.cancel = function cancel (task) {\n  return this.scheduler.cancel(task)\n};\n\nRelativeScheduler.prototype.cancelAll = function cancelAll (f) {\n  return this.scheduler.cancelAll(f)\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar defer = function (task) { return Promise.resolve(task).then(runTask); };\n\nfunction runTask (task) {\n  try {\n    return task.run()\n  } catch (e) {\n    return task.error(e)\n  }\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar Scheduler = function Scheduler (timer, timeline) {\n  var this$1 = this;\n\n  this.timer = timer;\n  this.timeline = timeline;\n\n  this._timer = null;\n  this._nextArrival = Infinity;\n\n  this._runReadyTasksBound = function () { return this$1._runReadyTasks(this$1.currentTime()); };\n};\n\nScheduler.prototype.currentTime = function currentTime () {\n  return this.timer.now()\n};\n\nScheduler.prototype.scheduleTask = function scheduleTask (localOffset, delay, period, task) {\n  var time = this.currentTime() + Math.max(0, delay);\n  var st = new ScheduledTask(time, localOffset, period, task, this);\n\n  this.timeline.add(st);\n  this._scheduleNextRun();\n  return st\n};\n\nScheduler.prototype.relative = function relative (offset) {\n  return new RelativeScheduler(offset, this)\n};\n\nScheduler.prototype.cancel = function cancel (task) {\n  task.active = false;\n  if (this.timeline.remove(task)) {\n    this._reschedule();\n  }\n};\n\nScheduler.prototype.cancelAll = function cancelAll (f) {\n  this.timeline.removeAll(f);\n  this._reschedule();\n};\n\nScheduler.prototype._reschedule = function _reschedule () {\n  if (this.timeline.isEmpty()) {\n    this._unschedule();\n  } else {\n    this._scheduleNextRun(this.currentTime());\n  }\n};\n\nScheduler.prototype._unschedule = function _unschedule () {\n  this.timer.clearTimer(this._timer);\n  this._timer = null;\n};\n\nScheduler.prototype._scheduleNextRun = function _scheduleNextRun () { // eslint-disable-line complexity\n  if (this.timeline.isEmpty()) {\n    return\n  }\n\n  var nextArrival = this.timeline.nextArrival();\n\n  if (this._timer === null) {\n    this._scheduleNextArrival(nextArrival);\n  } else if (nextArrival < this._nextArrival) {\n    this._unschedule();\n    this._scheduleNextArrival(nextArrival);\n  }\n};\n\nScheduler.prototype._scheduleNextArrival = function _scheduleNextArrival (nextArrival) {\n  this._nextArrival = nextArrival;\n  var delay = Math.max(0, nextArrival - this.currentTime());\n  this._timer = this.timer.setTimer(this._runReadyTasksBound, delay);\n};\n\nScheduler.prototype._runReadyTasks = function _runReadyTasks () {\n  this._timer = null;\n  this.timeline.runTasks(this.currentTime(), runTask);\n  this._scheduleNextRun();\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar Timeline = function Timeline () {\n  this.tasks = [];\n};\n\nTimeline.prototype.nextArrival = function nextArrival () {\n  return this.isEmpty() ? Infinity : this.tasks[0].time\n};\n\nTimeline.prototype.isEmpty = function isEmpty () {\n  return this.tasks.length === 0\n};\n\nTimeline.prototype.add = function add (st) {\n  insertByTime(st, this.tasks);\n};\n\nTimeline.prototype.remove = function remove (st) {\n  var i = binarySearch(getTime(st), this.tasks);\n\n  if (i >= 0 && i < this.tasks.length) {\n    var at = findIndex(st, this.tasks[i].events);\n    if (at >= 0) {\n      this.tasks[i].events.splice(at, 1);\n      return true\n    }\n  }\n\n  return false\n};\n\nTimeline.prototype.removeAll = function removeAll$$1 (f) {\n    var this$1 = this;\n\n  for (var i = 0; i < this.tasks.length; ++i) {\n    removeAllFrom(f, this$1.tasks[i]);\n  }\n};\n\nTimeline.prototype.runTasks = function runTasks (t, runTask) {\n    var this$1 = this;\n\n  var tasks = this.tasks;\n  var l = tasks.length;\n  var i = 0;\n\n  while (i < l && tasks[i].time <= t) {\n    ++i;\n  }\n\n  this.tasks = tasks.slice(i);\n\n  // Run all ready tasks\n  for (var j = 0; j < i; ++j) {\n    this$1.tasks = runReadyTasks(runTask, tasks[j].events, this$1.tasks);\n  }\n};\n\nfunction runReadyTasks (runTask, events, tasks) { // eslint-disable-line complexity\n  for (var i = 0; i < events.length; ++i) {\n    var task = events[i];\n\n    if (task.active) {\n      runTask(task);\n\n      // Reschedule periodic repeating tasks\n      // Check active again, since a task may have canceled itself\n      if (task.period >= 0 && task.active) {\n        task.time = task.time + task.period;\n        insertByTime(task, tasks);\n      }\n    }\n  }\n\n  return tasks\n}\n\nfunction insertByTime (task, timeslots) {\n  var l = timeslots.length;\n  var time = getTime(task);\n\n  if (l === 0) {\n    timeslots.push(newTimeslot(time, [task]));\n    return\n  }\n\n  var i = binarySearch(time, timeslots);\n\n  if (i >= l) {\n    timeslots.push(newTimeslot(time, [task]));\n  } else {\n    insertAtTimeslot(task, timeslots, time, i);\n  }\n}\n\nfunction insertAtTimeslot (task, timeslots, time, i) {\n  var timeslot = timeslots[i];\n  if (time === timeslot.time) {\n    addEvent(task, timeslot.events, time);\n  } else {\n    timeslots.splice(i, 0, newTimeslot(time, [task]));\n  }\n}\n\nfunction addEvent (task, events) {\n  if (events.length === 0 || task.time >= events[events.length - 1].time) {\n    events.push(task);\n  } else {\n    spliceEvent(task, events);\n  }\n}\n\nfunction spliceEvent (task, events) {\n  for (var j = 0; j < events.length; j++) {\n    if (task.time < events[j].time) {\n      events.splice(j, 0, task);\n      break\n    }\n  }\n}\n\nfunction getTime (scheduledTask) {\n  return Math.floor(scheduledTask.time)\n}\n\nfunction removeAllFrom (f, timeslot) {\n  timeslot.events = removeAll(f, timeslot.events);\n}\n\nfunction binarySearch (t, sortedArray) { // eslint-disable-line complexity\n  var lo = 0;\n  var hi = sortedArray.length;\n  var mid, y;\n\n  while (lo < hi) {\n    mid = Math.floor((lo + hi) / 2);\n    y = sortedArray[mid];\n\n    if (t === y.time) {\n      return mid\n    } else if (t < y.time) {\n      hi = mid;\n    } else {\n      lo = mid + 1;\n    }\n  }\n  return hi\n}\n\nvar newTimeslot = function (t, events) { return ({ time: t, events: events }); };\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n/* global setTimeout, clearTimeout */\n\nvar ClockTimer = function ClockTimer (clock) {\n  this._clock = clock;\n};\n\nClockTimer.prototype.now = function now () {\n  return this._clock.now()\n};\n\nClockTimer.prototype.setTimer = function setTimer (f, dt) {\n  return dt <= 0 ? runAsap(f) : setTimeout(f, dt)\n};\n\nClockTimer.prototype.clearTimer = function clearTimer (t) {\n  return t instanceof Asap ? t.cancel() : clearTimeout(t)\n};\n\nvar Asap = function Asap (f) {\n  this.f = f;\n  this.active = true;\n};\n\nAsap.prototype.run = function run () {\n  return this.active && this.f()\n};\n\nAsap.prototype.error = function error (e) {\n  throw e\n};\n\nAsap.prototype.cancel = function cancel () {\n  this.active = false;\n};\n\nfunction runAsap (f) {\n  var task = new Asap(f);\n  defer(task);\n  return task\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n/* global performance, process */\n\nvar RelativeClock = function RelativeClock (clock, origin) {\n  this.origin = origin;\n  this.clock = clock;\n};\n\nRelativeClock.prototype.now = function now () {\n  return this.clock.now() - this.origin\n};\n\nvar HRTimeClock = function HRTimeClock (hrtime, origin) {\n  this.origin = origin;\n  this.hrtime = hrtime;\n};\n\nHRTimeClock.prototype.now = function now () {\n  var hrt = this.hrtime(this.origin);\n  return (hrt[0] * 1e9 + hrt[1]) / 1e6\n};\n\nvar clockRelativeTo = function (clock) { return new RelativeClock(clock, clock.now()); };\n\nvar newPerformanceClock = function () { return clockRelativeTo(performance); };\n\nvar newDateClock = function () { return clockRelativeTo(Date); };\n\nvar newHRTimeClock = function () { return new HRTimeClock(process.hrtime, process.hrtime()); };\n\nvar newPlatformClock = function () {\n  if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n    return newPerformanceClock()\n  } else if (typeof process !== 'undefined' && typeof process.hrtime === 'function') {\n    return newHRTimeClock()\n  }\n\n  return newDateClock()\n};\n\n// Read the current time from the provided Scheduler\nvar currentTime = function (scheduler) { return scheduler.currentTime(); };\n\n// Schedule a task to run as soon as possible, but\n// not in the current call stack\nvar asap = curry2(function (task, scheduler) { return scheduler.scheduleTask(0, 0, -1, task); });\n\n// Schedule a task to run after a millisecond delay\nvar delay = curry3(function (delay, task, scheduler) { return scheduler.scheduleTask(0, delay, -1, task); });\n\n// Schedule a task to run periodically, with the\n// first run starting asap\nvar periodic = curry3(function (period, task, scheduler) { return scheduler.scheduleTask(0, 0, period, task); });\n\n// Cancel a scheduledTask\nvar cancelTask = function (scheduledTask) { return scheduledTask.dispose(); };\n\n// Cancel all ScheduledTasks for which a predicate\n// is true\nvar cancelAllTasks = curry2(function (predicate, scheduler) { return scheduler.cancelAll(predicate); });\n\nvar schedulerRelativeTo = curry2(function (offset, scheduler) { return new RelativeScheduler(offset, scheduler); });\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar newScheduler = curry2(function (timer, timeline) { return new Scheduler(timer, timeline); });\n\nvar newDefaultScheduler = function () { return new Scheduler(newDefaultTimer(), new Timeline()); };\n\nvar newDefaultTimer = function () { return new ClockTimer(newPlatformClock()); };\nvar newClockTimer = function (clock) { return new ClockTimer(clock); };\n\nvar newTimeline = function () { return new Timeline(); };\n\nexport { newScheduler, newDefaultScheduler, newDefaultTimer, newClockTimer, newTimeline, RelativeClock, HRTimeClock, clockRelativeTo, newPerformanceClock, newDateClock, newHRTimeClock, newPlatformClock, currentTime, asap, delay, periodic, cancelTask, cancelAllTasks, schedulerRelativeTo };\n//# sourceMappingURL=index.es.js.map\n","import { curry2, curry3, reduce } from '@most/prelude';\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar dispose = function (disposable) { return disposable.dispose(); };\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar disposeNone = function () { return NONE; };\nvar NONE = new ((function () {\n  function DisposeNone () {}\n\n  DisposeNone.prototype.dispose = function dispose () {};\n\n  return DisposeNone;\n}()))();\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n// Wrap an existing disposable (which may not already have been once()d)\n// so that it will only dispose its underlying resource at most once.\nvar disposeOnce = function (disposable) { return new DisposeOnce(disposable); };\n\nvar DisposeOnce = function DisposeOnce (disposable) {\n  this.disposed = false;\n  this.disposable = disposable;\n};\n\nDisposeOnce.prototype.dispose = function dispose () {\n  if (!this.disposed) {\n    this.disposed = true;\n    this.disposable.dispose();\n    this.disposable = undefined;\n  }\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n// Create a Disposable that will use the provided\n// dispose function to dispose the resource\nvar disposeWith = curry2(function (dispose, resource) { return disposeOnce(new DisposeWith(dispose, resource)); });\n\n// Disposable represents a resource that must be\n// disposed/released. It aggregates a function to dispose\n// the resource and a handle to a key/id/handle/reference\n// that identifies the resource\nvar DisposeWith = function DisposeWith (dispose, resource) {\n  this._dispose = dispose;\n  this._resource = resource;\n};\n\nDisposeWith.prototype.dispose = function dispose () {\n  this._dispose(this._resource);\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n// Aggregate a list of disposables into a DisposeAll\nvar disposeAll = function (ds) { return new DisposeAll(ds); };\n\n// Convenience to aggregate 2 disposables\nvar disposeBoth = curry2(function (d1, d2) { return disposeAll([d1, d2]); });\n\nvar DisposeAll = function DisposeAll (disposables) {\n  this.disposables = disposables;\n};\n\nDisposeAll.prototype.dispose = function dispose () {\n  throwIfErrors(disposeCollectErrors(this.disposables));\n};\n\n// Dispose all, safely collecting errors into an array\nvar disposeCollectErrors = function (disposables) { return reduce(appendIfError, [], disposables); };\n\n// Call dispose and if throws, append thrown error to errors\nvar appendIfError = function (errors, d) {\n  try {\n    d.dispose();\n  } catch (e) {\n    errors.push(e);\n  }\n  return errors\n};\n\n// Throw DisposeAllError if errors is non-empty\nvar throwIfErrors = function (errors) {\n  if (errors.length > 0) {\n    throw new DisposeAllError(((errors.length) + \" errors\"), errors)\n  }\n};\n\n// Aggregate Error type for DisposeAll\nvar DisposeAllError = (function (Error) {\n  function DisposeAllError (message, errors) {\n    Error.call(this, message);\n    this.message = message;\n    this.name = this.constructor.name;\n    this.errors = errors;\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n\n    this.stack = \"\" + (this.stack) + (formatErrorStacks(this.errors));\n  }\n\n  if ( Error ) DisposeAllError.__proto__ = Error;\n  DisposeAllError.prototype = Object.create( Error && Error.prototype );\n  DisposeAllError.prototype.constructor = DisposeAllError;\n\n  DisposeAllError.prototype.toString = function toString () {\n    return this.stack\n  };\n\n  return DisposeAllError;\n}(Error));\n\nvar formatErrorStacks = function (errors) { return reduce(formatErrorStack, '', errors); };\n\nvar formatErrorStack = function (s, e, i) { return s + \"\\n[\" + ((i + 1)) + \"] \" + (e.stack); };\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n// Try to dispose the disposable.  If it throws, send\n// the error to sink.error with the provided Time value\nvar tryDispose = curry3(function (t, disposable, sink) {\n  try {\n    disposable.dispose();\n  } catch (e) {\n    sink.error(t, e);\n  }\n});\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nexport { dispose, disposeNone, disposeWith, disposeOnce, disposeAll, disposeBoth, DisposeAllError, tryDispose };\n//# sourceMappingURL=index.es.js.map\n","import { append, apply, compose, curry2, curry3, findIndex, id, map, reduce, remove } from '@most/prelude';\nimport { asap, cancelAllTasks, currentTime, delay, periodic, schedulerRelativeTo } from '@most/scheduler';\nimport { disposeAll, disposeBoth, disposeNone, disposeOnce, tryDispose } from '@most/disposable';\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nfunction fatalError (e) {\n  setTimeout(rethrow, 0, e);\n}\n\nfunction rethrow (e) {\n  throw e\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar propagateTask$1 = function (run, value, sink) { return new PropagateTask(run, value, sink); };\n\nvar propagateEventTask$1 = function (value, sink) { return propagateTask$1(runEvent, value, sink); };\n\nvar propagateEndTask = function (sink) { return propagateTask$1(runEnd, undefined, sink); };\n\nvar propagateErrorTask$1 = function (value, sink) { return propagateTask$1(runError, value, sink); };\n\nvar PropagateTask = function PropagateTask (run, value, sink) {\n  this._run = run;\n  this.value = value;\n  this.sink = sink;\n  this.active = true;\n};\n\nPropagateTask.prototype.dispose = function dispose () {\n  this.active = false;\n};\n\nPropagateTask.prototype.run = function run (t) {\n  if (!this.active) {\n    return\n  }\n  var run = this._run;\n  run(t, this.value, this.sink);\n};\n\nPropagateTask.prototype.error = function error (t, e) {\n  // TODO: Remove this check and just do this.sink.error(t, e)?\n  if (!this.active) {\n    return fatalError(e)\n  }\n  this.sink.error(t, e);\n};\n\nvar runEvent = function (t, x, sink) { return sink.event(t, x); };\n\nvar runEnd = function (t, _, sink) { return sink.end(t); };\n\nvar runError = function (t, e, sink) { return sink.error(t, e); };\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar empty = function () { return EMPTY; };\n\nvar Empty = function Empty () {};\n\nEmpty.prototype.run = function run (sink, scheduler) {\n  return asap(propagateEndTask(sink), scheduler)\n};\n\nvar EMPTY = new Empty();\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar never = function () { return NEVER; };\n\nvar Never = function Never () {};\n\nNever.prototype.run = function run () {\n  return disposeNone()\n};\n\nvar NEVER = new Never();\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar at = function (t, x) { return new At(t, x); };\n\nvar At = function At (t, x) {\n  this.time = t;\n  this.value = x;\n};\n\nAt.prototype.run = function run (sink, scheduler) {\n  return delay(this.time, propagateTask$1(runAt, this.value, sink), scheduler)\n};\n\nfunction runAt (t, x, sink) {\n  sink.event(t, x);\n  sink.end(t);\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar now = function (x) { return at(0, x); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Create a stream of events that occur at a regular period\n * @param {Number} period periodicity of events in millis\n * @returns {Stream} new stream of periodic events, the event value is undefined\n */\nvar periodic$1 = function (period) { return new Periodic(period); };\n\nvar Periodic = function Periodic (period) {\n  this.period = period;\n};\n\nPeriodic.prototype.run = function run (sink, scheduler) {\n  return periodic(this.period, propagateEventTask$1(undefined, sink), scheduler)\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar newStream = function (run) { return new Stream(run); };\n\nvar Stream = function Stream (run) {\n  this.run = run;\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n/** @author Brian Cavalier */\n\nvar Pipe = function Pipe (sink) {\n  this.sink = sink;\n};\n\nPipe.prototype.event = function event (t, x) {\n  return this.sink.event(t, x)\n};\n\nPipe.prototype.end = function end (t) {\n  return this.sink.end(t)\n};\n\nPipe.prototype.error = function error (t, e) {\n  return this.sink.error(t, e)\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar withArrayValues$1 = function (array, stream) { return zipArrayValues$1(keepLeft, array, stream); };\n\nvar zipArrayValues$1 = function (f, array, stream) { return array.length === 0 || stream === empty()\n    ? empty()\n    : new ZipArrayValues(f, array, stream); };\n\nvar keepLeft = function (a, _) { return a; };\n\nvar ZipArrayValues = function ZipArrayValues (f, values, source) {\n  this.f = f;\n  this.values = values;\n  this.source = source;\n};\n\nZipArrayValues.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new ZipArrayValuesSink(this.f, this.values, sink), scheduler)\n};\n\nvar ZipArrayValuesSink = (function (Pipe$$1) {\n  function ZipArrayValuesSink (f, values, sink) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n    this.values = values;\n    this.index = 0;\n  }\n\n  if ( Pipe$$1 ) ZipArrayValuesSink.__proto__ = Pipe$$1;\n  ZipArrayValuesSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  ZipArrayValuesSink.prototype.constructor = ZipArrayValuesSink;\n\n  ZipArrayValuesSink.prototype.event = function event (t, b) {\n    var f = this.f;\n    this.sink.event(t, f(this.values[this.index], b));\n\n    this.index += 1;\n    if (this.index >= this.values.length) {\n      this.sink.end(t);\n    }\n  };\n\n  return ZipArrayValuesSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar SettableDisposable = function SettableDisposable () {\n  this.disposable = undefined;\n  this.disposed = false;\n};\n\nSettableDisposable.prototype.setDisposable = function setDisposable (disposable) {\n  if (this.disposable !== void 0) {\n    throw new Error('setDisposable called more than once')\n  }\n\n  this.disposable = disposable;\n\n  if (this.disposed) {\n    disposable.dispose();\n  }\n};\n\nSettableDisposable.prototype.dispose = function dispose () {\n  if (this.disposed) {\n    return\n  }\n\n  this.disposed = true;\n\n  if (this.disposable !== void 0) {\n    this.disposable.dispose();\n  }\n};\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar runEffects$1 = curry2(function (stream, scheduler) { return new Promise(function (resolve, reject) { return runStream(stream, scheduler, resolve, reject); }); });\n\nfunction runStream (stream, scheduler, resolve, reject) {\n  var disposable = new SettableDisposable();\n  var observer = new RunEffectsSink(resolve, reject, disposable);\n\n  disposable.setDisposable(stream.run(observer, scheduler));\n}\n\nvar RunEffectsSink = function RunEffectsSink (end, error, disposable) {\n  this._end = end;\n  this._error = error;\n  this._disposable = disposable;\n  this.active = true;\n};\n\nRunEffectsSink.prototype.event = function event (t, x) {};\n\nRunEffectsSink.prototype.end = function end (t) {\n  if (!this.active) {\n    return\n  }\n  this._dispose(this._error, this._end, undefined);\n};\n\nRunEffectsSink.prototype.error = function error (t, e) {\n  this._dispose(this._error, this._error, e);\n};\n\nRunEffectsSink.prototype._dispose = function _dispose (error, end, x) {\n  this.active = false;\n  tryDispose$1(error, end, x, this._disposable);\n};\n\nfunction tryDispose$1 (error, end, x, disposable) {\n  try {\n    disposable.dispose();\n  } catch (e) {\n    error(e);\n    return\n  }\n\n  end(x);\n}\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n// Run a Stream, sending all its events to the\n// provided Sink.\nvar run$1 = function (sink, scheduler, stream) { return stream.run(sink, scheduler); };\n\nvar RelativeSink = function RelativeSink (offset, sink) {\n  this.sink = sink;\n  this.offset = offset;\n};\n\nRelativeSink.prototype.event = function event (t, x) {\n  this.sink.event(t + this.offset, x);\n};\n\nRelativeSink.prototype.error = function error (t, e) {\n  this.sink.error(t + this.offset, e);\n};\n\nRelativeSink.prototype.end = function end (t) {\n  this.sink.end(t + this.offset);\n};\n\n// Create a stream with its own local clock\n// This transforms time from the provided scheduler's clock to a stream-local\n// clock (which starts at 0), and then *back* to the scheduler's clock before\n// propagating events to sink.  In other words, upstream sources will see local times,\n// and downstream sinks will see non-local (original) times.\nvar withLocalTime$1 = function (origin, stream) { return new WithLocalTime(origin, stream); };\n\nvar WithLocalTime = function WithLocalTime (origin, source) {\n  this.origin = origin;\n  this.source = source;\n};\n\nWithLocalTime.prototype.run = function run (sink, scheduler) {\n  return this.source.run(relativeSink(this.origin, sink), schedulerRelativeTo(this.origin, scheduler))\n};\n\n// Accumulate offsets instead of nesting RelativeSinks, which can happen\n// with higher-order stream and combinators like continueWith when they're\n// applied recursively.\nvar relativeSink = function (origin, sink) { return sink instanceof RelativeSink\n    ? new RelativeSink(origin + sink.offset, sink.sink)\n    : new RelativeSink(origin, sink); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Generalized feedback loop. Call a stepper function for each event. The stepper\n * will be called with 2 params: the current seed and the an event value.  It must\n * return a new { seed, value } pair. The `seed` will be fed back into the next\n * invocation of stepper, and the `value` will be propagated as the event value.\n * @param {function(seed:*, value:*):{seed:*, value:*}} stepper loop step function\n * @param {*} seed initial seed value passed to first stepper call\n * @param {Stream} stream event stream\n * @returns {Stream} new stream whose values are the `value` field of the objects\n * returned by the stepper\n */\nvar loop$1 = function (stepper, seed, stream) { return new Loop(stepper, seed, stream); };\n\nvar Loop = function Loop (stepper, seed, source) {\n  this.step = stepper;\n  this.seed = seed;\n  this.source = source;\n};\n\nLoop.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new LoopSink(this.step, this.seed, sink), scheduler)\n};\n\nvar LoopSink = (function (Pipe$$1) {\n  function LoopSink (stepper, seed, sink) {\n    Pipe$$1.call(this, sink);\n    this.step = stepper;\n    this.seed = seed;\n  }\n\n  if ( Pipe$$1 ) LoopSink.__proto__ = Pipe$$1;\n  LoopSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  LoopSink.prototype.constructor = LoopSink;\n\n  LoopSink.prototype.event = function event (t, x) {\n    var result = this.step(this.seed, x);\n    this.seed = result.seed;\n    this.sink.event(t, result.value);\n  };\n\n  return LoopSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Create a stream containing successive reduce results of applying f to\n * the previous reduce result and the current stream item.\n * @param {function(result:*, x:*):*} f reducer function\n * @param {*} initial initial value\n * @param {Stream} stream stream to scan\n * @returns {Stream} new stream containing successive reduce results\n */\nvar scan$1 = function (f, initial, stream) { return new Scan(f, initial, stream); };\n\nvar Scan = function Scan (f, z, source) {\n  this.source = source;\n  this.f = f;\n  this.value = z;\n};\n\nScan.prototype.run = function run (sink, scheduler) {\n  var d1 = asap(propagateEventTask$1(this.value, sink), scheduler);\n  var d2 = this.source.run(new ScanSink(this.f, this.value, sink), scheduler);\n  return disposeBoth(d1, d2)\n};\n\nvar ScanSink = (function (Pipe$$1) {\n  function ScanSink (f, z, sink) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n    this.value = z;\n  }\n\n  if ( Pipe$$1 ) ScanSink.__proto__ = Pipe$$1;\n  ScanSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  ScanSink.prototype.constructor = ScanSink;\n\n  ScanSink.prototype.event = function event (t, x) {\n    var f = this.f;\n    this.value = f(this.value, x);\n    this.sink.event(t, this.value);\n  };\n\n  return ScanSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar continueWith$1 = function (f, stream) { return new ContinueWith(f, stream); };\n\nvar ContinueWith = function ContinueWith (f, source) {\n  this.f = f;\n  this.source = source;\n};\n\nContinueWith.prototype.run = function run (sink, scheduler) {\n  return new ContinueWithSink(this.f, this.source, sink, scheduler)\n};\n\nvar ContinueWithSink = (function (Pipe$$1) {\n  function ContinueWithSink (f, source, sink, scheduler) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n    this.scheduler = scheduler;\n    this.active = true;\n    this.disposable = disposeOnce(source.run(this, scheduler));\n  }\n\n  if ( Pipe$$1 ) ContinueWithSink.__proto__ = Pipe$$1;\n  ContinueWithSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  ContinueWithSink.prototype.constructor = ContinueWithSink;\n\n  ContinueWithSink.prototype.event = function event (t, x) {\n    if (!this.active) {\n      return\n    }\n    this.sink.event(t, x);\n  };\n\n  ContinueWithSink.prototype.end = function end (t) {\n    if (!this.active) {\n      return\n    }\n\n    tryDispose(t, this.disposable, this.sink);\n\n    this._startNext(t, this.sink);\n  };\n\n  ContinueWithSink.prototype._startNext = function _startNext (t, sink) {\n    try {\n      this.disposable = this._continue(this.f, t, sink);\n    } catch (e) {\n      sink.error(t, e);\n    }\n  };\n\n  ContinueWithSink.prototype._continue = function _continue (f, t, sink) {\n    return run$1(sink, this.scheduler, withLocalTime$1(t, f()))\n  };\n\n  ContinueWithSink.prototype.dispose = function dispose () {\n    this.active = false;\n    return this.disposable.dispose()\n  };\n\n  return ContinueWithSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\nvar startWith$1 = function (x, stream) { return continueWith$1(function () { return stream; }, now(x)); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar Filter = function Filter (p, source) {\n  this.p = p;\n  this.source = source;\n};\n\nFilter.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new FilterSink(this.p, sink), scheduler)\n};\n\n/**\n * Create a filtered source, fusing adjacent filter.filter if possible\n * @param {function(x:*):boolean} p filtering predicate\n * @param {{run:function}} source source to filter\n * @returns {Filter} filtered source\n */\nFilter.create = function create (p, source) {\n  if (source instanceof Filter) {\n    return new Filter(and(source.p, p), source.source)\n  }\n\n  return new Filter(p, source)\n};\n\nvar FilterSink = (function (Pipe$$1) {\n  function FilterSink (p, sink) {\n    Pipe$$1.call(this, sink);\n    this.p = p;\n  }\n\n  if ( Pipe$$1 ) FilterSink.__proto__ = Pipe$$1;\n  FilterSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  FilterSink.prototype.constructor = FilterSink;\n\n  FilterSink.prototype.event = function event (t, x) {\n    var p = this.p;\n    p(x) && this.sink.event(t, x);\n  };\n\n  return FilterSink;\n}(Pipe));\n\nvar and = function (p, q) { return function (x) { return p(x) && q(x); }; };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar FilterMap = function FilterMap (p, f, source) {\n  this.p = p;\n  this.f = f;\n  this.source = source;\n};\n\nFilterMap.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new FilterMapSink(this.p, this.f, sink), scheduler)\n};\n\nvar FilterMapSink = (function (Pipe$$1) {\n  function FilterMapSink (p, f, sink) {\n    Pipe$$1.call(this, sink);\n    this.p = p;\n    this.f = f;\n  }\n\n  if ( Pipe$$1 ) FilterMapSink.__proto__ = Pipe$$1;\n  FilterMapSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  FilterMapSink.prototype.constructor = FilterMapSink;\n\n  FilterMapSink.prototype.event = function event (t, x) {\n    var f = this.f;\n    var p = this.p;\n    p(x) && this.sink.event(t, f(x));\n  };\n\n  return FilterMapSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar Map = function Map (f, source) {\n  this.f = f;\n  this.source = source;\n};\n\nMap.prototype.run = function run (sink, scheduler) { // eslint-disable-line no-extend-native\n  return this.source.run(new MapSink(this.f, sink), scheduler)\n};\n\n/**\n * Create a mapped source, fusing adjacent map.map, filter.map,\n * and filter.map.map if possible\n * @param {function(*):*} f mapping function\n * @param {{run:function}} source source to map\n * @returns {Map|FilterMap} mapped source, possibly fused\n */\nMap.create = function create (f, source) {\n  if (source instanceof Map) {\n    return new Map(compose(f, source.f), source.source)\n  }\n\n  if (source instanceof Filter) {\n    return new FilterMap(source.p, f, source.source)\n  }\n\n  return new Map(f, source)\n};\n\nvar MapSink = (function (Pipe$$1) {\n  function MapSink (f, sink) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n  }\n\n  if ( Pipe$$1 ) MapSink.__proto__ = Pipe$$1;\n  MapSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  MapSink.prototype.constructor = MapSink;\n\n  MapSink.prototype.event = function event (t, x) {\n    var f = this.f;\n    this.sink.event(t, f(x));\n  };\n\n  return MapSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Transform each value in the stream by applying f to each\n * @param {function(*):*} f mapping function\n * @param {Stream} stream stream to map\n * @returns {Stream} stream containing items transformed by f\n */\nvar map$2 = function (f, stream) { return Map.create(f, stream); };\n\n/**\n* Replace each value in the stream with x\n* @param {*} x\n* @param {Stream} stream\n* @returns {Stream} stream containing items replaced with x\n*/\nvar constant$1 = function (x, stream) { return map$2(function () { return x; }, stream); };\n\n/**\n* Perform a side effect for each item in the stream\n* @param {function(x:*):*} f side effect to execute for each item. The\n*  return value will be discarded.\n* @param {Stream} stream stream to tap\n* @returns {Stream} new stream containing the same items as this stream\n*/\nvar tap$1 = function (f, stream) { return new Tap(f, stream); };\n\nvar Tap = function Tap (f, source) {\n  this.source = source;\n  this.f = f;\n};\n\nTap.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new TapSink(this.f, sink), scheduler)\n};\n\nvar TapSink = (function (Pipe$$1) {\n  function TapSink (f, sink) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n  }\n\n  if ( Pipe$$1 ) TapSink.__proto__ = Pipe$$1;\n  TapSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  TapSink.prototype.constructor = TapSink;\n\n  TapSink.prototype.event = function event (t, x) {\n    var f = this.f;\n    f(x);\n    this.sink.event(t, x);\n  };\n\n  return TapSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar IndexSink = (function (Sink) {\n  function IndexSink (i, sink) {\n    Sink.call(this, sink);\n    this.index = i;\n    this.active = true;\n    this.value = undefined;\n  }\n\n  if ( Sink ) IndexSink.__proto__ = Sink;\n  IndexSink.prototype = Object.create( Sink && Sink.prototype );\n  IndexSink.prototype.constructor = IndexSink;\n\n  IndexSink.prototype.event = function event (t, x) {\n    if (!this.active) {\n      return\n    }\n    this.value = x;\n    this.sink.event(t, this);\n  };\n\n  IndexSink.prototype.end = function end (t) {\n    if (!this.active) {\n      return\n    }\n    this.active = false;\n    this.sink.event(t, this);\n  };\n\n  return IndexSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nfunction invoke (f, args) {\n  /* eslint complexity: [2,7] */\n  switch (args.length) {\n    case 0: return f()\n    case 1: return f(args[0])\n    case 2: return f(args[0], args[1])\n    case 3: return f(args[0], args[1], args[2])\n    case 4: return f(args[0], args[1], args[2], args[3])\n    case 5: return f(args[0], args[1], args[2], args[3], args[4])\n    default:\n      return f.apply(void 0, args)\n  }\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Combine latest events from two streams\n * @param {function(...events):*} f function to combine most recent events\n * @returns {Stream} stream containing the result of applying f to the most recent\n *  event of each input stream, whenever a new event arrives on any stream.\n */\nfunction combine$1 (f, stream1, stream2) {\n  return combineArray$1(f, [stream1, stream2])\n}\n\n/**\n* Combine latest events from all input streams\n* @param {function(...events):*} f function to combine most recent events\n* @param {[Stream]} streams most recent events\n* @returns {Stream} stream containing the result of applying f to the most recent\n*  event of each input stream, whenever a new event arrives on any stream.\n*/\nvar combineArray$1 = function (f, streams) { return streams.length === 0 ? empty()\n    : streams.length === 1 ? map$2(f, streams[0])\n    : new Combine(f, streams); };\n\nvar Combine = function Combine (f, sources) {\n  this.f = f;\n  this.sources = sources;\n};\n\nCombine.prototype.run = function run (sink, scheduler) {\n    var this$1 = this;\n\n  var l = this.sources.length;\n  var disposables = new Array(l);\n  var sinks = new Array(l);\n\n  var mergeSink = new CombineSink(disposables, sinks, sink, this.f);\n\n  for (var indexSink = (void 0), i = 0; i < l; ++i) {\n    indexSink = sinks[i] = new IndexSink(i, mergeSink);\n    disposables[i] = this$1.sources[i].run(indexSink, scheduler);\n  }\n\n  return disposeAll(disposables)\n};\n\nvar CombineSink = (function (Pipe$$1) {\n  function CombineSink (disposables, sinks, sink, f) {\n    Pipe$$1.call(this, sink);\n    this.disposables = disposables;\n    this.sinks = sinks;\n    this.f = f;\n\n    var l = sinks.length;\n    this.awaiting = l;\n    this.values = new Array(l);\n    this.hasValue = new Array(l).fill(false);\n    this.activeCount = sinks.length;\n  }\n\n  if ( Pipe$$1 ) CombineSink.__proto__ = Pipe$$1;\n  CombineSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  CombineSink.prototype.constructor = CombineSink;\n\n  CombineSink.prototype.event = function event (t, indexedValue) {\n    if (!indexedValue.active) {\n      this._dispose(t, indexedValue.index);\n      return\n    }\n\n    var i = indexedValue.index;\n    var awaiting = this._updateReady(i);\n\n    this.values[i] = indexedValue.value;\n    if (awaiting === 0) {\n      this.sink.event(t, invoke(this.f, this.values));\n    }\n  };\n\n  CombineSink.prototype._updateReady = function _updateReady (index) {\n    if (this.awaiting > 0) {\n      if (!this.hasValue[index]) {\n        this.hasValue[index] = true;\n        this.awaiting -= 1;\n      }\n    }\n    return this.awaiting\n  };\n\n  CombineSink.prototype._dispose = function _dispose (t, index) {\n    tryDispose(t, this.disposables[index], this.sink);\n    if (--this.activeCount === 0) {\n      this.sink.end(t);\n    }\n  };\n\n  return CombineSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Assume fs is a stream containing functions, and apply the latest function\n * in fs to the latest value in xs.\n * fs:         --f---------g--------h------>\n * xs:         -a-------b-------c-------d-->\n * ap(fs, xs): --fa-----fb-gb---gc--hc--hd->\n * @param {Stream} fs stream of functions to apply to the latest x\n * @param {Stream} xs stream of values to which to apply all the latest f\n * @returns {Stream} stream containing all the applications of fs to xs\n */\nfunction ap$1 (fs, xs) {\n  return combine$1(apply, fs, xs)\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Doubly linked list\n * @constructor\n */\nvar LinkedList = function LinkedList () {\n  this.head = null;\n  this.length = 0;\n};\n\n/**\n * Add a node to the end of the list\n * @param {{prev:Object|null, next:Object|null, dispose:function}} x node to add\n */\nLinkedList.prototype.add = function add (x) {\n  if (this.head !== null) {\n    this.head.prev = x;\n    x.next = this.head;\n  }\n  this.head = x;\n  ++this.length;\n};\n\n/**\n * Remove the provided node from the list\n * @param {{prev:Object|null, next:Object|null, dispose:function}} x node to remove\n */\nLinkedList.prototype.remove = function remove$$1 (x) { // eslint-disable-linecomplexity\n  --this.length;\n  if (x === this.head) {\n    this.head = this.head.next;\n  }\n  if (x.next !== null) {\n    x.next.prev = x.prev;\n    x.next = null;\n  }\n  if (x.prev !== null) {\n    x.prev.next = x.next;\n    x.prev = null;\n  }\n};\n\n/**\n * @returns {boolean} true iff there are no nodes in the list\n */\nLinkedList.prototype.isEmpty = function isEmpty () {\n  return this.length === 0\n};\n\n/**\n * Dispose all nodes\n * @returns {Promise} promise that fulfills when all nodes have been disposed,\n *or rejects if an error occurs while disposing\n */\nLinkedList.prototype.dispose = function dispose () {\n  if (this.isEmpty()) {\n    return Promise.resolve()\n  }\n\n  var promises = [];\n  var x = this.head;\n  this.head = null;\n  this.length = 0;\n\n  while (x !== null) {\n    promises.push(x.dispose());\n    x = x.next;\n  }\n\n  return Promise.all(promises)\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar mergeConcurrently$1 = function (concurrency, stream) { return mergeMapConcurrently$1(id, concurrency, stream); };\n\nvar mergeMapConcurrently$1 = function (f, concurrency, stream) { return new MergeConcurrently(f, concurrency, stream); };\n\nvar MergeConcurrently = function MergeConcurrently (f, concurrency, source) {\n  this.f = f;\n  this.concurrency = concurrency;\n  this.source = source;\n};\n\nMergeConcurrently.prototype.run = function run (sink, scheduler) {\n  return new Outer(this.f, this.concurrency, this.source, sink, scheduler)\n};\n\nvar Outer = function Outer (f, concurrency, source, sink, scheduler) {\n  this.f = f;\n  this.concurrency = concurrency;\n  this.sink = sink;\n  this.scheduler = scheduler;\n  this.pending = [];\n  this.current = new LinkedList();\n  this.disposable = disposeOnce(source.run(this, scheduler));\n  this.active = true;\n};\n\nOuter.prototype.event = function event (t, x) {\n  this._addInner(t, x);\n};\n\nOuter.prototype._addInner = function _addInner (t, x) {\n  if (this.current.length < this.concurrency) {\n    this._startInner(t, x);\n  } else {\n    this.pending.push(x);\n  }\n};\n\nOuter.prototype._startInner = function _startInner (t, x) {\n  try {\n    this._initInner(t, x);\n  } catch (e) {\n    this.error(t, e);\n  }\n};\n\nOuter.prototype._initInner = function _initInner (t, x) {\n  var innerSink = new Inner(t, this, this.sink);\n  innerSink.disposable = mapAndRun(this.f, t, x, innerSink, this.scheduler);\n  this.current.add(innerSink);\n};\n\nOuter.prototype.end = function end (t) {\n  this.active = false;\n  tryDispose(t, this.disposable, this.sink);\n  this._checkEnd(t);\n};\n\nOuter.prototype.error = function error (t, e) {\n  this.active = false;\n  this.sink.error(t, e);\n};\n\nOuter.prototype.dispose = function dispose () {\n  this.active = false;\n  this.pending.length = 0;\n  this.disposable.dispose();\n  this.current.dispose();\n};\n\nOuter.prototype._endInner = function _endInner (t, inner) {\n  this.current.remove(inner);\n  tryDispose(t, inner, this);\n\n  if (this.pending.length === 0) {\n    this._checkEnd(t);\n  } else {\n    this._startInner(t, this.pending.shift());\n  }\n};\n\nOuter.prototype._checkEnd = function _checkEnd (t) {\n  if (!this.active && this.current.isEmpty()) {\n    this.sink.end(t);\n  }\n};\n\nvar mapAndRun = function (f, t, x, sink, scheduler) { return f(x).run(sink, schedulerRelativeTo(t, scheduler)); };\n\nvar Inner = function Inner (time, outer, sink) {\n  this.prev = this.next = null;\n  this.time = time;\n  this.outer = outer;\n  this.sink = sink;\n  this.disposable = void 0;\n};\n\nInner.prototype.event = function event (t, x) {\n  this.sink.event(t + this.time, x);\n};\n\nInner.prototype.end = function end (t) {\n  this.outer._endInner(t + this.time, this);\n};\n\nInner.prototype.error = function error (t, e) {\n  this.outer.error(t + this.time, e);\n};\n\nInner.prototype.dispose = function dispose () {\n  return this.disposable.dispose()\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Map each value in the stream to a new stream, and merge it into the\n * returned outer stream. Event arrival times are preserved.\n * @param {function(x:*):Stream} f chaining function, must return a Stream\n * @param {Stream} stream\n * @returns {Stream} new stream containing all events from each stream returned by f\n */\nvar chain$1 = function (f, stream) { return mergeMapConcurrently$1(f, Infinity, stream); };\n\n/**\n * Monadic join. Flatten a Stream<Stream<X>> to Stream<X> by merging inner\n * streams to the outer. Event arrival times are preserved.\n * @param {Stream<Stream<X>>} stream stream of streams\n * @returns {Stream<X>} new stream containing all events of all inner streams\n */\nvar join = function (stream) { return mergeConcurrently$1(Infinity, stream); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Map each value in stream to a new stream, and concatenate them all\n * stream:              -a---b---cX\n * f(a):                 1-1-1-1X\n * f(b):                        -2-2-2-2X\n * f(c):                                -3-3-3-3X\n * stream.concatMap(f): -1-1-1-1-2-2-2-2-3-3-3-3X\n * @param {function(x:*):Stream} f function to map each value to a stream\n * @param {Stream} stream\n * @returns {Stream} new stream containing all events from each stream returned by f\n */\nvar concatMap$1 = function (f, stream) { return mergeMapConcurrently$1(f, 1, stream); };\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * @returns {Stream} stream containing events from two streams in time order.\n * If two events are simultaneous they will be merged in arbitrary order.\n */\nfunction merge$1 (stream1, stream2) {\n  return mergeArray([stream1, stream2])\n}\n\n/**\n * @param {Array} streams array of stream to merge\n * @returns {Stream} stream containing events from all input observables\n * in time order.  If two events are simultaneous they will be merged in\n * arbitrary order.\n */\nvar mergeArray = function (streams) { return streams.length === 0 ? empty()\n    : streams.length === 1 ? streams[0]\n    : mergeStreams(streams); };\n\n/**\n * This implements fusion/flattening for merge.  It will\n * fuse adjacent merge operations.  For example:\n * - a.merge(b).merge(c) effectively becomes merge(a, b, c)\n * - merge(a, merge(b, c)) effectively becomes merge(a, b, c)\n * It does this by concatenating the sources arrays of\n * any nested Merge sources, in effect \"flattening\" nested\n * merge operations into a single merge.\n */\nvar mergeStreams = function (streams) { return new Merge(reduce(appendSources, [], streams)); };\n\nvar appendSources = function (sources, stream) { return sources.concat(stream instanceof Merge ? stream.sources : stream); };\n\nvar Merge = function Merge (sources) {\n  this.sources = sources;\n};\n\nMerge.prototype.run = function run (sink, scheduler) {\n    var this$1 = this;\n\n  var l = this.sources.length;\n  var disposables = new Array(l);\n  var sinks = new Array(l);\n\n  var mergeSink = new MergeSink(disposables, sinks, sink);\n\n  for (var indexSink = (void 0), i = 0; i < l; ++i) {\n    indexSink = sinks[i] = new IndexSink(i, mergeSink);\n    disposables[i] = this$1.sources[i].run(indexSink, scheduler);\n  }\n\n  return disposeAll(disposables)\n};\n\nvar MergeSink = (function (Pipe$$1) {\n  function MergeSink (disposables, sinks, sink) {\n    Pipe$$1.call(this, sink);\n    this.disposables = disposables;\n    this.activeCount = sinks.length;\n  }\n\n  if ( Pipe$$1 ) MergeSink.__proto__ = Pipe$$1;\n  MergeSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  MergeSink.prototype.constructor = MergeSink;\n\n  MergeSink.prototype.event = function event (t, indexValue) {\n    if (!indexValue.active) {\n      this._dispose(t, indexValue.index);\n      return\n    }\n    this.sink.event(t, indexValue.value);\n  };\n\n  MergeSink.prototype._dispose = function _dispose (t, index) {\n    tryDispose(t, this.disposables[index], this.sink);\n    if (--this.activeCount === 0) {\n      this.sink.end(t);\n    }\n  };\n\n  return MergeSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n\nvar sample$1 = function (f, sampler, stream) { return new Sample(f, sampler, stream); };\n\nvar Sample = function Sample (f, sampler, stream) {\n  this.source = stream;\n  this.sampler = sampler;\n  this.f = f;\n};\n\nSample.prototype.run = function run (sink, scheduler) {\n  var sampleSink = new SampleSink(this.f, this.source, sink);\n  var sourceDisposable = this.source.run(sampleSink.hold, scheduler);\n  var samplerDisposable = this.sampler.run(sampleSink, scheduler);\n\n  return disposeBoth(samplerDisposable, sourceDisposable)\n};\n\nvar SampleSink = (function (Pipe$$1) {\n  function SampleSink (f, source, sink) {\n    Pipe$$1.call(this, sink);\n    this.source = source;\n    this.f = f;\n    this.hold = new SampleHold(this);\n  }\n\n  if ( Pipe$$1 ) SampleSink.__proto__ = Pipe$$1;\n  SampleSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SampleSink.prototype.constructor = SampleSink;\n\n  SampleSink.prototype.event = function event (t, x) {\n    if (this.hold.hasValue) {\n      var f = this.f;\n      this.sink.event(t, f(x, this.hold.value));\n    }\n  };\n\n  return SampleSink;\n}(Pipe));\n\nvar SampleHold = (function (Pipe$$1) {\n  function SampleHold (sink) {\n    Pipe$$1.call(this, sink);\n    this.hasValue = false;\n  }\n\n  if ( Pipe$$1 ) SampleHold.__proto__ = Pipe$$1;\n  SampleHold.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SampleHold.prototype.constructor = SampleHold;\n\n  SampleHold.prototype.event = function event (t, x) {\n    this.value = x;\n    this.hasValue = true;\n  };\n\n  SampleHold.prototype.end = function end () {};\n\n  return SampleHold;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n// Based on https://github.com/petkaantonov/deque\n\nvar Queue = function Queue (capPow2) {\n  if ( capPow2 === void 0 ) capPow2 = 32;\n\n  this._capacity = capPow2;\n  this._length = 0;\n  this._head = 0;\n};\n\nQueue.prototype.push = function push (x) {\n  var len = this._length;\n  this._checkCapacity(len + 1);\n\n  var i = (this._head + len) & (this._capacity - 1);\n  this[i] = x;\n  this._length = len + 1;\n};\n\nQueue.prototype.shift = function shift () {\n  var head = this._head;\n  var x = this[head];\n\n  this[head] = void 0;\n  this._head = (head + 1) & (this._capacity - 1);\n  this._length--;\n  return x\n};\n\nQueue.prototype.isEmpty = function isEmpty () {\n  return this._length === 0\n};\n\nQueue.prototype.length = function length () {\n  return this._length\n};\n\nQueue.prototype._checkCapacity = function _checkCapacity (size) {\n  if (this._capacity < size) {\n    this._ensureCapacity(this._capacity << 1);\n  }\n};\n\nQueue.prototype._ensureCapacity = function _ensureCapacity (capacity) {\n  var oldCapacity = this._capacity;\n  this._capacity = capacity;\n\n  var last = this._head + this._length;\n\n  if (last > oldCapacity) {\n    copy(this, 0, this, oldCapacity, last & (oldCapacity - 1));\n  }\n};\n\nfunction copy (src, srcIndex, dst, dstIndex, len) {\n  for (var j = 0; j < len; ++j) {\n    dst[j + dstIndex] = src[j + srcIndex];\n    src[j + srcIndex] = void 0;\n  }\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Combine two streams pairwise by index by applying f to values at corresponding\n * indices.  The returned stream ends when either of the input streams ends.\n * @param {function} f function to combine values\n * @returns {Stream} new stream with items at corresponding indices combined\n *  using f\n */\nfunction zip$1 (f, stream1, stream2) {\n  return zipArray$1(f, [stream1, stream2])\n}\n\n/**\n* Combine streams pairwise (or tuple-wise) by index by applying f to values\n* at corresponding indices.  The returned stream ends when any of the input\n* streams ends.\n* @param {function} f function to combine values\n* @param {[Stream]} streams streams to zip using f\n* @returns {Stream} new stream with items at corresponding indices combined\n*  using f\n*/\nvar zipArray$1 = function (f, streams) { return streams.length === 0 ? empty()\n    : streams.length === 1 ? map$2(f, streams[0])\n    : new Zip(f, streams); };\n\nvar Zip = function Zip (f, sources) {\n  this.f = f;\n  this.sources = sources;\n};\n\nZip.prototype.run = function run (sink, scheduler) {\n    var this$1 = this;\n\n  var l = this.sources.length;\n  var disposables = new Array(l);\n  var sinks = new Array(l);\n  var buffers = new Array(l);\n\n  var zipSink = new ZipSink(this.f, buffers, sinks, sink);\n\n  for (var indexSink = (void 0), i = 0; i < l; ++i) {\n    buffers[i] = new Queue();\n    indexSink = sinks[i] = new IndexSink(i, zipSink);\n    disposables[i] = this$1.sources[i].run(indexSink, scheduler);\n  }\n\n  return disposeAll(disposables)\n};\n\nvar ZipSink = (function (Pipe$$1) {\n  function ZipSink (f, buffers, sinks, sink) {\n    Pipe$$1.call(this, sink);\n    this.f = f;\n    this.sinks = sinks;\n    this.buffers = buffers;\n  }\n\n  if ( Pipe$$1 ) ZipSink.__proto__ = Pipe$$1;\n  ZipSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  ZipSink.prototype.constructor = ZipSink;\n\n  ZipSink.prototype.event = function event (t, indexedValue) {\n    /* eslint complexity: [1, 5] */\n    if (!indexedValue.active) {\n      this._dispose(t, indexedValue.index);\n      return\n    }\n\n    var buffers = this.buffers;\n    var buffer = buffers[indexedValue.index];\n\n    buffer.push(indexedValue.value);\n\n    if (buffer.length() === 1) {\n      if (!ready(this.buffers)) {\n        return\n      }\n\n      emitZipped(this.f, t, buffers, this.sink);\n\n      if (ended(this.buffers, this.sinks)) {\n        this.sink.end(t);\n      }\n    }\n  };\n\n  ZipSink.prototype._dispose = function _dispose (t, index) {\n    var buffer = this.buffers[index];\n    if (buffer.isEmpty()) {\n      this.sink.end(t);\n    }\n  };\n\n  return ZipSink;\n}(Pipe));\n\nvar emitZipped = function (f, t, buffers, sink) { return sink.event(t, invoke(f, map(head, buffers))); };\n\nvar head = function (buffer) { return buffer.shift(); };\n\nfunction ended (buffers, sinks) {\n  for (var i = 0, l = buffers.length; i < l; ++i) {\n    if (buffers[i].isEmpty() && !sinks[i].active) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction ready (buffers) {\n  for (var i = 0, l = buffers.length; i < l; ++i) {\n    if (buffers[i].isEmpty()) {\n      return false\n    }\n  }\n  return true\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Given a stream of streams, return a new stream that adopts the behavior\n * of the most recent inner stream.\n * @param {Stream} stream of streams on which to switch\n * @returns {Stream} switching stream\n */\nvar switchLatest = function (stream) { return new Switch(stream); };\n\nvar Switch = function Switch (source) {\n  this.source = source;\n};\n\nSwitch.prototype.run = function run (sink, scheduler) {\n  var switchSink = new SwitchSink(sink, scheduler);\n  return disposeBoth(switchSink, this.source.run(switchSink, scheduler))\n};\n\nvar SwitchSink = function SwitchSink (sink, scheduler) {\n  this.sink = sink;\n  this.scheduler = scheduler;\n  this.current = null;\n  this.ended = false;\n};\n\nSwitchSink.prototype.event = function event (t, stream) {\n  this._disposeCurrent(t);\n  this.current = new Segment(stream, t, Infinity, this, this.sink, this.scheduler);\n};\n\nSwitchSink.prototype.end = function end (t) {\n  this.ended = true;\n  this._checkEnd(t);\n};\n\nSwitchSink.prototype.error = function error (t, e) {\n  this.ended = true;\n  this.sink.error(t, e);\n};\n\nSwitchSink.prototype.dispose = function dispose () {\n  return this._disposeCurrent(currentTime(this.scheduler))\n};\n\nSwitchSink.prototype._disposeCurrent = function _disposeCurrent (t) {\n  if (this.current !== null) {\n    return this.current._dispose(t)\n  }\n};\n\nSwitchSink.prototype._disposeInner = function _disposeInner (t, inner) {\n  inner._dispose(t);\n  if (inner === this.current) {\n    this.current = null;\n  }\n};\n\nSwitchSink.prototype._checkEnd = function _checkEnd (t) {\n  if (this.ended && this.current === null) {\n    this.sink.end(t);\n  }\n};\n\nSwitchSink.prototype._endInner = function _endInner (t, inner) {\n  this._disposeInner(t, inner);\n  this._checkEnd(t);\n};\n\nSwitchSink.prototype._errorInner = function _errorInner (t, e, inner) {\n  this._disposeInner(t, inner);\n  this.sink.error(t, e);\n};\n\nvar Segment = function Segment (source, min, max, outer, sink, scheduler) {\n  this.min = min;\n  this.max = max;\n  this.outer = outer;\n  this.sink = sink;\n  this.disposable = source.run(this, schedulerRelativeTo(min, scheduler));\n};\n\nSegment.prototype.event = function event (t, x) {\n  var time = Math.max(0, t + this.min);\n  if (time < this.max) {\n    this.sink.event(time, x);\n  }\n};\n\nSegment.prototype.end = function end (t) {\n  this.outer._endInner(t + this.min, this);\n};\n\nSegment.prototype.error = function error (t, e) {\n  this.outer._errorInner(t + this.min, e, this);\n};\n\nSegment.prototype._dispose = function _dispose (t) {\n  tryDispose(t + this.min, this.disposable, this.sink);\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Retain only items matching a predicate\n * @param {function(x:*):boolean} p filtering predicate called for each item\n * @param {Stream} stream stream to filter\n * @returns {Stream} stream containing only items for which predicate returns truthy\n */\nvar filter$1 = function (p, stream) { return Filter.create(p, stream); };\n\n/**\n * Skip repeated events, using === to detect duplicates\n * @param {Stream} stream stream from which to omit repeated events\n * @returns {Stream} stream without repeated events\n */\nvar skipRepeats = function (stream) { return skipRepeatsWith$1(same, stream); };\n\n/**\n * Skip repeated events using the provided equals function to detect duplicates\n * @param {function(a:*, b:*):boolean} equals optional function to compare items\n * @param {Stream} stream stream from which to omit repeated events\n * @returns {Stream} stream without repeated events\n */\nvar skipRepeatsWith$1 = function (equals, stream) { return new SkipRepeats(equals, stream); };\n\nvar SkipRepeats = function SkipRepeats (equals, source) {\n  this.equals = equals;\n  this.source = source;\n};\n\nSkipRepeats.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new SkipRepeatsSink(this.equals, sink), scheduler)\n};\n\nvar SkipRepeatsSink = (function (Pipe$$1) {\n  function SkipRepeatsSink (equals, sink) {\n    Pipe$$1.call(this, sink);\n    this.equals = equals;\n    this.value = void 0;\n    this.init = true;\n  }\n\n  if ( Pipe$$1 ) SkipRepeatsSink.__proto__ = Pipe$$1;\n  SkipRepeatsSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SkipRepeatsSink.prototype.constructor = SkipRepeatsSink;\n\n  SkipRepeatsSink.prototype.event = function event (t, x) {\n    if (this.init) {\n      this.init = false;\n      this.value = x;\n      this.sink.event(t, x);\n    } else if (!this.equals(this.value, x)) {\n      this.value = x;\n      this.sink.event(t, x);\n    }\n  };\n\n  return SkipRepeatsSink;\n}(Pipe));\n\nfunction same (a, b) {\n  return a === b\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * @param {number} n\n * @param {Stream} stream\n * @returns {Stream} new stream containing only up to the first n items from stream\n */\nvar take$1 = function (n, stream) { return slice$1(0, n, stream); };\n\n/**\n * @param {number} n\n * @param {Stream} stream\n * @returns {Stream} new stream with the first n items removed\n */\nvar skip$1 = function (n, stream) { return slice$1(n, Infinity, stream); };\n\n/**\n * Slice a stream by index. Negative start/end indexes are not supported\n * @param {number} start\n * @param {number} end\n * @param {Stream} stream\n * @returns {Stream} stream containing items where start <= index < end\n */\nvar slice$1 = function (start, end, stream) { return end <= start ? empty() : sliceSource(start, end, stream); };\n\nvar sliceSource = function (start, end, stream) { return stream instanceof Map ? commuteMapSlice(start, end, stream)\n    : stream instanceof Slice ? fuseSlice(start, end, stream)\n    : new Slice(start, end, stream); };\n\nvar commuteMapSlice = function (start, end, mapStream) { return Map.create(mapStream.f, sliceSource(start, end, mapStream.source)); };\n\nfunction fuseSlice (start, end, sliceStream) {\n  var fusedStart = start + sliceStream.min;\n  var fusedEnd = Math.min(end + sliceStream.min, sliceStream.max);\n  return new Slice(fusedStart, fusedEnd, sliceStream.source)\n}\n\nvar Slice = function Slice (min, max, source) {\n  this.source = source;\n  this.min = min;\n  this.max = max;\n};\n\nSlice.prototype.run = function run (sink, scheduler) {\n  var disposable = new SettableDisposable();\n  var sliceSink = new SliceSink(this.min, this.max - this.min, sink, disposable);\n\n  disposable.setDisposable(this.source.run(sliceSink, scheduler));\n\n  return disposable\n};\n\nvar SliceSink = (function (Pipe$$1) {\n  function SliceSink (skip, take, sink, disposable) {\n    Pipe$$1.call(this, sink);\n    this.skip = skip;\n    this.take = take;\n    this.disposable = disposable;\n  }\n\n  if ( Pipe$$1 ) SliceSink.__proto__ = Pipe$$1;\n  SliceSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SliceSink.prototype.constructor = SliceSink;\n\n  SliceSink.prototype.event = function event (t, x) {\n    /* eslint complexity: [1, 4] */\n    if (this.skip > 0) {\n      this.skip -= 1;\n      return\n    }\n\n    if (this.take === 0) {\n      return\n    }\n\n    this.take -= 1;\n    this.sink.event(t, x);\n    if (this.take === 0) {\n      this.disposable.dispose();\n      this.sink.end(t);\n    }\n  };\n\n  return SliceSink;\n}(Pipe));\n\nvar takeWhile$1 = function (p, stream) { return new TakeWhile(p, stream); };\n\nvar TakeWhile = function TakeWhile (p, source) {\n  this.p = p;\n  this.source = source;\n};\n\nTakeWhile.prototype.run = function run (sink, scheduler) {\n  var disposable = new SettableDisposable();\n  var takeWhileSink = new TakeWhileSink(this.p, sink, disposable);\n\n  disposable.setDisposable(this.source.run(takeWhileSink, scheduler));\n\n  return disposable\n};\n\nvar TakeWhileSink = (function (Pipe$$1) {\n  function TakeWhileSink (p, sink, disposable) {\n    Pipe$$1.call(this, sink);\n    this.p = p;\n    this.active = true;\n    this.disposable = disposable;\n  }\n\n  if ( Pipe$$1 ) TakeWhileSink.__proto__ = Pipe$$1;\n  TakeWhileSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  TakeWhileSink.prototype.constructor = TakeWhileSink;\n\n  TakeWhileSink.prototype.event = function event (t, x) {\n    if (!this.active) {\n      return\n    }\n\n    var p = this.p;\n    this.active = p(x);\n\n    if (this.active) {\n      this.sink.event(t, x);\n    } else {\n      this.disposable.dispose();\n      this.sink.end(t);\n    }\n  };\n\n  return TakeWhileSink;\n}(Pipe));\n\nvar skipWhile$1 = function (p, stream) { return new SkipWhile(p, stream); };\n\nvar SkipWhile = function SkipWhile (p, source) {\n  this.p = p;\n  this.source = source;\n};\n\nSkipWhile.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new SkipWhileSink(this.p, sink), scheduler)\n};\n\nvar SkipWhileSink = (function (Pipe$$1) {\n  function SkipWhileSink (p, sink) {\n    Pipe$$1.call(this, sink);\n    this.p = p;\n    this.skipping = true;\n  }\n\n  if ( Pipe$$1 ) SkipWhileSink.__proto__ = Pipe$$1;\n  SkipWhileSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SkipWhileSink.prototype.constructor = SkipWhileSink;\n\n  SkipWhileSink.prototype.event = function event (t, x) {\n    if (this.skipping) {\n      var p = this.p;\n      this.skipping = p(x);\n      if (this.skipping) {\n        return\n      }\n    }\n\n    this.sink.event(t, x);\n  };\n\n  return SkipWhileSink;\n}(Pipe));\n\nvar skipAfter$1 = function (p, stream) { return new SkipAfter(p, stream); };\n\nvar SkipAfter = function SkipAfter (p, source) {\n  this.p = p;\n  this.source = source;\n};\n\nSkipAfter.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new SkipAfterSink(this.p, sink), scheduler)\n};\n\nvar SkipAfterSink = (function (Pipe$$1) {\n  function SkipAfterSink (p, sink) {\n    Pipe$$1.call(this, sink);\n    this.p = p;\n    this.skipping = false;\n  }\n\n  if ( Pipe$$1 ) SkipAfterSink.__proto__ = Pipe$$1;\n  SkipAfterSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  SkipAfterSink.prototype.constructor = SkipAfterSink;\n\n  SkipAfterSink.prototype.event = function event (t, x) {\n    if (this.skipping) {\n      return\n    }\n\n    var p = this.p;\n    this.skipping = p(x);\n    this.sink.event(t, x);\n\n    if (this.skipping) {\n      this.sink.end(t);\n    }\n  };\n\n  return SkipAfterSink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar until$1 = function (signal, stream) { return new Until(signal, stream); };\n\nvar since$1 = function (signal, stream) { return new Since(signal, stream); };\n\nvar during$1 = function (timeWindow, stream) { return until$1(join(timeWindow), since$1(timeWindow, stream)); };\n\nvar Until = function Until (maxSignal, source) {\n  this.maxSignal = maxSignal;\n  this.source = source;\n};\n\nUntil.prototype.run = function run (sink, scheduler) {\n  var min = new Bound(-Infinity, sink);\n  var max = new UpperBound(this.maxSignal, sink, scheduler);\n  var disposable = this.source.run(new TimeWindowSink(min, max, sink), scheduler);\n\n  return disposeAll([min, max, disposable])\n};\n\nvar Since = function Since (minSignal, source) {\n  this.minSignal = minSignal;\n  this.source = source;\n};\n\nSince.prototype.run = function run (sink, scheduler) {\n  var min = new LowerBound(this.minSignal, sink, scheduler);\n  var max = new Bound(Infinity, sink);\n  var disposable = this.source.run(new TimeWindowSink(min, max, sink), scheduler);\n\n  return disposeAll([min, max, disposable])\n};\n\nvar Bound = (function (Pipe$$1) {\n  function Bound (value, sink) {\n    Pipe$$1.call(this, sink);\n    this.value = value;\n  }\n\n  if ( Pipe$$1 ) Bound.__proto__ = Pipe$$1;\n  Bound.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  Bound.prototype.constructor = Bound;\n\n  Bound.prototype.event = function event () {};\n  Bound.prototype.end = function end () {};\n\n  Bound.prototype.dispose = function dispose () {};\n\n  return Bound;\n}(Pipe));\n\nvar TimeWindowSink = (function (Pipe$$1) {\n  function TimeWindowSink (min, max, sink) {\n    Pipe$$1.call(this, sink);\n    this.min = min;\n    this.max = max;\n  }\n\n  if ( Pipe$$1 ) TimeWindowSink.__proto__ = Pipe$$1;\n  TimeWindowSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  TimeWindowSink.prototype.constructor = TimeWindowSink;\n\n  TimeWindowSink.prototype.event = function event (t, x) {\n    if (t >= this.min.value && t < this.max.value) {\n      this.sink.event(t, x);\n    }\n  };\n\n  return TimeWindowSink;\n}(Pipe));\n\nvar LowerBound = (function (Pipe$$1) {\n  function LowerBound (signal, sink, scheduler) {\n    Pipe$$1.call(this, sink);\n    this.value = Infinity;\n    this.disposable = signal.run(this, scheduler);\n  }\n\n  if ( Pipe$$1 ) LowerBound.__proto__ = Pipe$$1;\n  LowerBound.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  LowerBound.prototype.constructor = LowerBound;\n\n  LowerBound.prototype.event = function event (t /*, x */) {\n    if (t < this.value) {\n      this.value = t;\n    }\n  };\n\n  LowerBound.prototype.end = function end () {};\n\n  LowerBound.prototype.dispose = function dispose () {\n    return this.disposable.dispose()\n  };\n\n  return LowerBound;\n}(Pipe));\n\nvar UpperBound = (function (Pipe$$1) {\n  function UpperBound (signal, sink, scheduler) {\n    Pipe$$1.call(this, sink);\n    this.value = Infinity;\n    this.disposable = signal.run(this, scheduler);\n  }\n\n  if ( Pipe$$1 ) UpperBound.__proto__ = Pipe$$1;\n  UpperBound.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  UpperBound.prototype.constructor = UpperBound;\n\n  UpperBound.prototype.event = function event (t, x) {\n    if (t < this.value) {\n      this.value = t;\n      this.sink.end(t);\n    }\n  };\n\n  UpperBound.prototype.end = function end () {};\n\n  UpperBound.prototype.dispose = function dispose () {\n    return this.disposable.dispose()\n  };\n\n  return UpperBound;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * @param {Number} delayTime milliseconds to delay each item\n * @param {Stream} stream\n * @returns {Stream} new stream containing the same items, but delayed by ms\n */\nvar delay$2 = function (delayTime, stream) { return delayTime <= 0 ? stream : new Delay(delayTime, stream); };\n\nvar Delay = function Delay (dt, source) {\n  this.dt = dt;\n  this.source = source;\n};\n\nDelay.prototype.run = function run (sink, scheduler) {\n  var delaySink = new DelaySink(this.dt, sink, scheduler);\n  return disposeBoth(delaySink, this.source.run(delaySink, scheduler))\n};\n\nvar DelaySink = (function (Pipe$$1) {\n  function DelaySink (dt, sink, scheduler) {\n    Pipe$$1.call(this, sink);\n    this.dt = dt;\n    this.scheduler = scheduler;\n  }\n\n  if ( Pipe$$1 ) DelaySink.__proto__ = Pipe$$1;\n  DelaySink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  DelaySink.prototype.constructor = DelaySink;\n\n  DelaySink.prototype.dispose = function dispose () {\n    var this$1 = this;\n\n    cancelAllTasks(function (task) { return task.sink === this$1.sink; }, this.scheduler);\n  };\n\n  DelaySink.prototype.event = function event (t, x) {\n    delay(this.dt, propagateEventTask$1(x, this.sink), this.scheduler);\n  };\n\n  DelaySink.prototype.end = function end (t) {\n    delay(this.dt, propagateEndTask(this.sink), this.scheduler);\n  };\n\n  return DelaySink;\n}(Pipe));\n\n/** @license MIT License (c) copyright 2010-2017 original author or authors */\n\n/**\n * Limit the rate of events by suppressing events that occur too often\n * @param {Number} period time to suppress events\n * @param {Stream} stream\n * @returns {Stream}\n */\nvar throttle$1 = function (period, stream) { return stream instanceof Map ? commuteMapThrottle(period, stream)\n    : stream instanceof Throttle ? fuseThrottle(period, stream)\n    : new Throttle(period, stream); };\n\nvar commuteMapThrottle = function (period, mapStream) { return Map.create(mapStream.f, throttle$1(period, mapStream.source)); };\n\nvar fuseThrottle = function (period, throttleStream) { return new Throttle(Math.max(period, throttleStream.period), throttleStream.source); };\n\nvar Throttle = function Throttle (period, source) {\n  this.period = period;\n  this.source = source;\n};\n\nThrottle.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new ThrottleSink(this.period, sink), scheduler)\n};\n\nvar ThrottleSink = (function (Pipe$$1) {\n  function ThrottleSink (period, sink) {\n    Pipe$$1.call(this, sink);\n    this.time = 0;\n    this.period = period;\n  }\n\n  if ( Pipe$$1 ) ThrottleSink.__proto__ = Pipe$$1;\n  ThrottleSink.prototype = Object.create( Pipe$$1 && Pipe$$1.prototype );\n  ThrottleSink.prototype.constructor = ThrottleSink;\n\n  ThrottleSink.prototype.event = function event (t, x) {\n    if (t >= this.time) {\n      this.time = t + this.period;\n      this.sink.event(t, x);\n    }\n  };\n\n  return ThrottleSink;\n}(Pipe));\n/**\n * Wait for a burst of events to subside and emit only the last event in the burst\n * @param {Number} period events occuring more frequently than this\n *  will be suppressed\n * @param {Stream} stream stream to debounce\n * @returns {Stream} new debounced stream\n */\nvar debounce$1 = function (period, stream) { return new Debounce(period, stream); };\n\nvar Debounce = function Debounce (dt, source) {\n  this.dt = dt;\n  this.source = source;\n};\n\nDebounce.prototype.run = function run (sink, scheduler) {\n  return new DebounceSink(this.dt, this.source, sink, scheduler)\n};\n\nvar DebounceSink = function DebounceSink (dt, source, sink, scheduler) {\n  this.dt = dt;\n  this.sink = sink;\n  this.scheduler = scheduler;\n  this.value = void 0;\n  this.timer = null;\n\n  this.disposable = source.run(this, scheduler);\n};\n\nDebounceSink.prototype.event = function event (t, x) {\n  this._clearTimer();\n  this.value = x;\n  this.timer = delay(this.dt, propagateEventTask$1(x, this.sink), this.scheduler);\n};\n\nDebounceSink.prototype.end = function end (t) {\n  if (this._clearTimer()) {\n    this.sink.event(t, this.value);\n    this.value = undefined;\n  }\n  this.sink.end(t);\n};\n\nDebounceSink.prototype.error = function error (t, x) {\n  this._clearTimer();\n  this.sink.error(t, x);\n};\n\nDebounceSink.prototype.dispose = function dispose () {\n  this._clearTimer();\n  this.disposable.dispose();\n};\n\nDebounceSink.prototype._clearTimer = function _clearTimer () {\n  if (this.timer === null) {\n    return false\n  }\n  this.timer.dispose();\n  this.timer = null;\n  return true\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * Turn a Stream<Promise<T>> into Stream<T> by awaiting each promise.\n * Event order is preserved. The stream will fail if any promise rejects.\n */\nvar awaitPromises = function (stream) { return new Await(stream); };\n\n/**\n * Create a stream containing only the promise's fulfillment\n * value at the time it fulfills.\n * @param {Promise<T>} p promise\n * @return {Stream<T>} stream containing promise's fulfillment value.\n *  If the promise rejects, the stream will error\n */\nvar fromPromise = compose(awaitPromises, now);\n\nvar Await = function Await (source) {\n  this.source = source;\n};\n\nAwait.prototype.run = function run (sink, scheduler) {\n  return this.source.run(new AwaitSink(sink, scheduler), scheduler)\n};\n\nvar AwaitSink = function AwaitSink (sink, scheduler) {\n  var this$1 = this;\n\n  this.sink = sink;\n  this.scheduler = scheduler;\n  this.queue = Promise.resolve();\n\n  // Pre-create closures, to avoid creating them per event\n  this._eventBound = function (x) { return this$1.sink.event(currentTime(this$1.scheduler), x); };\n  this._endBound = function () { return this$1.sink.end(currentTime(this$1.scheduler)); };\n  this._errorBound = function (e) { return this$1.sink.error(currentTime(this$1.scheduler), e); };\n};\n\nAwaitSink.prototype.event = function event (t, promise) {\n    var this$1 = this;\n\n  this.queue = this.queue.then(function () { return this$1._event(promise); })\n    .catch(this._errorBound);\n};\n\nAwaitSink.prototype.end = function end (t) {\n  this.queue = this.queue.then(this._endBound)\n    .catch(this._errorBound);\n};\n\nAwaitSink.prototype.error = function error (t, e) {\n    var this$1 = this;\n\n  // Don't resolve error values, propagate directly\n  this.queue = this.queue.then(function () { return this$1._errorBound(e); })\n    .catch(fatalError);\n};\n\nAwaitSink.prototype._event = function _event (promise) {\n  return promise.then(this._eventBound)\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nvar SafeSink = function SafeSink (sink) {\n  this.sink = sink;\n  this.active = true;\n};\n\nSafeSink.prototype.event = function event (t, x) {\n  if (!this.active) {\n    return\n  }\n  this.sink.event(t, x);\n};\n\nSafeSink.prototype.end = function end (t, x) {\n  if (!this.active) {\n    return\n  }\n  this.disable();\n  this.sink.end(t, x);\n};\n\nSafeSink.prototype.error = function error (t, e) {\n  this.disable();\n  this.sink.error(t, e);\n};\n\nSafeSink.prototype.disable = function disable () {\n  this.active = false;\n  return this.sink\n};\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\nfunction tryEvent (t, x, sink) {\n  try {\n    sink.event(t, x);\n  } catch (e) {\n    sink.error(t, e);\n  }\n}\n\nfunction tryEnd (t, sink) {\n  try {\n    sink.end(t);\n  } catch (e) {\n    sink.error(t, e);\n  }\n}\n\n/** @license MIT License (c) copyright 2010-2016 original author or authors */\n/** @author Brian Cavalier */\n/** @author John Hann */\n\n/**\n * If stream encounters an error, recover and continue with items from stream\n * returned by f.\n * @param {function(error:*):Stream} f function which returns a new stream\n * @param {Stream} stream\n * @returns {Stream} new stream which will recover from an error by calling f\n */\nvar recoverWith$1 = function (f, stream) { return new RecoverWith(f, stream); };\n\n/**\n * Create a stream containing only an error\n * @param {*} e error value, preferably an Error or Error subtype\n * @returns {Stream} new stream containing only an error\n */\nvar throwError = function (e) { return new ErrorStream(e); };\n\nvar ErrorStream = function ErrorStream (e) {\n  this.value = e;\n};\n\nErrorStream.prototype.run = function run (sink, scheduler) {\n  return asap(propagateErrorTask$1(this.value, sink), scheduler)\n};\n\nvar RecoverWith = function RecoverWith (f, source) {\n  this.f = f;\n  this.source = source;\n};\n\nRecoverWith.prototype.run = function run (sink, scheduler) {\n  return new RecoverWithSink(this.f, this.source, sink, scheduler)\n};\n\nvar RecoverWithSink = function RecoverWithSink (f, source, sink, scheduler) {\n  this.f = f;\n  this.sink = new SafeSink(sink);\n  this.scheduler = scheduler;\n  this.disposable = source.run(this, scheduler);\n};\n\nRecoverWithSink.prototype.event = function event (t, x) {\n  tryEvent(t, x, this.sink);\n};\n\nRecoverWithSink.prototype.end = function end (t) {\n  tryEnd(t, this.sink);\n};\n\nRecoverWithSink.prototype.error = function error (t, e) {\n  var nextSink = this.sink.disable();\n\n  tryDispose(t, this.disposable, this.sink);\n\n  this._startNext(t, e, nextSink);\n};\n\nRecoverWithSink.prototype._startNext = function _startNext (t, x, sink) {\n  try {\n    this.disposable = this._continue(this.f, t, x, sink);\n  } catch (e) {\n    sink.error(t, e);\n  }\n};\n\nRecoverWithSink.prototype._continue = function _continue (f, t, x, sink) {\n  return run$1(sink, this.scheduler, withLocalTime$1(t, f(x)))\n};\n\nRecoverWithSink.prototype.dispose = function dispose () {\n  return this.disposable.dispose()\n};\n\nvar multicast = function (stream) { return stream instanceof Multicast ? stream : new Multicast(stream); };\n\nvar Multicast = function Multicast (source) {\n  this.source = new MulticastSource(source);\n};\nMulticast.prototype.run = function run (sink, scheduler) {\n  return this.source.run(sink, scheduler)\n};\n\nvar MulticastSource = function MulticastSource (source) {\n  this.source = source;\n  this.sinks = [];\n  this.disposable = disposeNone();\n};\n\nMulticastSource.prototype.run = function run (sink, scheduler) {\n  var n = this.add(sink);\n  if (n === 1) {\n    this.disposable = this.source.run(this, scheduler);\n  }\n  return disposeOnce(new MulticastDisposable(this, sink))\n};\n\nMulticastSource.prototype.dispose = function dispose () {\n  var disposable = this.disposable;\n  this.disposable = disposeNone();\n  return disposable.dispose()\n};\n\nMulticastSource.prototype.add = function add (sink) {\n  this.sinks = append(sink, this.sinks);\n  return this.sinks.length\n};\n\nMulticastSource.prototype.remove = function remove$1 (sink) {\n  var i = findIndex(sink, this.sinks);\n  // istanbul ignore next\n  if (i >= 0) {\n    this.sinks = remove(i, this.sinks);\n  }\n\n  return this.sinks.length\n};\n\nMulticastSource.prototype.event = function event (time, value) {\n  var s = this.sinks;\n  if (s.length === 1) {\n    return s[0].event(time, value)\n  }\n  for (var i = 0; i < s.length; ++i) {\n    tryEvent(time, value, s[i]);\n  }\n};\n\nMulticastSource.prototype.end = function end (time) {\n  var s = this.sinks;\n  for (var i = 0; i < s.length; ++i) {\n    tryEnd(time, s[i]);\n  }\n};\n\nMulticastSource.prototype.error = function error (time, err) {\n  var s = this.sinks;\n  for (var i = 0; i < s.length; ++i) {\n    s[i].error(time, err);\n  }\n};\n\nvar MulticastDisposable = function MulticastDisposable (source, sink) {\n  this.source = source;\n  this.sink = sink;\n};\n\nMulticastDisposable.prototype.dispose = function dispose () {\n  if (this.source.remove(this.sink) === 0) {\n    this.source.dispose();\n  }\n};\n\n/** @license MIT License (c) copyright 2016 original author or authors */\n/* eslint-disable import/first */\nvar zipArrayValues = curry3(zipArrayValues$1);\nvar withArrayValues = curry2(withArrayValues$1);\n\n// -----------------------------------------------------------------------\n// Observing\n\nvar runEffects = curry2(runEffects$1);\nvar run = curry3(run$1);\n\n// -------------------------------------------------------\n\nvar withLocalTime = curry2(withLocalTime$1);\n\n// -------------------------------------------------------\n\nvar loop = curry3(loop$1);\n\n// -------------------------------------------------------\n\nvar scan = curry3(scan$1);\n\n// -----------------------------------------------------------------------\n// Extending\n\nvar startWith = curry2(startWith$1);\n\n// -----------------------------------------------------------------------\n// Transforming\n\nvar map$1 = curry2(map$2);\nvar constant = curry2(constant$1);\nvar tap = curry2(tap$1);\nvar ap = curry2(ap$1);\n\n// -----------------------------------------------------------------------\n// FlatMapping\n\nvar chain = curry2(chain$1);\nvar continueWith = curry2(continueWith$1);\n\nvar concatMap = curry2(concatMap$1);\n\n// -----------------------------------------------------------------------\n// Concurrent merging\n\nvar mergeConcurrently = curry2(mergeConcurrently$1);\nvar mergeMapConcurrently = curry3(mergeMapConcurrently$1);\n\n// -----------------------------------------------------------------------\n// Merging\n\nvar merge = curry2(merge$1);\n// -----------------------------------------------------------------------\n// Combining\n\nvar combine = curry3(combine$1);\nvar combineArray = curry2(combineArray$1);\n\n// -----------------------------------------------------------------------\n// Sampling\n\nvar sample = curry3(sample$1);\n\n// -----------------------------------------------------------------------\n// Zipping\n\nvar zip = curry3(zip$1);\nvar zipArray = curry2(zipArray$1);\n\n// -----------------------------------------------------------------------\n// Filtering\n\nvar filter = curry2(filter$1);\nvar skipRepeatsWith = curry2(skipRepeatsWith$1);\n\n// -----------------------------------------------------------------------\n// Slicing\n\nvar take = curry2(take$1);\nvar skip = curry2(skip$1);\nvar slice = curry3(slice$1);\nvar takeWhile = curry2(takeWhile$1);\nvar skipWhile = curry2(skipWhile$1);\nvar skipAfter = curry2(skipAfter$1);\n\n// -----------------------------------------------------------------------\n// Time slicing\n\nvar until = curry2(until$1);\nvar since = curry2(since$1);\nvar during = curry2(during$1);\n\n// -----------------------------------------------------------------------\n// Delaying\n\nvar delay$1 = curry2(delay$2);\n\n// -----------------------------------------------------------------------\n// Rate limiting\n\nvar throttle = curry2(throttle$1);\nvar debounce = curry2(debounce$1);\n\n// -----------------------------------------------------------------------\n// Error handling\n\nvar recoverWith = curry2(recoverWith$1);\n// ----------------------------------------------------------------------\nvar propagateTask = curry3(propagateTask$1);\nvar propagateEventTask = curry2(propagateEventTask$1);\nvar propagateErrorTask = curry2(propagateErrorTask$1);\n\nexport { zipArrayValues, withArrayValues, runEffects, run, withLocalTime, loop, scan, startWith, map$1 as map, constant, tap, ap, chain, join, continueWith, concatMap, mergeConcurrently, mergeMapConcurrently, merge, mergeArray, combine, combineArray, sample, zip, zipArray, filter, skipRepeats, skipRepeatsWith, take, skip, slice, takeWhile, skipWhile, skipAfter, until, since, during, delay$1 as delay, throttle, debounce, recoverWith, throwError, propagateTask, propagateEventTask, propagateErrorTask, propagateEndTask, empty, never, now, at, periodic$1 as periodic, newStream, switchLatest, fromPromise, awaitPromises, multicast, MulticastSource };\n//# sourceMappingURL=mostCore.es.js.map\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { MulticastSource, never } from '@most/core';\nvar ProxyStream = /** @class */ (function (_super) {\n    __extends(ProxyStream, _super);\n    function ProxyStream() {\n        var _this = _super.call(this, never()) || this;\n        _this.attached = false;\n        _this.running = false;\n        return _this;\n    }\n    ProxyStream.prototype.run = function (sink, scheduler) {\n        this.scheduler = scheduler;\n        this.add(sink);\n        var shouldRun = this.attached && !this.running;\n        if (shouldRun) {\n            this.running = true;\n            this.disposable = this.source.run(this, scheduler);\n            return this.disposable;\n        }\n        return new ProxyDisposable(this, sink);\n    };\n    ProxyStream.prototype.attach = function (stream) {\n        if (this.attached)\n            throw new Error('Can only attach 1 stream');\n        this.attached = true;\n        this.source = stream;\n        var hasMoreSinks = this.sinks.length > 0;\n        if (hasMoreSinks)\n            this.disposable = stream.run(this, this.scheduler);\n        return stream;\n    };\n    ProxyStream.prototype.error = function (time, error) {\n        this.cleanup();\n        _super.prototype.error.call(this, time, error);\n    };\n    ProxyStream.prototype.end = function (time) {\n        this.cleanup();\n        _super.prototype.end.call(this, time);\n    };\n    ProxyStream.prototype.cleanup = function () {\n        this.attached = false;\n        this.running = false;\n    };\n    return ProxyStream;\n}(MulticastSource));\nexport { ProxyStream };\nvar ProxyDisposable = /** @class */ (function () {\n    function ProxyDisposable(source, sink) {\n        this.source = source;\n        this.sink = sink;\n        this.disposed = false;\n    }\n    ProxyDisposable.prototype.dispose = function () {\n        if (this.disposed)\n            return;\n        var _a = this, source = _a.source, sink = _a.sink;\n        this.disposed = true;\n        var remainingSinks = source.remove(sink);\n        var hasNoMoreSinks = remainingSinks === 0;\n        return hasNoMoreSinks && source.dispose();\n    };\n    return ProxyDisposable;\n}());\n//# sourceMappingURL=ProxyStream.js.map","import { ProxyStream } from './ProxyStream';\nimport { id } from '@most/prelude';\nexport function create(f) {\n    if (f === void 0) { f = id; }\n    var source = new ProxyStream();\n    return [source, f(source)];\n}\n//# sourceMappingURL=create.js.map","import { curry2 } from '@most/prelude';\nexport var end = curry2(__end);\nfunction __end(time, sink) {\n    sink.end(time);\n}\n//# sourceMappingURL=end.js.map","import { curry3 } from '@most/prelude';\nexport var error = curry3(__error);\nfunction __error(time, error, sink) {\n    sink.error(time, error);\n}\n//# sourceMappingURL=error.js.map","import { curry3 } from '@most/prelude';\nexport var event = curry3(__event);\nfunction __event(time, value, sink) {\n    sink.event(time, value);\n}\n//# sourceMappingURL=event.js.map","'use strict';\n\nvar ensureCallable = function (fn) {\n\tif (typeof fn !== 'function') throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\nvar byObserver = function (Observer) {\n\tvar node = document.createTextNode(''), queue, currentQueue, i = 0;\n\tnew Observer(function () {\n\t\tvar callback;\n\t\tif (!queue) {\n\t\t\tif (!currentQueue) return;\n\t\t\tqueue = currentQueue;\n\t\t} else if (currentQueue) {\n\t\t\tqueue = currentQueue.concat(queue);\n\t\t}\n\t\tcurrentQueue = queue;\n\t\tqueue = null;\n\t\tif (typeof currentQueue === 'function') {\n\t\t\tcallback = currentQueue;\n\t\t\tcurrentQueue = null;\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tnode.data = (i = ++i % 2); // Invoke other batch, to handle leftover callbacks in case of crash\n\t\twhile (currentQueue) {\n\t\t\tcallback = currentQueue.shift();\n\t\t\tif (!currentQueue.length) currentQueue = null;\n\t\t\tcallback();\n\t\t}\n\t}).observe(node, { characterData: true });\n\treturn function (fn) {\n\t\tensureCallable(fn);\n\t\tif (queue) {\n\t\t\tif (typeof queue === 'function') queue = [queue, fn];\n\t\t\telse queue.push(fn);\n\t\t\treturn;\n\t\t}\n\t\tqueue = fn;\n\t\tnode.data = (i = ++i % 2);\n\t};\n};\n\nmodule.exports = (function () {\n\t// Node.js\n\tif ((typeof process === 'object') && process && (typeof process.nextTick === 'function')) {\n\t\treturn process.nextTick;\n\t}\n\n\t// queueMicrotask\n\tif (typeof queueMicrotask === \"function\") {\n\t\treturn function (cb) { queueMicrotask(ensureCallable(cb)); };\n\t}\n\n\t// MutationObserver\n\tif ((typeof document === 'object') && document) {\n\t\tif (typeof MutationObserver === 'function') return byObserver(MutationObserver);\n\t\tif (typeof WebKitMutationObserver === 'function') return byObserver(WebKitMutationObserver);\n\t}\n\n\t// W3C Draft\n\t// http://dvcs.w3.org/hg/webperf/raw-file/tip/specs/setImmediate/Overview.html\n\tif (typeof setImmediate === 'function') {\n\t\treturn function (cb) { setImmediate(ensureCallable(cb)); };\n\t}\n\n\t// Wide available standard\n\tif ((typeof setTimeout === 'function') || (typeof setTimeout === 'object')) {\n\t\treturn function (cb) { setTimeout(ensureCallable(cb), 0); };\n\t}\n\n\treturn null;\n}());\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","var createElement = require(\"./vdom/create-element.js\")\n\nmodule.exports = createElement\n","var diff = require(\"./vtree/diff.js\")\n\nmodule.exports = diff\n","var h = require(\"./virtual-hyperscript/index.js\")\n\nmodule.exports = h\n","var diff = require(\"./diff.js\")\r\nvar patch = require(\"./patch.js\")\r\nvar h = require(\"./h.js\")\r\nvar create = require(\"./create-element.js\")\r\nvar VNode = require('./vnode/vnode.js')\r\nvar VText = require('./vnode/vtext.js')\r\n\r\nmodule.exports = {\r\n    diff: diff,\r\n    patch: patch,\r\n    h: h,\r\n    create: create,\r\n    VNode: VNode,\r\n    VText: VText\r\n}\r\n","var patch = require(\"./vdom/patch.js\")\n\nmodule.exports = patch\n","var isObject = require(\"is-object\")\nvar isHook = require(\"../vnode/is-vhook.js\")\n\nmodule.exports = applyProperties\n\nfunction applyProperties(node, props, previous) {\n    for (var propName in props) {\n        var propValue = props[propName]\n\n        if (propValue === undefined) {\n            removeProperty(node, propName, propValue, previous);\n        } else if (isHook(propValue)) {\n            removeProperty(node, propName, propValue, previous)\n            if (propValue.hook) {\n                propValue.hook(node,\n                    propName,\n                    previous ? previous[propName] : undefined)\n            }\n        } else {\n            if (isObject(propValue)) {\n                patchObject(node, props, previous, propName, propValue);\n            } else {\n                node[propName] = propValue\n            }\n        }\n    }\n}\n\nfunction removeProperty(node, propName, propValue, previous) {\n    if (previous) {\n        var previousValue = previous[propName]\n\n        if (!isHook(previousValue)) {\n            if (propName === \"attributes\") {\n                for (var attrName in previousValue) {\n                    node.removeAttribute(attrName)\n                }\n            } else if (propName === \"style\") {\n                for (var i in previousValue) {\n                    node.style[i] = \"\"\n                }\n            } else if (typeof previousValue === \"string\") {\n                node[propName] = \"\"\n            } else {\n                node[propName] = null\n            }\n        } else if (previousValue.unhook) {\n            previousValue.unhook(node, propName, propValue)\n        }\n    }\n}\n\nfunction patchObject(node, props, previous, propName, propValue) {\n    var previousValue = previous ? previous[propName] : undefined\n\n    // Set attributes\n    if (propName === \"attributes\") {\n        for (var attrName in propValue) {\n            var attrValue = propValue[attrName]\n\n            if (attrValue === undefined) {\n                node.removeAttribute(attrName)\n            } else {\n                node.setAttribute(attrName, attrValue)\n            }\n        }\n\n        return\n    }\n\n    if(previousValue && isObject(previousValue) &&\n        getPrototype(previousValue) !== getPrototype(propValue)) {\n        node[propName] = propValue\n        return\n    }\n\n    if (!isObject(node[propName])) {\n        node[propName] = {}\n    }\n\n    var replacer = propName === \"style\" ? \"\" : undefined\n\n    for (var k in propValue) {\n        var value = propValue[k]\n        node[propName][k] = (value === undefined) ? replacer : value\n    }\n}\n\nfunction getPrototype(value) {\n    if (Object.getPrototypeOf) {\n        return Object.getPrototypeOf(value)\n    } else if (value.__proto__) {\n        return value.__proto__\n    } else if (value.constructor) {\n        return value.constructor.prototype\n    }\n}\n","var document = require(\"global/document\")\n\nvar applyProperties = require(\"./apply-properties\")\n\nvar isVNode = require(\"../vnode/is-vnode.js\")\nvar isVText = require(\"../vnode/is-vtext.js\")\nvar isWidget = require(\"../vnode/is-widget.js\")\nvar handleThunk = require(\"../vnode/handle-thunk.js\")\n\nmodule.exports = createElement\n\nfunction createElement(vnode, opts) {\n    var doc = opts ? opts.document || document : document\n    var warn = opts ? opts.warn : null\n\n    vnode = handleThunk(vnode).a\n\n    if (isWidget(vnode)) {\n        return vnode.init()\n    } else if (isVText(vnode)) {\n        return doc.createTextNode(vnode.text)\n    } else if (!isVNode(vnode)) {\n        if (warn) {\n            warn(\"Item is not a valid virtual dom node\", vnode)\n        }\n        return null\n    }\n\n    var node = (vnode.namespace === null) ?\n        doc.createElement(vnode.tagName) :\n        doc.createElementNS(vnode.namespace, vnode.tagName)\n\n    var props = vnode.properties\n    applyProperties(node, props)\n\n    var children = vnode.children\n\n    for (var i = 0; i < children.length; i++) {\n        var childNode = createElement(children[i], opts)\n        if (childNode) {\n            node.appendChild(childNode)\n        }\n    }\n\n    return node\n}\n","// Maps a virtual DOM tree onto a real DOM tree in an efficient manner.\n// We don't want to read all of the DOM nodes in the tree so we use\n// the in-order tree indexing to eliminate recursion down certain branches.\n// We only recurse into a DOM node if we know that it contains a child of\n// interest.\n\nvar noChild = {}\n\nmodule.exports = domIndex\n\nfunction domIndex(rootNode, tree, indices, nodes) {\n    if (!indices || indices.length === 0) {\n        return {}\n    } else {\n        indices.sort(ascending)\n        return recurse(rootNode, tree, indices, nodes, 0)\n    }\n}\n\nfunction recurse(rootNode, tree, indices, nodes, rootIndex) {\n    nodes = nodes || {}\n\n\n    if (rootNode) {\n        if (indexInRange(indices, rootIndex, rootIndex)) {\n            nodes[rootIndex] = rootNode\n        }\n\n        var vChildren = tree.children\n\n        if (vChildren) {\n\n            var childNodes = rootNode.childNodes\n\n            for (var i = 0; i < tree.children.length; i++) {\n                rootIndex += 1\n\n                var vChild = vChildren[i] || noChild\n                var nextIndex = rootIndex + (vChild.count || 0)\n\n                // skip recursion down the tree if there are no nodes down here\n                if (indexInRange(indices, rootIndex, nextIndex)) {\n                    recurse(childNodes[i], vChild, indices, nodes, rootIndex)\n                }\n\n                rootIndex = nextIndex\n            }\n        }\n    }\n\n    return nodes\n}\n\n// Binary search for an index in the interval [left, right]\nfunction indexInRange(indices, left, right) {\n    if (indices.length === 0) {\n        return false\n    }\n\n    var minIndex = 0\n    var maxIndex = indices.length - 1\n    var currentIndex\n    var currentItem\n\n    while (minIndex <= maxIndex) {\n        currentIndex = ((maxIndex + minIndex) / 2) >> 0\n        currentItem = indices[currentIndex]\n\n        if (minIndex === maxIndex) {\n            return currentItem >= left && currentItem <= right\n        } else if (currentItem < left) {\n            minIndex = currentIndex + 1\n        } else  if (currentItem > right) {\n            maxIndex = currentIndex - 1\n        } else {\n            return true\n        }\n    }\n\n    return false;\n}\n\nfunction ascending(a, b) {\n    return a > b ? 1 : -1\n}\n","var applyProperties = require(\"./apply-properties\")\n\nvar isWidget = require(\"../vnode/is-widget.js\")\nvar VPatch = require(\"../vnode/vpatch.js\")\n\nvar updateWidget = require(\"./update-widget\")\n\nmodule.exports = applyPatch\n\nfunction applyPatch(vpatch, domNode, renderOptions) {\n    var type = vpatch.type\n    var vNode = vpatch.vNode\n    var patch = vpatch.patch\n\n    switch (type) {\n        case VPatch.REMOVE:\n            return removeNode(domNode, vNode)\n        case VPatch.INSERT:\n            return insertNode(domNode, patch, renderOptions)\n        case VPatch.VTEXT:\n            return stringPatch(domNode, vNode, patch, renderOptions)\n        case VPatch.WIDGET:\n            return widgetPatch(domNode, vNode, patch, renderOptions)\n        case VPatch.VNODE:\n            return vNodePatch(domNode, vNode, patch, renderOptions)\n        case VPatch.ORDER:\n            reorderChildren(domNode, patch)\n            return domNode\n        case VPatch.PROPS:\n            applyProperties(domNode, patch, vNode.properties)\n            return domNode\n        case VPatch.THUNK:\n            return replaceRoot(domNode,\n                renderOptions.patch(domNode, patch, renderOptions))\n        default:\n            return domNode\n    }\n}\n\nfunction removeNode(domNode, vNode) {\n    var parentNode = domNode.parentNode\n\n    if (parentNode) {\n        parentNode.removeChild(domNode)\n    }\n\n    destroyWidget(domNode, vNode);\n\n    return null\n}\n\nfunction insertNode(parentNode, vNode, renderOptions) {\n    var newNode = renderOptions.render(vNode, renderOptions)\n\n    if (parentNode) {\n        parentNode.appendChild(newNode)\n    }\n\n    return parentNode\n}\n\nfunction stringPatch(domNode, leftVNode, vText, renderOptions) {\n    var newNode\n\n    if (domNode.nodeType === 3) {\n        domNode.replaceData(0, domNode.length, vText.text)\n        newNode = domNode\n    } else {\n        var parentNode = domNode.parentNode\n        newNode = renderOptions.render(vText, renderOptions)\n\n        if (parentNode && newNode !== domNode) {\n            parentNode.replaceChild(newNode, domNode)\n        }\n    }\n\n    return newNode\n}\n\nfunction widgetPatch(domNode, leftVNode, widget, renderOptions) {\n    var updating = updateWidget(leftVNode, widget)\n    var newNode\n\n    if (updating) {\n        newNode = widget.update(leftVNode, domNode) || domNode\n    } else {\n        newNode = renderOptions.render(widget, renderOptions)\n    }\n\n    var parentNode = domNode.parentNode\n\n    if (parentNode && newNode !== domNode) {\n        parentNode.replaceChild(newNode, domNode)\n    }\n\n    if (!updating) {\n        destroyWidget(domNode, leftVNode)\n    }\n\n    return newNode\n}\n\nfunction vNodePatch(domNode, leftVNode, vNode, renderOptions) {\n    var parentNode = domNode.parentNode\n    var newNode = renderOptions.render(vNode, renderOptions)\n\n    if (parentNode && newNode !== domNode) {\n        parentNode.replaceChild(newNode, domNode)\n    }\n\n    return newNode\n}\n\nfunction destroyWidget(domNode, w) {\n    if (typeof w.destroy === \"function\" && isWidget(w)) {\n        w.destroy(domNode)\n    }\n}\n\nfunction reorderChildren(domNode, moves) {\n    var childNodes = domNode.childNodes\n    var keyMap = {}\n    var node\n    var remove\n    var insert\n\n    for (var i = 0; i < moves.removes.length; i++) {\n        remove = moves.removes[i]\n        node = childNodes[remove.from]\n        if (remove.key) {\n            keyMap[remove.key] = node\n        }\n        domNode.removeChild(node)\n    }\n\n    var length = childNodes.length\n    for (var j = 0; j < moves.inserts.length; j++) {\n        insert = moves.inserts[j]\n        node = keyMap[insert.key]\n        // this is the weirdest bug i've ever seen in webkit\n        domNode.insertBefore(node, insert.to >= length++ ? null : childNodes[insert.to])\n    }\n}\n\nfunction replaceRoot(oldRoot, newRoot) {\n    if (oldRoot && newRoot && oldRoot !== newRoot && oldRoot.parentNode) {\n        oldRoot.parentNode.replaceChild(newRoot, oldRoot)\n    }\n\n    return newRoot;\n}\n","var document = require(\"global/document\")\nvar isArray = require(\"x-is-array\")\n\nvar render = require(\"./create-element\")\nvar domIndex = require(\"./dom-index\")\nvar patchOp = require(\"./patch-op\")\nmodule.exports = patch\n\nfunction patch(rootNode, patches, renderOptions) {\n    renderOptions = renderOptions || {}\n    renderOptions.patch = renderOptions.patch && renderOptions.patch !== patch\n        ? renderOptions.patch\n        : patchRecursive\n    renderOptions.render = renderOptions.render || render\n\n    return renderOptions.patch(rootNode, patches, renderOptions)\n}\n\nfunction patchRecursive(rootNode, patches, renderOptions) {\n    var indices = patchIndices(patches)\n\n    if (indices.length === 0) {\n        return rootNode\n    }\n\n    var index = domIndex(rootNode, patches.a, indices)\n    var ownerDocument = rootNode.ownerDocument\n\n    if (!renderOptions.document && ownerDocument !== document) {\n        renderOptions.document = ownerDocument\n    }\n\n    for (var i = 0; i < indices.length; i++) {\n        var nodeIndex = indices[i]\n        rootNode = applyPatch(rootNode,\n            index[nodeIndex],\n            patches[nodeIndex],\n            renderOptions)\n    }\n\n    return rootNode\n}\n\nfunction applyPatch(rootNode, domNode, patchList, renderOptions) {\n    if (!domNode) {\n        return rootNode\n    }\n\n    var newNode\n\n    if (isArray(patchList)) {\n        for (var i = 0; i < patchList.length; i++) {\n            newNode = patchOp(patchList[i], domNode, renderOptions)\n\n            if (domNode === rootNode) {\n                rootNode = newNode\n            }\n        }\n    } else {\n        newNode = patchOp(patchList, domNode, renderOptions)\n\n        if (domNode === rootNode) {\n            rootNode = newNode\n        }\n    }\n\n    return rootNode\n}\n\nfunction patchIndices(patches) {\n    var indices = []\n\n    for (var key in patches) {\n        if (key !== \"a\") {\n            indices.push(Number(key))\n        }\n    }\n\n    return indices\n}\n","var isWidget = require(\"../vnode/is-widget.js\")\n\nmodule.exports = updateWidget\n\nfunction updateWidget(a, b) {\n    if (isWidget(a) && isWidget(b)) {\n        if (\"name\" in a && \"name\" in b) {\n            return a.id === b.id\n        } else {\n            return a.init === b.init\n        }\n    }\n\n    return false\n}\n","'use strict';\n\nvar EvStore = require('ev-store');\n\nmodule.exports = EvHook;\n\nfunction EvHook(value) {\n    if (!(this instanceof EvHook)) {\n        return new EvHook(value);\n    }\n\n    this.value = value;\n}\n\nEvHook.prototype.hook = function (node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = this.value;\n};\n\nEvHook.prototype.unhook = function(node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = undefined;\n};\n","'use strict';\n\nmodule.exports = SoftSetHook;\n\nfunction SoftSetHook(value) {\n    if (!(this instanceof SoftSetHook)) {\n        return new SoftSetHook(value);\n    }\n\n    this.value = value;\n}\n\nSoftSetHook.prototype.hook = function (node, propertyName) {\n    if (node[propertyName] !== this.value) {\n        node[propertyName] = this.value;\n    }\n};\n","'use strict';\n\nvar isArray = require('x-is-array');\n\nvar VNode = require('../vnode/vnode.js');\nvar VText = require('../vnode/vtext.js');\nvar isVNode = require('../vnode/is-vnode');\nvar isVText = require('../vnode/is-vtext');\nvar isWidget = require('../vnode/is-widget');\nvar isHook = require('../vnode/is-vhook');\nvar isVThunk = require('../vnode/is-thunk');\n\nvar parseTag = require('./parse-tag.js');\nvar softSetHook = require('./hooks/soft-set-hook.js');\nvar evHook = require('./hooks/ev-hook.js');\n\nmodule.exports = h;\n\nfunction h(tagName, properties, children) {\n    var childNodes = [];\n    var tag, props, key, namespace;\n\n    if (!children && isChildren(properties)) {\n        children = properties;\n        props = {};\n    }\n\n    props = props || properties || {};\n    tag = parseTag(tagName, props);\n\n    // support keys\n    if (props.hasOwnProperty('key')) {\n        key = props.key;\n        props.key = undefined;\n    }\n\n    // support namespace\n    if (props.hasOwnProperty('namespace')) {\n        namespace = props.namespace;\n        props.namespace = undefined;\n    }\n\n    // fix cursor bug\n    if (tag === 'INPUT' &&\n        !namespace &&\n        props.hasOwnProperty('value') &&\n        props.value !== undefined &&\n        !isHook(props.value)\n    ) {\n        props.value = softSetHook(props.value);\n    }\n\n    transformProperties(props);\n\n    if (children !== undefined && children !== null) {\n        addChild(children, childNodes, tag, props);\n    }\n\n\n    return new VNode(tag, props, childNodes, key, namespace);\n}\n\nfunction addChild(c, childNodes, tag, props) {\n    if (typeof c === 'string') {\n        childNodes.push(new VText(c));\n    } else if (typeof c === 'number') {\n        childNodes.push(new VText(String(c)));\n    } else if (isChild(c)) {\n        childNodes.push(c);\n    } else if (isArray(c)) {\n        for (var i = 0; i < c.length; i++) {\n            addChild(c[i], childNodes, tag, props);\n        }\n    } else if (c === null || c === undefined) {\n        return;\n    } else {\n        throw UnexpectedVirtualElement({\n            foreignObject: c,\n            parentVnode: {\n                tagName: tag,\n                properties: props\n            }\n        });\n    }\n}\n\nfunction transformProperties(props) {\n    for (var propName in props) {\n        if (props.hasOwnProperty(propName)) {\n            var value = props[propName];\n\n            if (isHook(value)) {\n                continue;\n            }\n\n            if (propName.substr(0, 3) === 'ev-') {\n                // add ev-foo support\n                props[propName] = evHook(value);\n            }\n        }\n    }\n}\n\nfunction isChild(x) {\n    return isVNode(x) || isVText(x) || isWidget(x) || isVThunk(x);\n}\n\nfunction isChildren(x) {\n    return typeof x === 'string' || isArray(x) || isChild(x);\n}\n\nfunction UnexpectedVirtualElement(data) {\n    var err = new Error();\n\n    err.type = 'virtual-hyperscript.unexpected.virtual-element';\n    err.message = 'Unexpected virtual child passed to h().\\n' +\n        'Expected a VNode / Vthunk / VWidget / string but:\\n' +\n        'got:\\n' +\n        errorString(data.foreignObject) +\n        '.\\n' +\n        'The parent vnode is:\\n' +\n        errorString(data.parentVnode)\n        '\\n' +\n        'Suggested fix: change your `h(..., [ ... ])` callsite.';\n    err.foreignObject = data.foreignObject;\n    err.parentVnode = data.parentVnode;\n\n    return err;\n}\n\nfunction errorString(obj) {\n    try {\n        return JSON.stringify(obj, null, '    ');\n    } catch (e) {\n        return String(obj);\n    }\n}\n","'use strict';\n\nvar split = require('browser-split');\n\nvar classIdSplit = /([\\.#]?[a-zA-Z0-9\\u007F-\\uFFFF_:-]+)/;\nvar notClassId = /^\\.|#/;\n\nmodule.exports = parseTag;\n\nfunction parseTag(tag, props) {\n    if (!tag) {\n        return 'DIV';\n    }\n\n    var noId = !(props.hasOwnProperty('id'));\n\n    var tagParts = split(tag, classIdSplit);\n    var tagName = null;\n\n    if (notClassId.test(tagParts[1])) {\n        tagName = 'DIV';\n    }\n\n    var classes, part, type, i;\n\n    for (i = 0; i < tagParts.length; i++) {\n        part = tagParts[i];\n\n        if (!part) {\n            continue;\n        }\n\n        type = part.charAt(0);\n\n        if (!tagName) {\n            tagName = part;\n        } else if (type === '.') {\n            classes = classes || [];\n            classes.push(part.substring(1, part.length));\n        } else if (type === '#' && noId) {\n            props.id = part.substring(1, part.length);\n        }\n    }\n\n    if (classes) {\n        if (props.className) {\n            classes.push(props.className);\n        }\n\n        props.className = classes.join(' ');\n    }\n\n    return props.namespace ? tagName : tagName.toUpperCase();\n}\n","var isVNode = require(\"./is-vnode\")\nvar isVText = require(\"./is-vtext\")\nvar isWidget = require(\"./is-widget\")\nvar isThunk = require(\"./is-thunk\")\n\nmodule.exports = handleThunk\n\nfunction handleThunk(a, b) {\n    var renderedA = a\n    var renderedB = b\n\n    if (isThunk(b)) {\n        renderedB = renderThunk(b, a)\n    }\n\n    if (isThunk(a)) {\n        renderedA = renderThunk(a, null)\n    }\n\n    return {\n        a: renderedA,\n        b: renderedB\n    }\n}\n\nfunction renderThunk(thunk, previous) {\n    var renderedThunk = thunk.vnode\n\n    if (!renderedThunk) {\n        renderedThunk = thunk.vnode = thunk.render(previous)\n    }\n\n    if (!(isVNode(renderedThunk) ||\n            isVText(renderedThunk) ||\n            isWidget(renderedThunk))) {\n        throw new Error(\"thunk did not return a valid node\");\n    }\n\n    return renderedThunk\n}\n","module.exports = isThunk\r\n\r\nfunction isThunk(t) {\r\n    return t && t.type === \"Thunk\"\r\n}\r\n","module.exports = isHook\n\nfunction isHook(hook) {\n    return hook &&\n      (typeof hook.hook === \"function\" && !hook.hasOwnProperty(\"hook\") ||\n       typeof hook.unhook === \"function\" && !hook.hasOwnProperty(\"unhook\"))\n}\n","var version = require(\"./version\")\n\nmodule.exports = isVirtualNode\n\nfunction isVirtualNode(x) {\n    return x && x.type === \"VirtualNode\" && x.version === version\n}\n","var version = require(\"./version\")\n\nmodule.exports = isVirtualText\n\nfunction isVirtualText(x) {\n    return x && x.type === \"VirtualText\" && x.version === version\n}\n","module.exports = isWidget\n\nfunction isWidget(w) {\n    return w && w.type === \"Widget\"\n}\n","module.exports = \"2\"\n","var version = require(\"./version\")\nvar isVNode = require(\"./is-vnode\")\nvar isWidget = require(\"./is-widget\")\nvar isThunk = require(\"./is-thunk\")\nvar isVHook = require(\"./is-vhook\")\n\nmodule.exports = VirtualNode\n\nvar noProperties = {}\nvar noChildren = []\n\nfunction VirtualNode(tagName, properties, children, key, namespace) {\n    this.tagName = tagName\n    this.properties = properties || noProperties\n    this.children = children || noChildren\n    this.key = key != null ? String(key) : undefined\n    this.namespace = (typeof namespace === \"string\") ? namespace : null\n\n    var count = (children && children.length) || 0\n    var descendants = 0\n    var hasWidgets = false\n    var hasThunks = false\n    var descendantHooks = false\n    var hooks\n\n    for (var propName in properties) {\n        if (properties.hasOwnProperty(propName)) {\n            var property = properties[propName]\n            if (isVHook(property) && property.unhook) {\n                if (!hooks) {\n                    hooks = {}\n                }\n\n                hooks[propName] = property\n            }\n        }\n    }\n\n    for (var i = 0; i < count; i++) {\n        var child = children[i]\n        if (isVNode(child)) {\n            descendants += child.count || 0\n\n            if (!hasWidgets && child.hasWidgets) {\n                hasWidgets = true\n            }\n\n            if (!hasThunks && child.hasThunks) {\n                hasThunks = true\n            }\n\n            if (!descendantHooks && (child.hooks || child.descendantHooks)) {\n                descendantHooks = true\n            }\n        } else if (!hasWidgets && isWidget(child)) {\n            if (typeof child.destroy === \"function\") {\n                hasWidgets = true\n            }\n        } else if (!hasThunks && isThunk(child)) {\n            hasThunks = true;\n        }\n    }\n\n    this.count = count + descendants\n    this.hasWidgets = hasWidgets\n    this.hasThunks = hasThunks\n    this.hooks = hooks\n    this.descendantHooks = descendantHooks\n}\n\nVirtualNode.prototype.version = version\nVirtualNode.prototype.type = \"VirtualNode\"\n","var version = require(\"./version\")\n\nVirtualPatch.NONE = 0\nVirtualPatch.VTEXT = 1\nVirtualPatch.VNODE = 2\nVirtualPatch.WIDGET = 3\nVirtualPatch.PROPS = 4\nVirtualPatch.ORDER = 5\nVirtualPatch.INSERT = 6\nVirtualPatch.REMOVE = 7\nVirtualPatch.THUNK = 8\n\nmodule.exports = VirtualPatch\n\nfunction VirtualPatch(type, vNode, patch) {\n    this.type = Number(type)\n    this.vNode = vNode\n    this.patch = patch\n}\n\nVirtualPatch.prototype.version = version\nVirtualPatch.prototype.type = \"VirtualPatch\"\n","var version = require(\"./version\")\n\nmodule.exports = VirtualText\n\nfunction VirtualText(text) {\n    this.text = String(text)\n}\n\nVirtualText.prototype.version = version\nVirtualText.prototype.type = \"VirtualText\"\n","var isObject = require(\"is-object\")\nvar isHook = require(\"../vnode/is-vhook\")\n\nmodule.exports = diffProps\n\nfunction diffProps(a, b) {\n    var diff\n\n    for (var aKey in a) {\n        if (!(aKey in b)) {\n            diff = diff || {}\n            diff[aKey] = undefined\n        }\n\n        var aValue = a[aKey]\n        var bValue = b[aKey]\n\n        if (aValue === bValue) {\n            continue\n        } else if (isObject(aValue) && isObject(bValue)) {\n            if (getPrototype(bValue) !== getPrototype(aValue)) {\n                diff = diff || {}\n                diff[aKey] = bValue\n            } else if (isHook(bValue)) {\n                 diff = diff || {}\n                 diff[aKey] = bValue\n            } else {\n                var objectDiff = diffProps(aValue, bValue)\n                if (objectDiff) {\n                    diff = diff || {}\n                    diff[aKey] = objectDiff\n                }\n            }\n        } else {\n            diff = diff || {}\n            diff[aKey] = bValue\n        }\n    }\n\n    for (var bKey in b) {\n        if (!(bKey in a)) {\n            diff = diff || {}\n            diff[bKey] = b[bKey]\n        }\n    }\n\n    return diff\n}\n\nfunction getPrototype(value) {\n  if (Object.getPrototypeOf) {\n    return Object.getPrototypeOf(value)\n  } else if (value.__proto__) {\n    return value.__proto__\n  } else if (value.constructor) {\n    return value.constructor.prototype\n  }\n}\n","var isArray = require(\"x-is-array\")\n\nvar VPatch = require(\"../vnode/vpatch\")\nvar isVNode = require(\"../vnode/is-vnode\")\nvar isVText = require(\"../vnode/is-vtext\")\nvar isWidget = require(\"../vnode/is-widget\")\nvar isThunk = require(\"../vnode/is-thunk\")\nvar handleThunk = require(\"../vnode/handle-thunk\")\n\nvar diffProps = require(\"./diff-props\")\n\nmodule.exports = diff\n\nfunction diff(a, b) {\n    var patch = { a: a }\n    walk(a, b, patch, 0)\n    return patch\n}\n\nfunction walk(a, b, patch, index) {\n    if (a === b) {\n        return\n    }\n\n    var apply = patch[index]\n    var applyClear = false\n\n    if (isThunk(a) || isThunk(b)) {\n        thunks(a, b, patch, index)\n    } else if (b == null) {\n\n        // If a is a widget we will add a remove patch for it\n        // Otherwise any child widgets/hooks must be destroyed.\n        // This prevents adding two remove patches for a widget.\n        if (!isWidget(a)) {\n            clearState(a, patch, index)\n            apply = patch[index]\n        }\n\n        apply = appendPatch(apply, new VPatch(VPatch.REMOVE, a, b))\n    } else if (isVNode(b)) {\n        if (isVNode(a)) {\n            if (a.tagName === b.tagName &&\n                a.namespace === b.namespace &&\n                a.key === b.key) {\n                var propsPatch = diffProps(a.properties, b.properties)\n                if (propsPatch) {\n                    apply = appendPatch(apply,\n                        new VPatch(VPatch.PROPS, a, propsPatch))\n                }\n                apply = diffChildren(a, b, patch, apply, index)\n            } else {\n                apply = appendPatch(apply, new VPatch(VPatch.VNODE, a, b))\n                applyClear = true\n            }\n        } else {\n            apply = appendPatch(apply, new VPatch(VPatch.VNODE, a, b))\n            applyClear = true\n        }\n    } else if (isVText(b)) {\n        if (!isVText(a)) {\n            apply = appendPatch(apply, new VPatch(VPatch.VTEXT, a, b))\n            applyClear = true\n        } else if (a.text !== b.text) {\n            apply = appendPatch(apply, new VPatch(VPatch.VTEXT, a, b))\n        }\n    } else if (isWidget(b)) {\n        if (!isWidget(a)) {\n            applyClear = true\n        }\n\n        apply = appendPatch(apply, new VPatch(VPatch.WIDGET, a, b))\n    }\n\n    if (apply) {\n        patch[index] = apply\n    }\n\n    if (applyClear) {\n        clearState(a, patch, index)\n    }\n}\n\nfunction diffChildren(a, b, patch, apply, index) {\n    var aChildren = a.children\n    var orderedSet = reorder(aChildren, b.children)\n    var bChildren = orderedSet.children\n\n    var aLen = aChildren.length\n    var bLen = bChildren.length\n    var len = aLen > bLen ? aLen : bLen\n\n    for (var i = 0; i < len; i++) {\n        var leftNode = aChildren[i]\n        var rightNode = bChildren[i]\n        index += 1\n\n        if (!leftNode) {\n            if (rightNode) {\n                // Excess nodes in b need to be added\n                apply = appendPatch(apply,\n                    new VPatch(VPatch.INSERT, null, rightNode))\n            }\n        } else {\n            walk(leftNode, rightNode, patch, index)\n        }\n\n        if (isVNode(leftNode) && leftNode.count) {\n            index += leftNode.count\n        }\n    }\n\n    if (orderedSet.moves) {\n        // Reorder nodes last\n        apply = appendPatch(apply, new VPatch(\n            VPatch.ORDER,\n            a,\n            orderedSet.moves\n        ))\n    }\n\n    return apply\n}\n\nfunction clearState(vNode, patch, index) {\n    // TODO: Make this a single walk, not two\n    unhook(vNode, patch, index)\n    destroyWidgets(vNode, patch, index)\n}\n\n// Patch records for all destroyed widgets must be added because we need\n// a DOM node reference for the destroy function\nfunction destroyWidgets(vNode, patch, index) {\n    if (isWidget(vNode)) {\n        if (typeof vNode.destroy === \"function\") {\n            patch[index] = appendPatch(\n                patch[index],\n                new VPatch(VPatch.REMOVE, vNode, null)\n            )\n        }\n    } else if (isVNode(vNode) && (vNode.hasWidgets || vNode.hasThunks)) {\n        var children = vNode.children\n        var len = children.length\n        for (var i = 0; i < len; i++) {\n            var child = children[i]\n            index += 1\n\n            destroyWidgets(child, patch, index)\n\n            if (isVNode(child) && child.count) {\n                index += child.count\n            }\n        }\n    } else if (isThunk(vNode)) {\n        thunks(vNode, null, patch, index)\n    }\n}\n\n// Create a sub-patch for thunks\nfunction thunks(a, b, patch, index) {\n    var nodes = handleThunk(a, b)\n    var thunkPatch = diff(nodes.a, nodes.b)\n    if (hasPatches(thunkPatch)) {\n        patch[index] = new VPatch(VPatch.THUNK, null, thunkPatch)\n    }\n}\n\nfunction hasPatches(patch) {\n    for (var index in patch) {\n        if (index !== \"a\") {\n            return true\n        }\n    }\n\n    return false\n}\n\n// Execute hooks when two nodes are identical\nfunction unhook(vNode, patch, index) {\n    if (isVNode(vNode)) {\n        if (vNode.hooks) {\n            patch[index] = appendPatch(\n                patch[index],\n                new VPatch(\n                    VPatch.PROPS,\n                    vNode,\n                    undefinedKeys(vNode.hooks)\n                )\n            )\n        }\n\n        if (vNode.descendantHooks || vNode.hasThunks) {\n            var children = vNode.children\n            var len = children.length\n            for (var i = 0; i < len; i++) {\n                var child = children[i]\n                index += 1\n\n                unhook(child, patch, index)\n\n                if (isVNode(child) && child.count) {\n                    index += child.count\n                }\n            }\n        }\n    } else if (isThunk(vNode)) {\n        thunks(vNode, null, patch, index)\n    }\n}\n\nfunction undefinedKeys(obj) {\n    var result = {}\n\n    for (var key in obj) {\n        result[key] = undefined\n    }\n\n    return result\n}\n\n// List diff, naive left to right reordering\nfunction reorder(aChildren, bChildren) {\n    // O(M) time, O(M) memory\n    var bChildIndex = keyIndex(bChildren)\n    var bKeys = bChildIndex.keys\n    var bFree = bChildIndex.free\n\n    if (bFree.length === bChildren.length) {\n        return {\n            children: bChildren,\n            moves: null\n        }\n    }\n\n    // O(N) time, O(N) memory\n    var aChildIndex = keyIndex(aChildren)\n    var aKeys = aChildIndex.keys\n    var aFree = aChildIndex.free\n\n    if (aFree.length === aChildren.length) {\n        return {\n            children: bChildren,\n            moves: null\n        }\n    }\n\n    // O(MAX(N, M)) memory\n    var newChildren = []\n\n    var freeIndex = 0\n    var freeCount = bFree.length\n    var deletedItems = 0\n\n    // Iterate through a and match a node in b\n    // O(N) time,\n    for (var i = 0 ; i < aChildren.length; i++) {\n        var aItem = aChildren[i]\n        var itemIndex\n\n        if (aItem.key) {\n            if (bKeys.hasOwnProperty(aItem.key)) {\n                // Match up the old keys\n                itemIndex = bKeys[aItem.key]\n                newChildren.push(bChildren[itemIndex])\n\n            } else {\n                // Remove old keyed items\n                itemIndex = i - deletedItems++\n                newChildren.push(null)\n            }\n        } else {\n            // Match the item in a with the next free item in b\n            if (freeIndex < freeCount) {\n                itemIndex = bFree[freeIndex++]\n                newChildren.push(bChildren[itemIndex])\n            } else {\n                // There are no free items in b to match with\n                // the free items in a, so the extra free nodes\n                // are deleted.\n                itemIndex = i - deletedItems++\n                newChildren.push(null)\n            }\n        }\n    }\n\n    var lastFreeIndex = freeIndex >= bFree.length ?\n        bChildren.length :\n        bFree[freeIndex]\n\n    // Iterate through b and append any new keys\n    // O(M) time\n    for (var j = 0; j < bChildren.length; j++) {\n        var newItem = bChildren[j]\n\n        if (newItem.key) {\n            if (!aKeys.hasOwnProperty(newItem.key)) {\n                // Add any new keyed items\n                // We are adding new items to the end and then sorting them\n                // in place. In future we should insert new items in place.\n                newChildren.push(newItem)\n            }\n        } else if (j >= lastFreeIndex) {\n            // Add any leftover non-keyed items\n            newChildren.push(newItem)\n        }\n    }\n\n    var simulate = newChildren.slice()\n    var simulateIndex = 0\n    var removes = []\n    var inserts = []\n    var simulateItem\n\n    for (var k = 0; k < bChildren.length;) {\n        var wantedItem = bChildren[k]\n        simulateItem = simulate[simulateIndex]\n\n        // remove items\n        while (simulateItem === null && simulate.length) {\n            removes.push(remove(simulate, simulateIndex, null))\n            simulateItem = simulate[simulateIndex]\n        }\n\n        if (!simulateItem || simulateItem.key !== wantedItem.key) {\n            // if we need a key in this position...\n            if (wantedItem.key) {\n                if (simulateItem && simulateItem.key) {\n                    // if an insert doesn't put this key in place, it needs to move\n                    if (bKeys[simulateItem.key] !== k + 1) {\n                        removes.push(remove(simulate, simulateIndex, simulateItem.key))\n                        simulateItem = simulate[simulateIndex]\n                        // if the remove didn't put the wanted item in place, we need to insert it\n                        if (!simulateItem || simulateItem.key !== wantedItem.key) {\n                            inserts.push({key: wantedItem.key, to: k})\n                        }\n                        // items are matching, so skip ahead\n                        else {\n                            simulateIndex++\n                        }\n                    }\n                    else {\n                        inserts.push({key: wantedItem.key, to: k})\n                    }\n                }\n                else {\n                    inserts.push({key: wantedItem.key, to: k})\n                }\n                k++\n            }\n            // a key in simulate has no matching wanted key, remove it\n            else if (simulateItem && simulateItem.key) {\n                removes.push(remove(simulate, simulateIndex, simulateItem.key))\n            }\n        }\n        else {\n            simulateIndex++\n            k++\n        }\n    }\n\n    // remove all the remaining nodes from simulate\n    while(simulateIndex < simulate.length) {\n        simulateItem = simulate[simulateIndex]\n        removes.push(remove(simulate, simulateIndex, simulateItem && simulateItem.key))\n    }\n\n    // If the only moves we have are deletes then we can just\n    // let the delete patch remove these items.\n    if (removes.length === deletedItems && !inserts.length) {\n        return {\n            children: newChildren,\n            moves: null\n        }\n    }\n\n    return {\n        children: newChildren,\n        moves: {\n            removes: removes,\n            inserts: inserts\n        }\n    }\n}\n\nfunction remove(arr, index, key) {\n    arr.splice(index, 1)\n\n    return {\n        from: index,\n        key: key\n    }\n}\n\nfunction keyIndex(children) {\n    var keys = {}\n    var free = []\n    var length = children.length\n\n    for (var i = 0; i < length; i++) {\n        var child = children[i]\n\n        if (child.key) {\n            keys[child.key] = i\n        } else {\n            free.push(i)\n        }\n    }\n\n    return {\n        keys: keys,     // A hash of key name to index\n        free: free      // An array of unkeyed item indices\n    }\n}\n\nfunction appendPatch(apply, patch) {\n    if (apply) {\n        if (isArray(apply)) {\n            apply.push(patch)\n        } else {\n            apply = [apply, patch]\n        }\n\n        return apply\n    } else {\n        return patch\n    }\n}\n","var nativeIsArray = Array.isArray\nvar toString = Object.prototype.toString\n\nmodule.exports = nativeIsArray || isArray\n\nfunction isArray(obj) {\n    return toString.call(obj) === \"[object Array]\"\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Action as BaseAction } from '@action-streams/core';\nimport { LocationAction } from '@action-streams/location';\nimport { StorageAction } from '@action-streams/storage';\n\nimport { ID, Item } from '/state';\n\nexport const InputActionType = 'input';\nexport interface InputAction extends BaseAction {\n  payload: string;\n  type: typeof InputActionType;\n}\n\nexport const ItemAddActionType = 'item-add';\nexport interface ItemAddAction extends BaseAction {\n  payload: string;\n  type: typeof ItemAddActionType;\n}\n\nexport const ItemEditActionType = 'item-edit';\nexport interface ItemEditAction extends BaseAction {\n  payload: Item;\n  type: typeof ItemEditActionType;\n}\n\nexport const ItemInputActionType = 'item-input';\nexport interface ItemInputAction extends BaseAction {\n  payload: string;\n  type: typeof ItemInputActionType;\n}\n\nexport const ItemRemoveActionType = 'item-remove';\nexport interface ItemRemoveAction extends BaseAction {\n  meta: ID;\n  type: typeof ItemRemoveActionType;\n}\n\nexport const ItemUpdateActionType = 'item-update';\nexport interface ItemUpdateAction extends BaseAction {\n  meta: ID;\n  payload: string;\n  type: typeof ItemUpdateActionType;\n}\n\nexport const ItemToggleActionType = 'item-toggle';\nexport interface ItemToggleAction extends BaseAction {\n  meta: ID;\n  payload: boolean;\n  type: typeof ItemToggleActionType;\n}\n\nexport const ItemsRemoveActionType = 'items-remove';\nexport interface ItemsRemoveAction extends BaseAction {\n  meta: ID[];\n  type: typeof ItemsRemoveActionType;\n}\n\nexport const ItemsToggleActionType = 'items-toggle';\nexport interface ItemsToggleAction extends BaseAction {\n  payload: boolean;\n  type: typeof ItemsToggleActionType;\n}\n\nexport type Action =\n  | InputAction\n  | ItemAddAction\n  | ItemEditAction\n  | ItemInputAction\n  | ItemRemoveAction\n  | ItemUpdateAction\n  | ItemToggleAction\n  | ItemsRemoveAction\n  | ItemsToggleAction\n  | LocationAction\n  | StorageAction;\n","import { combineReducers } from '@action-streams/state';\n\nimport { State } from '/state';\n\nimport focusedElementId from './focusedElementId';\nimport input from './input';\nimport items from './items';\nimport view from './view';\n\nexport default combineReducers<State>({\n  focusedElementId,\n  input,\n  items,\n  view,\n});\n","import { Action, ItemEditActionType } from '/action';\n\nexport default (_: string, action: Action): string => {\n  switch (action.type) {\n    case ItemEditActionType:\n      return action.meta ? `${action.meta}__input` : null;\n    default:\n      return null;\n  }\n};\n","import { Action, InputActionType, ItemAddActionType } from '/action';\n\nexport default (state: string, action: Action): string => {\n  switch (action.type) {\n    case InputActionType:\n      return action.payload;\n    case ItemAddActionType:\n      return '';\n    default:\n      return state;\n  }\n};\n","import { StorageActionType } from '@action-streams/storage';\n\nimport {\n  Action,\n  ItemAddActionType,\n  ItemEditActionType,\n  ItemRemoveActionType,\n  ItemInputActionType,\n  ItemToggleActionType,\n  ItemUpdateActionType,\n  ItemsRemoveActionType,\n  ItemsToggleActionType,\n} from '/action';\nimport { Item, State } from '/state';\n\nexport default (state: Item[], action: Action): Item[] => {\n  switch (action.type) {\n    case ItemAddActionType:\n      return [\n        ...state,\n        {\n          id: new Date().getTime(),\n          input: null,\n          isCompleted: false,\n          isEditing: false,\n          title: action.payload,\n        },\n      ];\n    case ItemEditActionType:\n      return state.map((item) => ({\n        ...item,\n        input: item.id === action.meta ? item.title : item.input,\n        isEditing: item.id === action.meta,\n      }));\n    case ItemInputActionType:\n      return state.map((item) => {\n        if (item.id === action.meta) {\n          return {\n            ...item,\n            input: action.payload,\n          };\n        }\n\n        return item;\n      });\n    case ItemRemoveActionType:\n      return state.filter((item) => item.id !== action.meta);\n    case ItemToggleActionType:\n      return state.map((item) => {\n        if (item.id === action.meta) {\n          return {\n            ...item,\n            isCompleted: action.payload,\n          };\n        }\n\n        return item;\n      });\n    case ItemUpdateActionType:\n      return state.map((item) => {\n        if (item.id === action.meta && item.isEditing) {\n          return {\n            ...item,\n            input: null,\n            isEditing: false,\n            title: action.payload,\n          };\n        }\n\n        return item;\n      });\n    case ItemsRemoveActionType:\n      return state.filter((item) => !action.meta.includes(item.id));\n    case ItemsToggleActionType:\n      return state.map((item) => ({\n        ...item,\n        isCompleted: action.payload,\n      }));\n    case StorageActionType:\n      return (action.payload as Pick<State, 'items'>)?.items ?? state;\n    default:\n      return state;\n  }\n};\n","import { LocationActionType } from '@action-streams/location';\n\nimport { Action } from '/action';\nimport { View } from '/state';\n\nexport default (state: View, action: Action): View => {\n  switch (action.type) {\n    case LocationActionType:\n      switch (action.payload.pathname) {\n        case '/active':\n          return View.Active;\n        case '/completed':\n          return View.Completed;\n        default:\n          return View.All;\n      }\n    default:\n      return state;\n  }\n};\n","import { Action as BaseAction } from '@action-streams/core';\n\nimport { Action } from '/action';\n\nimport reducer from './reducer';\n\nexport type ID = number;\n\nexport interface Item {\n  id: ID;\n  input: string;\n  isCompleted: boolean;\n  isEditing: boolean;\n  title: string;\n}\n\nexport enum View {\n  All = 'all',\n  Active = 'active',\n  Completed = 'completed',\n}\n\nexport interface State {\n  focusedElementId: string;\n  input: string;\n  items: Item[];\n  view: View;\n}\n\nexport const StateActionType = '/state';\nexport interface StateAction extends BaseAction {\n  payload: State;\n  type: typeof StateActionType;\n}\n\nexport const INITIAL_STATE_ACTION: StateAction = {\n  payload: {\n    focusedElementId: 'new-todo__input',\n    input: '',\n    items: [],\n    view: View.All,\n  },\n  type: StateActionType,\n};\n\nexport const toState = (\n  { payload: prevState }: StateAction,\n  action: Action\n): StateAction => {\n  const state: State = reducer(prevState, action);\n\n  if (process.env.MODE === 'development') {\n    console.groupCollapsed(action.type);\n    console.info('action', action);\n    console.info('state', state);\n    console.groupEnd();\n  }\n\n  return {\n    payload: state,\n    type: StateActionType,\n  };\n};\n","function toVal(mix) {\n\tvar k, y, str='';\n\n\tif (typeof mix === 'string' || typeof mix === 'number') {\n\t\tstr += mix;\n\t} else if (typeof mix === 'object') {\n\t\tif (Array.isArray(mix)) {\n\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tif (y = toVal(mix[k])) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor (k in mix) {\n\t\t\t\tif (mix[k]) {\n\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\tstr += k;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, tmp, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (tmp = arguments[i++]) {\n\t\t\tif (x = toVal(tmp)) {\n\t\t\t\tstr && (str += ' ');\n\t\t\t\tstr += x\n\t\t\t}\n\t\t}\n\t}\n\treturn str;\n}\n","import { Item } from '/state';\n\nexport const isActive = (item: Item): boolean => !item.isCompleted;\nexport const isCompleted = (item: Item): boolean => item.isCompleted;\n","import api from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../node_modules/css-loader/dist/cjs.js!./styles.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { createAction } from '@action-streams/core';\nimport { jsx, Vdom, VdomAction, VdomActionType } from '@action-streams/vdom';\nimport clsx from 'clsx';\n\nimport {\n  InputActionType,\n  ItemAddActionType,\n  ItemEditActionType,\n  ItemInputActionType,\n  ItemRemoveActionType,\n  ItemToggleActionType,\n  ItemUpdateActionType,\n  ItemsRemoveActionType,\n  ItemsToggleActionType,\n} from '/action';\nimport { StateAction, View } from '/state';\nimport { isActive, isCompleted } from '/utils';\n\nimport '/styles.css';\n\nconst ENTER_KEY = 'Enter';\nconst ESCAPE_KEY = 'Escape';\nconst MAX_LENGTH = 255;\n\nexport const toVdom = (action: StateAction): VdomAction => {\n  const state = action.payload;\n\n  const activeItems = state.items.filter(isActive);\n  const completedItems = state.items.filter(isCompleted);\n  const filteredItems = state.items.filter((item) => {\n    switch (state.view) {\n      case View.Active:\n        return isActive(item);\n      case View.Completed:\n        return isCompleted(item);\n      default:\n        return true;\n    }\n  });\n\n  const vdom: Vdom = (\n    <section className=\"todoapp\">\n      {[\n        <header className=\"header\">\n          {[\n            <h1>todos</h1>,\n            <input\n              autofocus={true}\n              className=\"new-todo\"\n              focused={state.focusedElementId === 'new-todo__input'}\n              id=\"new-todo__input\"\n              maxLength={MAX_LENGTH}\n              onblur={(event: FocusEvent) => {\n                const value = (event.target as HTMLInputElement).value.trim();\n\n                if (value) {\n                  createAction({\n                    payload: value,\n                    type: ItemAddActionType,\n                  });\n                }\n              }}\n              oninput={(event: InputEvent) => {\n                const value = (event.target as HTMLInputElement).value;\n\n                createAction({\n                  payload: value,\n                  type: InputActionType,\n                });\n              }}\n              onkeydown={(event: KeyboardEvent) => {\n                const value = (event.target as HTMLInputElement).value.trim();\n\n                if (event.key === ENTER_KEY && value) {\n                  createAction({\n                    payload: value,\n                    type: ItemAddActionType,\n                  });\n                }\n              }}\n              placeholder=\"What needs to be done?\"\n              value={state.input}\n            />,\n          ]}\n        </header>,\n        <div className=\"main\" hidden={state.items.length === 0}>\n          {[\n            <input\n              checked={activeItems.length === 0}\n              className=\"toggle-all\"\n              id=\"toggle-all\"\n              onchange={() => {\n                createAction({\n                  payload: activeItems.length !== 0,\n                  type: ItemsToggleActionType,\n                });\n              }}\n              type=\"checkbox\"\n            />,\n            <label htmlFor=\"toggle-all\">Mark all as complete</label>,\n            <ul className=\"todo-list\">\n              {filteredItems.map((item) => (\n                <li\n                  className={clsx({\n                    completed: item.isCompleted,\n                    editing: item.isEditing,\n                  })}\n                  dataId={item.id}\n                >\n                  {[\n                    <div className=\"view\">\n                      {[\n                        <input\n                          className=\"toggle\"\n                          checked={item.isCompleted}\n                          onchange={() => {\n                            createAction({\n                              meta: item.id,\n                              payload: !item.isCompleted,\n                              type: ItemToggleActionType,\n                            });\n                          }}\n                          type=\"checkbox\"\n                        />,\n                        <label\n                          ondblclick={() => {\n                            createAction({\n                              meta: item.id,\n                              type: ItemEditActionType,\n                            });\n                          }}\n                        >\n                          {item.title}\n                        </label>,\n                        <button\n                          className=\"destroy\"\n                          onclick={() => {\n                            createAction({\n                              meta: item.id,\n                              type: ItemRemoveActionType,\n                            });\n                          }}\n                          type=\"button\"\n                        />,\n                      ]}\n                    </div>,\n                    <input\n                      className=\"edit\"\n                      focused={state.focusedElementId === `${item.id}__input`}\n                      hidden={!item.isEditing}\n                      id={`${item.id}__input`}\n                      onblur={(event: FocusEvent) => {\n                        const value = (event.target as HTMLInputElement).value.trim();\n\n                        if (value) {\n                          createAction({\n                            meta: item.id,\n                            payload: value,\n                            type: ItemUpdateActionType,\n                          });\n                        } else {\n                          createAction({\n                            meta: item.id,\n                            type: ItemRemoveActionType,\n                          });\n                        }\n                      }}\n                      oninput={(event: InputEvent) => {\n                        const value = (event.target as HTMLInputElement).value;\n\n                        createAction({\n                          meta: item.id,\n                          payload: value,\n                          type: ItemInputActionType,\n                        });\n                      }}\n                      onkeydown={(event: KeyboardEvent) => {\n                        switch (event.key) {\n                          case ENTER_KEY:\n                            {\n                              const value = (event.target as HTMLInputElement).value.trim();\n\n                              if (value) {\n                                createAction({\n                                  meta: item.id,\n                                  payload: value,\n                                  type: ItemUpdateActionType,\n                                });\n                              } else {\n                                createAction({\n                                  meta: item.id,\n                                  type: ItemRemoveActionType,\n                                });\n                              }\n                            }\n                            break;\n                          case ESCAPE_KEY:\n                            createAction({\n                              meta: null,\n                              type: ItemEditActionType,\n                            });\n                            break;\n                        }\n                      }}\n                      value={item.input}\n                    />,\n                  ]}\n                </li>\n              ))}\n            </ul>,\n          ]}\n        </div>,\n        <footer className=\"footer\" hidden={state.items.length === 0}>\n          {[\n            <span className=\"todo-count\">\n              {[\n                <strong>{activeItems.length}</strong>,\n                ` ${activeItems.length === 1 ? 'item' : 'items'} left`,\n              ]}\n            </span>,\n            <ul className=\"filters\">\n              {[\n                <li>\n                  <a\n                    className={clsx({\n                      selected: state.view === View.All,\n                    })}\n                    href=\"#/\"\n                  >\n                    All\n                  </a>\n                </li>,\n                <li>\n                  <a\n                    className={clsx({\n                      selected: state.view === View.Active,\n                    })}\n                    href=\"#/active\"\n                  >\n                    Active\n                  </a>\n                </li>,\n                <li>\n                  <a\n                    className={clsx({\n                      selected: state.view === View.Completed,\n                    })}\n                    href=\"#/completed\"\n                  >\n                    Completed\n                  </a>\n                </li>,\n              ]}\n            </ul>,\n            <button\n              className=\"clear-completed\"\n              hidden={completedItems.length === 0}\n              onclick={() => {\n                createAction({\n                  meta: completedItems.map((item) => item.id),\n                  type: ItemsRemoveActionType,\n                });\n              }}\n              type=\"button\"\n            >\n              Clear completed\n            </button>,\n          ]}\n        </footer>,\n      ]}\n    </section>\n  );\n\n  const vdomAction: VdomAction = {\n    payload: vdom,\n    type: VdomActionType,\n  };\n\n  return vdomAction;\n};\n","import { action$, bySuccess, scheduler } from '@action-streams/core';\nimport { location$ } from '@action-streams/location';\nimport { readFrom, writeTo } from '@action-streams/storage';\nimport { renderTo } from '@action-streams/vdom';\nimport {\n  continueWith,\n  filter,\n  map,\n  mergeArray,\n  multicast,\n  runEffects,\n  scan,\n  tap,\n} from '@most/core';\n\nimport { INITIAL_STATE_ACTION, toState } from '/state';\nimport { fromStorage, toStorage } from '/storage';\nimport { toVdom } from '/vdom';\n\nconst LOCALSTORAGE_KEY = 'todos-@action-streams';\n\nconst storageRead$ = filter(bySuccess, readFrom(LOCALSTORAGE_KEY));\nconst sources$ = continueWith(\n  () => mergeArray([action$, location$]),\n  map(fromStorage, storageRead$)\n);\nconst state$ = multicast(scan(toState, INITIAL_STATE_ACTION, sources$));\nconst storageWrite$ = tap(writeTo(LOCALSTORAGE_KEY), map(toStorage, state$));\nconst vdom$ = map(toVdom, state$);\nconst dom$ = tap(renderTo(document.getElementById('app')), vdom$);\n\nrunEffects(storageWrite$, scheduler);\nrunEffects(dom$, scheduler);\n","import { StorageAction, StorageActionType } from '@action-streams/storage';\n\nimport { Item, StateAction } from '/state';\n\ntype StorageItem = {\n  completed: Item['isCompleted'];\n  id: Item['id'];\n  title: Item['title'];\n};\n\nexport interface StorageState {\n  items: StorageItem[];\n}\n\nexport const fromStorage = (action: StorageAction): StorageAction => {\n  const storageAction: StorageAction = {\n    payload: {\n      items: (action.payload as StorageState)?.items.map(\n        (storageItem: StorageItem): Item => ({\n          id: storageItem.id,\n          input: null,\n          isCompleted: storageItem.completed,\n          isEditing: false,\n          title: storageItem.title,\n        })\n      ),\n    },\n    type: StorageActionType,\n  };\n\n  return storageAction;\n};\n\nexport const toStorage = (action: StateAction): StorageAction => {\n  const storageAction: StorageAction = {\n    payload: {\n      items: action.payload.items.map(\n        (item: Item): StorageItem => ({\n          completed: item.isCompleted,\n          id: item.id,\n          title: item.title,\n        })\n      ),\n    },\n    type: StorageActionType,\n  };\n\n  return storageAction;\n};\n"],"sourceRoot":""}